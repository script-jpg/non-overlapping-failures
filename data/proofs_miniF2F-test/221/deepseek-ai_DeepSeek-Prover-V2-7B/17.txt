have h₂ : p ^ (2 * n) = (2 ^ m) ^ (2 * n) := by rw [h₀]
  have h₃ : q ^ m = (3 ^ n) ^ m := by rw [h₁]
  have h₄ : (2 ^ m) ^ (2 * n) = 2 ^ (m * (2 * n)) := by
    rw [← Real.rpow_mul (by norm_num : (0 : ℝ) ≤ 2)] <;> ring_nf
  have h₅ : (3 ^ n) ^ m = 3 ^ (n * m) := by
    rw [← Real.rpow_mul (by norm_num : (0 : ℝ) ≤ 3)] <;> ring_nf
  have h₆ : 2 ^ (m * (2 * n)) * 3 ^ (n * m) = 12 ^ (m * n) := by
    rw [show (12 : ℝ) = 2 ^ 2 * 3 by norm_num]
    rw [← Real.rpow_mul (by norm_num : (0 : ℝ) ≤ 2)]
    rw [← Real.rpow_mul (by norm_num : (0 : ℝ) ≤ 3)]
    ring_nf
    <;> ring_nf
    <;> norm_num
    <;> ring_nf
  simp_all only [mul_assoc, mul_comm, mul_left_comm]
  <;> ring_nf
  <;> norm_num
  <;> linarith

theorem amc12a_2009_p6_key (m n p q : ℝ) (h₀ : p = 2 ^ m) (h₁ : q = 3 ^ n) :
    p ^ (2 * n) * q ^ m = 12 ^ (m * n) := by
  rw [h₀, h₁]
  simp [← Real.rpow_mul]
  <;> ring_nf
  <;> norm_cast
  <;> field_simp
  <;> ring_nf
  <;> norm_cast
  <;> linarith
```