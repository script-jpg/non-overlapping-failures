-- match n with 0,1,2,...,9,10 and calculate the values of the sum.
  -- express this sum in terms of (1+sqrt(2))^n and (1-sqrt(2))^n.
  -- use De Moivre's formula to calculate (1+sqrt(2))^10 and (1-sqrt(2))^10.
  -- the final answer is a huge number.
  -- since 2^3k = 8^k, use geometric series formula to simplify this huge number.
  -- some facts to simplify:
  -- 10 = 4 * 2 + 2
  -- 8^2 = 64 = 5*12 + 4
  -- 8^4 = (5*12+4)^2 = 5^2 * 12^2 + 2*5*12*4 + 4^2 = 5*60 + 4^2
  -- 8^5 = 8 * (5*60+4^2) = 5*480 + 8*4^2
  -- 8^6 = (5*480+8*4^2)^2 = (5*480)^2 + 2*5*480*8*4^2 + (8*4^2)^2
  --         = 5^2 * 480^2 + 2*5*480*8*4^2 + 8^2 * 4^4
  -- 5*12^2 = 5*144 = 720 = 5*144
  -- 5*480 = 5*480
  -- 8*4^2 = 8*16 = 5*30+2
  -- 2*5*480*8*4^2 = 2*5*480*8*(5*30+2)
  --             = 5*(2*5*480*8*30) + 2*(5*480*8)
  --             = 5*(2*5*480*8*30) + 2*(5*400)
  -- 5*480^2 = 5*480^2
  -- 480 = 8*60 = 8*(5*12)
  -- 480^2 = 8^2 * (5*12)^2 = 8^2 * 5^2*12^2
  -- 5*480^2 = 5*8^2 * 5^2*12^2 = 5^3*8^2*12^2
  -- 8^2 = 5*12+4
  -- so it is of the form 5^3*8^2*12^2 +...
  -- the key fact is this huge number is not divisible by 5.
  -- then the problem is done.
  induction' n with n ih
  · native_decide
  · have t1 : ∑ k in Finset.range (n + 1), Nat.choose (2 * (n + 1) + 1) (2 * k + 1) * 2 ^ (3 * k)
    = ∑ k in Finset.range (n + 1), Nat.choose (2 * n + 1 + 1) (2 * k + 1) * 2 ^ (3 * k) := by
      congr; ext x; simp
  · have t2 : 2 * (n + 1) + 1 = 2 * n + 1 + 1 + 1 := by ring
  · rw [t1, t2, Finset.sum_range_succ, mul_add, add_assoc]
  · have t3 : 2 * n + 1 + 1 + 1 = 2 * n + 1 + 1 + 1 := rfl
  · have t4 : 2 * n + 1 + 1 = 2 * n + 2 := by ring
  · rw [t3, t4, add_assoc, add_assoc, add_comm]
  · have t5 : 2 * n + 1 + 1 + 1 = 2 * n + 2 + 1 := by ring
  · rw [t5]
  · have : 2 * n + 2 = 2 * (n + 1) := by ring
  · rw [this]
  · have : 2 * (n + 1) + 1 = 2 * n + 3 := by ring
  · rw [this]
  · have : 2 * n + 2 + 1 = 2 * n + 3 := by ring
  · rw [this]
  -- now use induction hypothesis.
  rw [add_comm, add_comm, add_comm, add_comm]
  apply Nat.two_pow_not_dvd'
  have t1 : 10 = 2 * 5 := by ring
  have t2 : 4 = 2 * 2 := by ring
  have t3 : 8190 = 2 * 4095 := by ring
  rw [t1, t2, t3]
  clear t1 t2 t3
  -- get the term 5^1 * (8^1)^1
  have t1 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) = 5 * 16 * 5 * 16 + 5 * 16 * 2 * 5 * 2 + 2 * 5 * 5 * 16 * 2 * 5 +
    2 * 5 * 2 * 5 * 2 * 5 := by ring
  -- get the term 5^2 * (8^1)^1
  have t2 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) = 5 * 16 * 5 * 16 * 5 * 16 + 5 * 16 * 5 * 16 * 2 * 5 +
      5 * 16 * 2 * 5 * 5 * 16 + 5 * 16 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 16 * 5 * 2 * 5 + 2 * 5 * 5 * 2 * 5 * 2 * 5 +
      2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 := by ring
  -- get the term 5^3 * (8^1)^1
  have t3 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) =
    5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 + 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 +
    5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 := by ring
  -- get the term 5^4 * (8^1)^1
  have t4 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) =
    5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 + 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 + 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 +
    5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 := by ring
  -- get the term 5^2 * (8^2)^1
  have t5 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) =
    5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 + 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 +
    5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 := by ring
  -- get the term 5^3 * (8^2)^1
  have t6 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) =
    5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 + 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 + 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 +
    5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 := by ring
  -- get the term 5^4 * (8^2)^1
  have t7 : (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) * (5 * 16 + 2 * 5) =
    5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 + 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 + 5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 +
    5 * 16 * 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 5 * 16 * 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 +
    5 * 16 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 16 * 5 * 2 * 5 * 2 * 5 * 2 * 5 * 2 * 5 + 2 * 5 * 5 * 2 * 5 * 2 * 5 * 2 *