obtain ⟨k, hk, hk'⟩ := h₁
  have h₂ : 0 < a := by linarith
  have h₃ : 0 < b := by linarith
  have h₄ : 0 < a * b := by positivity
  have h₅ : 0 < a * b ^ 2 := by positivity
  have h₆ : 0 < a ^ 2 * b := by positivity
  have h₇ : 0 < a ^ 2 * b ^ 2 := by positivity
  -- We will use the fact that 2^k is a power of 2 and the product (a + b^2)(b + a^2) is a product of two integers, each of which is greater than 1 only if a, b > 1.
  have h₈ : a = 1 := by
    -- We will show that a must be 1 by contradiction.
    by_contra! h
    have h₉ : a ≥ 2 := by omega
    have h₁₀ : b ≥ 2 := by
      by_contra! h'
      have h₁₁ : b = 1 := by omega
      rw [h₁₁] at hk'
      have h₁₂ : 2 ^ k = (a + 1) * (1 + a ^ 2) := by simp_all
      have h₁₃ : (a + 1) * (1 + a ^ 2) ≥ 2 ^ 2 := by
        nlinarith [pow_pos (by linarith : (0 : ℕ) < 2) 2, pow_pos (by linarith : (0 : ℕ) < a) 2]
      have h₁₄ : 2 ^ k ≥ 2 ^ 2 := by nlinarith
      have h₁₅ : k ≥ 2 := by
        apply Nat.le_of_not_lt
        intro h₁₆
        have h₁₇ : k < 2 := by omega
        have h₁₈ : k = 0 ∨ k = 1 := by omega
        rcases h₁₈ with (h₁₈ | h₁₈) <;> simp_all [pow_succ] <;> nlinarith
      have h₁₆ : 2 ^ k % 4 = 0 ∨ 2 ^ k % 4 = 2 := by
        have : k ≥ 2 := by omega
        have : 2 ^ k % 4 = 0 ∨ 2 ^ k % 4 = 2 := by
          induction' this with k hk
          <;> simp_all [pow_succ, Nat.mul_mod, Nat.pow_mod]
          <;> omega
        omega
      have h₁₇ : (a + 1) * (1 + a ^ 2) % 4 = 3 ∨ (a + 1) * (1 + a ^ 2) % 4 = 1 := by
        have : a % 4 = 0 ∨ a % 4 = 1 ∨ a % 4 = 2 ∨ a % 4 = 3 := by omega
        rcases this with (h₁₈ | h₁₈ | h₁₈ | h₁₈) <;> simp [h₁₈, Nat.mul_mod, Nat.add_mod, Nat.pow_mod] <;> omega
      omega
    have h₁₁ : a * b ≥ 4 := by nlinarith
    have h₁₂ : a ^ 2 * b ^ 2 ≥ 16 := by nlinarith
    have h₁₃ : 2 ^ k = (a + b ^ 2) * (b + a ^ 2) := by simp_all
    have h₁₄ : (a + b ^ 2) * (b + a ^ 2) ≥ 16 := by nlinarith
    have h₁₅ : k ≥ 4 := by
      by_contra! h₁₆
      have h₁₇ : k ≤ 3 := by omega
      interval_cases k <;> norm_num at h₁₃ ⊢ <;>
        nlinarith
    have h₁₆ : 2 ^ k % 8 = 0 ∨ 2 ^ k % 8 = 2 ∨ 2 ^ k % 8 = 4 := by
      have : k ≥ 4 := by omega
      have : 2 ^ k % 8 = 0 ∨ 2 ^ k % 8 = 2 ∨ 2 ^ k % 8 = 4 := by
        induction' this with k hk
        · norm_num
        · simp_all [pow_succ, Nat.mul_mod]
          <;> omega
      omega
    have h₁₇ : (a + b ^ 2) * (b + a ^ 2) % 8 = 7 ∨ (a + b ^ 2) * (b + a ^ 2) % 8 = 3 ∨ (a + b ^ 2) * (b + a ^ 2) % 8 = 5 := by
      have : a % 8 = 0 ∨ a % 8 = 1 ∨ a % 8 = 2 ∨ a % 8 = 3 ∨ a % 8 = 4 ∨ a % 8 = 5 ∨ a % 8 = 6 ∨ a % 8 = 7 := by omega
      have : b % 8 = 0 ∨ b % 8 = 1 ∨ b % 8 = 2 ∨ b % 8 = 3 ∨ b % 8 = 4 ∨ b % 8 = 5 ∨ b % 8 = 6 ∨ b % 8 = 7 := by omega
      rcases this with (h₁₈ | h₁₈ | h₁₈ | h₁₈ | h₁₈ | h₁₈ | h₁₈ | h₁₈) <;>
        rcases this with (h₁₉ | h₁₉ | h₁₉ | h₁₉ | h₁₉ | h₁₉ | h₁₉ | h₁₉) <;>
          simp [h₁₈, h₁₉, Nat.mul_mod, Nat.add_mod, Nat.pow_mod] <;>
            omega
    omega
  exact h₈
```