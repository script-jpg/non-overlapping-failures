obtain ⟨k, hk, hk'⟩ := h₁
  have h₁ : 0 < a := by linarith
  have h₂ : 0 < b := by linarith
  have h₃ : 0 < a * b := by positivity
  have h₄ : 0 < a * b ^ 2 := by positivity
  have h₅ : 0 < a ^ 2 * b := by positivity
  have h₆ : 0 < a ^ 2 * b ^ 2 := by positivity
  have h₇ : a + b ^ 2 > 0 := by positivity
  have h₈ : b + a ^ 2 > 0 := by positivity
  have h₉ : (a + b ^ 2) * (b + a ^ 2) > 0 := by positivity
  -- We will use the fact that 2^k is a power of 2 and the product (a + b^2)(b + a^2) is an integer to derive a contradiction unless a = 1.
  have h₁₀ : a = 1 := by
    -- We will show that a = 1 is the only solution by considering the equation modulo 4.
    have h₁₁ : a ≤ 1 := by
      by_contra! h
      have h₁₂ : a ≥ 2 := by linarith
      have h₁₃ : 2 ^ k % 4 = 0 ∨ 2 ^ k % 4 = 1 ∨ 2 ^ k % 4 = 2 ∨ 2 ^ k % 4 = 3 := by omega
      have h₁₄ : (a + b ^ 2) * (b + a ^ 2) % 4 = 0 ∨ (a + b ^ 2) * (b + a ^ 2) % 4 = 1 ∨ (a + b ^ 2) * (b + a ^ 2) % 4 = 2 ∨ (a + b ^ 2) * (b + a ^ 2) % 4 = 3 := by omega
      have h₁₅ : a % 4 = 0 ∨ a % 4 = 1 ∨ a % 4 = 2 ∨ a % 4 = 3 := by omega
      have h₁₆ : b % 4 = 0 ∨ b % 4 = 1 ∨ b % 4 = 2 ∨ b % 4 = 3 := by omega
      rcases h₁₅ with (h₁₅ | h₁₅ | h₁₅ | h₁₅) <;> rcases h₁₆ with (h₁₆ | h₁₆ | h₁₆ | h₁₆) <;> simp [h₁₅, h₁₆, Nat.mul_mod, Nat.add_mod, Nat.pow_mod] at h₁₃ h₁₄ ⊢ <;> omega
    have h₁₇ : a ≥ 1 := by linarith
    linarith
  exact h₁₀