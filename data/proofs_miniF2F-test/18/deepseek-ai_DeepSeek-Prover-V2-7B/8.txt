have h₂ : n ≠ 0 := by linarith
  have h₃ : (16 : ℝ) = 2 ^ 4 := by norm_num
  have h₄ : (4 : ℝ) = 2 ^ 2 := by norm_num
  rw [h₃, h₄] at h₁
  field_simp [Real.logb, Real.log_rpow, Real.log_pow, mul_assoc, mul_comm, mul_left_comm] at h₁
  ring_nf at h₁
  norm_num at h₁
  have h₅ : n ≠ 0 := by linarith
  have h₆ : n ≠ 1 := by
    intro h
    rw [h] at h₁
    norm_num at h₁
    <;> simp_all [Real.logb, Real.log_rpow, Real.log_pow, mul_assoc, mul_comm, mul_left_comm]
    <;> norm_num at h₁ <;> linarith
  have h₇ : n > 1 := by
    apply Nat.one_lt_iff_ne_zero_and_ne_one.mpr
    exact ⟨h₂, h₆⟩
  norm_cast at h₁
  have h₈ : n = 256 := by
    have h₉ : n ≥ 2 := by linarith
    have h₁₀ : n ≤ 256 := by
      by_contra! h₁₁
      have h₁₂ : n ≥ 257 := by linarith
      have h₁₃ : Real.logb 2 (Real.logb (2 ^ 4) n) = Real.logb 4 (Real.logb (2 ^ 2) n) := by simpa [h₃, h₄] using h₁
      have h₁₄ : Real.logb (2 ^ 4) n = Real.logb 2 n / 4 := by
        simp [Real.logb, Real.log_rpow, Real.log_pow, mul_assoc, mul_comm, mul_left_comm]
        <;> ring_nf
        <;> field_simp
        <;> linarith
      have h₁₅ : Real.logb (2 ^ 2) n = Real.logb 2 n / 2 := by
        simp [Real.logb, Real.log_rpow, Real.log_pow, mul_assoc, mul_comm, mul_left_comm]
        <;> ring_nf
        <;> field_simp
        <;> linarith
      rw [h₁₄, h₁₅] at h₁₃
      field_simp [Real.logb, Real.log_rpow, Real.log_pow, mul_assoc, mul_comm, mul_left_comm] at h₁₃
      ring_nf at h₁₃
      norm_num at h₁₃
      have h₁₆ : Real.logb 2 n ≥ 8 := by
        have h₁₇ : Real.logb 2 n ≥ Real.logb 2 256 := by
          apply Real.logb_le_logb_of_le
          all_goals norm_num
          all_goals nlinarith
        have h₁₈ : Real.logb 2 256 = 8 := by
          rw [Real.logb_eq_iff_rpow_eq] <;> norm_num
        linarith
      nlinarith
    interval_cases n <;> norm_num at h₁ ⊢ <;> linarith
  rw [h₈]
  norm_num
  <;> rfl
  <;> simp [List.sum]
  <;> norm_num
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;>