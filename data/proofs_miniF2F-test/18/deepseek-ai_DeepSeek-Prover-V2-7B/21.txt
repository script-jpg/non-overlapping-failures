have h₂ : n ≠ 0 := by linarith
  have h₃ : (16 : ℝ) = 2 ^ 4 := by norm_num
  have h₄ : (4 : ℝ) = 2 ^ 2 := by norm_num
  rw [h₃, h₄] at h₁
  field_simp [Real.logb, Real.log_rpow, Real.log_pow, mul_assoc, mul_comm, mul_left_comm] at h₁
  ring_nf at h₁
  norm_num at h₁
  have h₅ : n ≠ 0 := by linarith
  have h₆ : n ≠ 1 := by
    intro h
    rw [h] at h₁
    norm_num at h₁
  have h₇ : n > 1 := by
    apply Nat.one_lt_iff_ne_zero_and_ne_one.mpr
    exact ⟨h₂, h₆⟩
  have h₈ : Real.logb 2 n > 0 := by
    apply Real.logb_pos
    all_goals norm_num
    all_goals linarith
  have h₉ : Real.logb 2 n ≠ 0 := by
    intro h
    rw [h] at h₁
    norm_num at h₁
    <;> simp_all [Real.logb_eq_zero]
    <;> nlinarith
  have h₁₀ : Real.logb 2 n > 1 := by
    have h₁₁ : (n : ℝ) > 2 := by
      by_contra! h₁₂
      have h₁₃ : (n : ℝ) ≤ 2 := by linarith
      have h₁₄ : Real.logb 2 n ≤ 1 := by
        apply Real.logb_le_iff_le_rpow (by norm_num) (by positivity) |>.mpr
        norm_num
        <;> nlinarith
      nlinarith
    have h₁₂ : Real.logb 2 n > 1 := by
      apply Real.lt_logb_iff_rpow_lt (by norm_num) (by positivity) |>.mpr
      norm_num
      <;> nlinarith
    linarith
  have h₁₁ : Real.logb 2 n = 4 := by
    apply Eq.symm
    apply Eq.symm
    field_simp [h₉] at h₁ ⊢
    ring_nf at h₁ ⊢
    nlinarith [sq_nonneg (Real.logb 2 n - 4), sq_nonneg (Real.logb 2 n - 2)]
  have h₁₂ : n = 2 ^ 4 := by
    rw [Real.logb_eq_iff_rpow_eq] at h₁₁ <;> norm_num at h₁₁ <;>
    norm_cast at h₁₁ ⊢ <;>
    nlinarith
  rw [h₁₂]
  norm_num
  <;> rfl
  <;> simp [List.sum]
  <;> norm_num
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;>