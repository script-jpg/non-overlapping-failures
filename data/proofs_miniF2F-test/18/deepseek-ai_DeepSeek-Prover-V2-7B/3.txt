have h₂ : n ≠ 0 := by linarith
  have h₃ : (16 : ℝ) = 2 ^ 4 := by norm_num
  have h₄ : (4 : ℝ) = 2 ^ 2 := by norm_num
  rw [h₃, h₄] at h₁
  field_simp [Real.logb, Real.log_rpow, Real.log_pow, Real.log_mul, Real.log_div, Real.log_inv,
    Real.log_one, Real.log_zero, Real.log_neg_eq_log] at h₁
  ring_nf at h₁
  norm_num at h₁
  have h₅ : n ≠ 0 := by linarith
  have h₆ : n = 2 ^ 12 := by
    apply le_antisymm
    · -- Show that n ≤ 2 ^ 12
      apply le_of_not_gt
      intro h
      have h₇ : (n : ℝ) > 2 ^ 12 := by exact_mod_cast h
      have h₈ : (Real.log : ℝ → ℝ) n > Real.log (2 ^ 12) := by
        apply Real.log_lt_log (by positivity)
        exact h₇
      have h₉ : Real.log (2 ^ 12) = 12 * Real.log 2 := by
        rw [Real.log_pow]
        <;> ring
      have h₁₀ : Real.log n > 12 * Real.log 2 := by linarith
      have h₁₁ : Real.logb 2 (Real.logb (2 ^ 4) n) > 3 := by
        simp_all [Real.logb, Real.log_rpow, Real.log_pow, Real.log_mul, Real.log_div, Real.log_inv,
          Real.log_one, Real.log_zero, Real.log_neg_eq_log]
        <;> norm_num
        <;>
        nlinarith [Real.log_pos (by norm_num : (1 : ℝ) < 2), Real.log_pos (by norm_num : (1 : ℝ) < 4),
          Real.log_pos (by norm_num : (1 : ℝ) < 16), Real.log_pos (by norm_num : (1 : ℝ) < 2 ^ 12)]
      have h₁₂ : Real.logb 2 (Real.logb (2 ^ 2) n) < 3 := by
        simp_all [Real.logb, Real.log_rpow, Real.log_pow, Real.log_mul, Real.log_div, Real.log_inv,
          Real.log_one, Real.log_zero, Real.log_neg_eq_log]
        <;> norm_num
        <;>
        nlinarith [Real.log_pos (by norm_num : (1 : ℝ) < 2), Real.log_pos (by norm_num : (1 : ℝ) < 4),
          Real.log_pos (by norm_num : (1 : ℝ) < 16), Real.log_pos (by norm_num : (1 : ℝ) < 2 ^ 12)]
      linarith
    · -- Show that n ≥ 2 ^ 12
      apply le_of_not_gt
      intro h
      have h₇ : (n : ℝ) < 2 ^ 12 := by exact_mod_cast h
      have h₈ : (Real.log : ℝ → ℝ) n < Real.log (2 ^ 12) := by
        apply Real.log_lt_log (by positivity)
        exact h₇
      have h₉ : Real.log (2 ^ 12) = 12 * Real.log 2 := by
        rw [Real.log_pow]
        <;> ring
      have h₁₀ : Real.log n < 12 * Real.log 2 := by linarith
      have h₁₁ :