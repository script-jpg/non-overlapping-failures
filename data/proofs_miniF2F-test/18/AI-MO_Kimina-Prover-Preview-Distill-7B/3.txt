-- https://artofproblemsolving.com/wiki/index.php/2020_AMC_12A_Problems/Problem_10

  -- Solution 1

  have h2 : Real.logb 4 (Real.logb 4 n) = Real.logb 16 (Real.logb 16 n) := by
    calc
      Real.logb 4 (Real.logb 4 n) = Real.logb 2 (Real.logb 16 n) := by
        rw [← Real.logb_pow 16 (Real.logb 4 n)]
        rw [Real.logb_mul_logb]
        norm_num
        norm_num
        rw [Real.logb_inv]
        norm_num
        norm_num
      _ = Real.logb 16 (Real.logb 16 n) := by
        exact h₁.symm

  have h3 : (Real.logb 4 (Real.logb 4 n))⁻¹ = (Real.logb 16 (Real.logb 16 n))⁻¹ := by
    rw [h2]

  have h4 : Real.logb 4 (Real.logb 4 n) ≠ 0 := by
    calc
      Real.logb 4 (Real.logb 4 n) = Real.logb 2 (Real.logb 16 n) := by
        rw [← Real.logb_pow 16 (Real.logb 4 n)]
        rw [Real.logb_mul_logb]
        norm_num
        norm_num
        rw [Real.logb_inv]
        norm_num
        norm_num
      _ = 0 := by
        exact h₁.symm
  field_simp at h3
  have h5 : Real.logb 16 n = 16 := by
    calc
      Real.logb 16 n = (Real.logb 16 (Real.logb 16 n)) * Real.logb 16 n := by
        ring
      _ = (Real.logb 4 (Real.logb 4 n)) * Real.logb 16 n := by
        rw [h3]
      _ = 16 := by
        rw [mul_comm, ← Real.logb_pow 4 (Real.logb 4 n)]
        rw [Real.logb_mul_logb]
        norm_num
        norm_num
        rw [Real.logb_inv]
        norm_num
        norm_num
  have h6 : Real.logb 4 n = 4 := by
  --   Real.logb 4 n = (Real.logb 4 (Real.logb 4 n)) * Real.logb 4 n := by
  --       ring
  --   _ = (Real.logb 2 (Real.logb 16 n)) * Real.logb 4 n := by
  --       rw [h3]
  --   _ = 4 := by
  --       rw [mul_comm, ← Real.logb_pow 16 (Real.logb 4 n)]
  --       rw [Real.logb_mul_logb]
  --       norm_num
  --       norm_num
  --       rw [Real.logb_inv]
  --       norm_num
  --       norm_num
    calc
      Real.logb 4 n = Real.logb 2 (Real.logb 16 n) := by
        rw [← Real.logb_pow 16 (Real.logb 4 n)]
        rw [Real.logb_mul_logb]
        norm_num
        norm_num
        rw [Real.logb_inv]
        norm_num
        norm_num
      _ = 4 := by
        rw [h₁.symm, h5]
  have h7 : n = 256 := by
    calc
      n = (Real.logb 4 n) ^ 4 := by
        rw [Real.logb_rpow]
        norm_num
        norm_num
      _ = 4 ^ 4 := by
        rw [h6]
      _ = 256 := by
        norm_num
  rw [h7]
  simp
```