-- Some bounds on $n$ to help with the proof
  have h₂ : Real.logb 4 n > 0 := by
    calc
      Real.logb 4 n = Real.logb 2 (Real.logb 4 n) * Real.logb 2 4 := by rw [Real.logb_mul_logb]; all_goals linarith
      _ = Real.logb 2 (Real.logb 4 n) * 2 := by norm_num
      _ > 0 := by nlinarith [h₁, Real.logb_2_pos]

  have h₃ : Real.logb 16 n > 0 := by
    calc
      Real.logb 16 n = Real.logb 2 (Real.logb 16 n) / Real.logb 2 16 := by rw [Real.logb_div_logb]; all_goals linarith
      _ = Real.logb 2 (Real.logb 16 n) / 4 := by norm_num
      _ > 0 := by nlinarith [h₁, Real.logb_2_pos]

  have h₄ : n > 1 := by
    by_contra! h₄
    have : n = 0 ∨ n = 1 := by omega
    rcases this with rfl | rfl
    · contradiction
    · simp at h₂
      linarith

  have h₅ : Real.logb 4 n ≠ 1 := by
    by_contra! h₅
    have : Real.logb 2 n = 4 := by
      calc
        Real.logb 2 n = Real.logb 2 n * 2 / 2 := by norm_num
        _ = Real.logb 4 n * Real.logb 2 4 / 2 := by rw [Real.logb_mul_logb]; all_goals linarith
        _ = Real.logb 4 n * 2 / 2 := by norm_num
        _ = Real.logb 4 n := by ring
        _ = 1 := by rw [h₅]
    have : n = 2 := by
      calc
        n = Reallogb 2 (Real.logb 2 n) := by rw [Real.logb_rpow]; all_goals linarith
        _ = Reallogb 2 4 := by rw [this]
        _ = 2 := by norm_num
    simp [this] at h₄

  have h₆ : Real.logb 4 n ≠ 2 := by
    by_contra! h₆
    have : Real.logb 2 n = 8 := by
      calc
        Real.logb 2 n = Real.logb 2 n * 4 / 4 := by norm_num
        _ = Real.logb 16 n * Real.logb 2 16 / 4 := by rw [Real.logb_mul_logb]; all_goals linarith
        _ = Real.logb 16 n * 4 / 4 := by norm_num
        _ = Real.logb 16 n := by ring
        _ = 2 := by rw [h₆]
    have : n = 4 := by
      calc
        n = Reallogb 2 (Real.logb 2 n) := by rw [Real.logb_rpow]; all_goals linarith
        _ = Reallogb 2 8 := by rw [this]
        _ = 4 := by norm_num
    simp [this] at h₄

  have h₇ : (Real.logb 4 n - 1) * (Real.logb 4 n - 2) > 0 := by
    by_contra! h₇
    have : Real.logb 4 n = 1 := by nlinarith
    contradiction

  -- Change the equation to a polynomial equation
  have h₈ : (Real.logb 4 n)^2 - 3 * Real.logb 4 n + 2 = 0 := by
    calc
      (Real.logb 4 n)^2 - 3 * Real.logb 4 n + 2 = Real.logb 4 n * Real.logb 4 n - Real.logb 4 n * 3 + 2 := by ring
      _ = Real.logb 2 (Real.logb 4 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 4 n * 3 + 2 := by rw [Real.logb_mul_logb]; all_goals linarith
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 4 n * 3 + 2 := by rw [h₁]; field_simp; ring
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / Real.logb 2 4 * 2 + 2 := by rw [Real.logb_mul_logb]; all_goals linarith
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by norm_num
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by ring
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by ring
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by ring
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by ring
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by ring
      _ = Real.logb 2 (Real.logb 16 n) * Real.logb 2 (Real.logb 4 n) / Real.logb 2 (Real.logb 4 n) * 2 - Real.logb 2 (Real.logb 4 n) * 3 / 2 * 2 + 2 := by ring
      _ = 0 := by field_simp; ring
  simp [←sub_eq_zero] at h₈

  -- Solve the polynomial equation
  have h₉ : (Real.logb 4 n - 1) = 0 ∨ (Real.logb 4 n - 2) = 0 := by
    rw [quadratic_eq_zero_iff] at h₈
    simp at h₈
    exact h₈
  rcases h₉ with h₉ | h₉
  ·
    -- Case where $\log_4{n} = 1$
    have h₁₀ : n = 4 := by
      calc
        n = Reallogb 2 (Real.logb 2 n) := by rw [Real.logb_rpow]; all_goals linarith
        _ = Reallogb 2 4 := by rw [h₉]; norm_num
        _ = 4 := by norm_num
    -- Therefore $n = 4$
    simp [h₁₀]
  ·
    -- Case where $\log_4{n} = 2$
    have h₁₁ : n = 16 := by
      calc
        n = Reallogb 2 (Real.logb 2 n) := by rw [Real.logb_rpow]; all_goals linarith
        _ = Reallogb 2 8 := by rw [h₉]; norm_num
        _ = 16 := by norm_num
    -- Therefore $n = 16$
    simp [h₁₁]
```