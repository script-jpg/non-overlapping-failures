-- https://artofproblemsolving.com/wiki/index.php/2020_AMC_12A_Problems/Problem_10

  have h₂ : Real.logb 4 (Real.logb 4 n) = Real.logb 2 (Real.logb 16 n) := by
    rw [h₁]

  -- change of base formula
  rw [Real.logb] at h₂
  rw [Real.logb] at h₂
  rw [Real.logb] at h₂
  rw [Real.logb] at h₂

  -- simplify
  rw [show Real.log 16 = Real.log (4 ^ (2 : ℝ)) by norm_num] at h₂
  rw [Real.log_rpow] at h₂
  rw [show (4 : ℝ) ^ (Real.log 4 * (1 / 2)) = Real.exp (Real.log 4 * (1 / 2) * Real.log 4) by
      rw [Real.exp_eq_iff_eq_log]
      ring_nf
      simpa using?_
    ] at h₂
  rw [Real.log_mul] at h₂
  ring_nf at h₂
  rw [mul_inv_cancel₀] at h₂
  rw [Real.log_rpow] at h₂
  rw [mul_assoc, ← mul_add] at h₂
  rw [Real.log_rpow_eq_mul_log] at h₂
  rw [mul_comm (1 / 2), mul_assoc, ← mul_add] at h₂
  rw [div_mul_cancel₀, mul_comm] at h₂
  rw [Real.log_rpow] at h₂
  rw [mul_comm, ← mul_assoc, mul_assoc] at h₂
  simp at h₂
  have h₃ : Real.log 4 ≠ 0 := by
    apply ne_of_gt
    apply Real.log_pos
    norm_num
  have h₄ : 1 / 2 ≠ 0 := by norm_num
  rw [← h₂] at h₁
  simp at h₁
  have h₅ : Real.log n = Real.log (4 ^ (16 ^ (2 : ℝ))) := by
    rw [h₁]
    rw [← Real.log_rpow h₃]
    rw [← Real.log_rpow h₃]
    rw [mul_comm]
  have h₆ : n = 4 ^ (16 ^ (2 : ℝ)) := by
    rw [← Real.log_injOn_pos (show 1 ≤ n by simp; assumption) (show 1 ≤ 4 ^ (16 ^ (2 : ℝ)) by simp; norm_num) h₅]
  norm_num at h₆
  rw [h₆]
  simp
  norm_num
```