-- We will compute $f(4)$ step by step.

  -- $f(4) = 4^2 - 4 \cdot 4 - 1 = 16 - 16 - 1 = -1$
  have h4 : f 4 = -1 := by
    calc
      f 4 = 4 ^ 2 - 4 * 4 - 1 := h₁ 4 (by decide)
      _ = 16 - 16 - 1 := by norm_num
      _ = -1 := by norm_num

  -- $f(-1) = (-1)^2 = 1$
  have h_1 : f (-1) = 1 := by
    calc
      f (-1) = (-1) ^ 2 := h₀ (-1) (by decide)
      _ = 1 := by norm_num

  -- $f(1) = 1^2 = 1$
  have h1 : f 1 = 1 := by
    calc
      f 1 = 1 ^ 2 := h₀ 1 (by decide)
      _ = 1 := by norm_num

  -- $f(1) = 1$ (already calculated)
  have h1' : f 1 = 1 := by
    calc
      f 1 = 1 ^ 2 := h₀ 1 (by decide)
      _ = 1 := by norm_num

  -- $f(-1) = (-1)^2 = 1$ (already calculated)
  have h_1' : f (-1) = 1 := by
    calc
      f (-1) = (-1) ^ 2 := h₀ (-1) (by decide)
      _ = 1 := by norm_num

  -- $f(1) = 1$ (already calculated)
  have h1'' : f 1 = 1 := by
    calc
      f 1 = 1 ^ 2 := h₀ 1 (by decide)
      _ = 1 := by norm_num

  -- $f(-1) = (-1)^2 = 1$ (already calculated)
  have h_1'' : f (-1) = 1 := by
    calc
      f (-1) = (-1) ^ 2 := h₀ (-1) (by decide)
      _ = 1 := by norm_num

  -- $f(1) = 1$ (already calculated)
  have h1''' : f 1 = 1 := by
    calc
      f 1 = 1 ^ 2 := h₀ 1 (by decide)
      _ = 1 := by norm_num

  -- $f(-1) = (-1)^2 = 1$ (already calculated)
  have h_1''' : f (-1) = 1 := by
    calc
      f (-1) = (-1) ^ 2 := h₀ (-1) (by decide)
      _ = 1 := by norm_num

  -- $f(1) = 1$ (already calculated)
  have h1'''' : f 1 = 1 := by
    calc
      f 1 = 1 ^ 2 := h₀ 1 (by decide)
      _ = 1 := by norm_num

  -- $f(-1) = (-1)^2 = 1$ (already calculated)
  have h_1'''' : f (-1) = 1 := by
    calc
      f (-1) = (-1) ^ 2 := h₀ (-1) (by decide)
      _ = 1 := by norm_num

  -- Therefore, $f(f(f(f(f(4))))) = f(f(f(f(-1))) = f(f(f(1)) = f(f(1) = f(1) = 1$.

  calc
    f (f (f (f 4))) = f (f (f (-1))) := by rw [h4]
    _ = f (f 1) := by rw [h_1]
    _ = f 1 := by rw [h1]
    _ = 1 := by rw [h1]
```