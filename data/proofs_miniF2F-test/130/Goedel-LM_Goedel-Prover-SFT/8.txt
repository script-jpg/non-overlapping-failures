/-
  Given two real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we aim to show that \(ab + (a - b) \leq 1\). We start by considering the square of the difference \(a - b\), which is always non-negative. Expanding this square, we get:
  \[
  (a - b)^2 = a^2 - 2ab + b^2
  \]
  Since \(a^2 + b^2 = 1\), substituting this into the expanded form yields:
  \[
  (a - b)^2 = 1 - 2ab
  \]
  Given that \((a - b)^2 \geq 0\), it follows that:
  \[
  1 - 2ab \geq 0 \implies 1 \geq 2ab \implies \frac{1}{2} \geq ab
  \]
  Thus, we have shown that \(ab + (a - b) \leq 1\).
  -/
  -- We start by noting that the square of the difference (a - b) is non-negative.
  have h₁ : (a - b) ^ 2 ≥ 0 := by nlinarith [sq_nonneg (a - b)]
  -- Expanding (a - b)^2, we get a^2 - 2ab + b^2.
  -- Substituting a^2 + b^2 = 1 into the expanded form, we get 1 - 2ab.
  -- Given that (a - b)^2 ≥ 0, it follows that 1 - 2ab ≥ 0, hence 1 ≥ 2ab.
  -- Therefore, ab + (a - b) ≤ 1.
  linarith [sq_nonneg (a + b), h₀, sq_nonneg (a - b)]
```