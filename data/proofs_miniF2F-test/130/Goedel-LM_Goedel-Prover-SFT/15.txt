/-
  Given two real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we aim to show that \(ab + (a - b) \leq 1\).
  1. Start by considering the expression \(a^2 + b^2 = 1\).
  2. Use the non-negativity of the square of the difference \(a - b\), i.e., \((a - b)^2 \geq 0\).
  3. Expand \((a - b)^2\) to get \(a^2 - 2ab + b^2\).
  4. Substitute \(a^2 + b^2 = 1\) into the expanded form to obtain \(1 - 2ab \geq 0\).
  5. Simplify the inequality to find \(2ab \leq 1\), which further simplifies to \(ab \leq \frac{1}{2}\).
  6. Use the non-negativity of the square of the sum \(a + b\), i.e., \((a + b)^2 \geq 0\).
  7. Expand \((a + b)^2\) to get \(a^2 + 2ab + b^2\).
  8. Substitute \(a^2 + b^2 = 1\) into the expanded form to obtain \(1 + 2ab \geq 0\).
  9. Simplify the inequality to find \(2ab \geq -1\), which further simplifies to \(ab \geq -\frac{1}{2}\).
  10. Combine the results from steps 5 and 9 to conclude that \(ab \leq \frac{1}{2}\).
  11. Therefore, \(ab + (a - b) \leq 1\).
  -/
  -- Use the non-negativity of the square of the difference (a - b)
  have h₁ := sq_nonneg (a - b)
  -- Use the non-negativity of the square of the sum (a + b)
  have h₂ := sq_nonneg (a + b)
  -- Use the non-negativity of the square of (a + b - 2 * a * b)
  have h₃ := sq_nonneg (a + b - 2 * a * b)
  -- Use the non-negativity of the square of (a + b + 2 * a * b)
  have h₄ := sq_nonneg (a + b + 2 * a * b)
  -- Use the non-negativity of the square of (a - b + 2 * a * b)
  have h₅ := sq_nonneg (a - b + 2 * a * b)
  -- Use the non-negativity of the square of (a - b - 2 * a * b)
  have h₆ := sq_nonneg (a - b - 2 * a * b)
  -- Combine all inequalities to conclude the desired result
  linarith
```