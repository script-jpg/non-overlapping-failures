/-
 Given two real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we need to show that \(ab + (a - b) \leq 1\).
  1. Consider the square of the difference \(a - b\), which is non-negative: \((a - b)^2 \geq 0\).
  2. Expanding \((a - b)^2\) gives \(a^2 - 2ab + b^2\).
  3. Since \(a^2 + b^2 = 1\), we substitute to get \(1 - 2ab \geq 0\).
  4. Rearranging this inequality yields \(2ab \leq 1\).
  5. We also know that \((a + b)^2 \geq 0\) because the square of any real number is non-negative.
  6. Expanding \((a + b)^2\) gives \(a^2 + 2ab + b^2\).
  7. Since \(a^2 + b^2 = 1\), we substitute to get \(1 + 2ab \geq 0\).
  8. Rearranging this inequality yields \(2ab \geq -1\).
  9. Combining the inequalities \(2ab \leq 1\) and \(2ab \geq -1\), we get \(-1 \leq 2ab \leq 1\).
  10. Dividing the entire inequality by 2, we obtain \(-1/2 \leq ab \leq 1/2\).
  11. Adding \(a - b\) to both sides of the inequality \(ab \leq 1/2\), we get \(ab + (a - b) \leq 1/2 + (a - b)\).
  12. Since \(a^2 + b^2 = 1\), we know that \(a - b\) is bounded by \([-1, 1]\).
  13. Therefore, \(ab + (a - b) \leq 1/2 + 1 = 3/2\).
  14. However, since \(a^2 + b^2 = 1\), the maximum value of \(ab + (a - b)\) is 1, achieved when \(a = b\).
  -/
  -- We use the non-negativity of the square of the difference (a - b)
  have h₁ := sq_nonneg (a - b)
  -- We use the non-negativity of the square of the sum (a + b)
  have h₂ := sq_nonneg (a + b)
  -- We use the non-negativity of the square of the difference (a - b + 1)
  have h₃ := sq_nonneg (a - b + 1)
  -- We use the non-negativity of the square of the difference (a - b - 1)
  have h₄ := sq_nonneg (a - b - 1)
  -- Using the non-negativity properties and the given condition a^2 + b^2 = 1,
  -- we can derive the desired inequality using linear arithmetic
  nlinarith
```