-- We have $(a-b)^2\geq 0$.
  have : (a - b) ^ 2 ≥ 0 := by exact sq_nonneg (a - b)

  -- We have $(a+b)^2\geq 0$.
  have : (a + b) ^ 2 ≥ 0 := by exact sq_nonneg (a + b)

  -- We have $a^2+b^2\geq 2ab$.
  have hab : a ^ 2 + b ^ 2 ≥ 2 * a * b := by
    linarith

  -- We have $a^2+b^2\geq -2ab$.
  have h-ab : a ^ 2 + b ^ 2 ≥ -2 * a * b := by
    linarith

  -- Since $a^2+b^2=1$, we get $1\geq 2ab$ or $ab\leq 1/2$.
  have : 2 * a * b ≤ 1 := by linarith
  have : a * b ≤ 1 / 2 := by linarith

  -- Since $a^2+b^2=1$, we get $(a-b)^2=1-2ab$.
  have : (a - b) ^ 2 = 1 - 2 * a * b := by
    ring_nf
    linarith

  -- We have $(a-b)^2\leq 1$.
  have : (a - b) ^ 2 ≤ 1 := by
    linarith

  -- We have $a-b\leq 1$.
  have : a - b ≤ 1 := by
    nlinarith

  -- We have $ab\leq 1$.
  have hab : a * b ≤ 1 := by
    nlinarith

  -- We have $ab+(a-b)\leq 1$.
  linarith
```