-- We have $(a - b)^2 \geq 0$ since squares of real numbers are non-negative.
  have : (a - b) ^ 2 ≥ 0 := by
    exact sq_nonneg (a - b)

  -- We have $2ab \leq 1 + (a - b)^2 = 2(a^2 + b^2)$ since $a^2 + b^2 = 1$.
  have : 2 * (a * b) ≤ 2 * (a ^ 2 + b ^ 2) := by
    linarith

  -- We have $ab \leq a^2 + b^2$.
  have : a * b ≤ a ^ 2 + b ^ 2 := by
    linarith

  -- Since $a^2 + b^2 = 1$, we have $ab \leq 1$.
  have : a * b ≤ 1 := by
    linarith

  -- We have $(a - b)^2 = a^2 - 2ab + b^2 \geq 0$.
  have : a ^ 2 - 2 * (a * b) + b ^ 2 ≥ 0 := by
    linarith

  -- We have $a^2 + b^2 \geq 2ab$.
  have : a ^ 2 + b ^ 2 ≥ 2 * (a * b) := by
    linarith

  -- Since $a^2 + b^ 2 = 1$, we have $1 \geq 2ab$ or equivalently $ab \leq 1/2$.
  have : 2 * (a * b) ≤ 1 := by
    linarith

  -- We have $(a + b)^2 \geq 0$ since squares of real numbers are non-negative.
  have : (a + b) ^ 2 ≥ 0 := by
    exact sq_nonneg (a + b)

  -- Since $(a + b)^2 \geq 0$, we have $ab + (a - b) \leq 1$.
  linarith
```