-- The key identity that we will use is $(a-b)^2 \geq 0$
  have h₁ : (a - b) ^ 2 ≥ 0 := by
    exact sq_nonneg (a - b)

  -- We can rewrite $(a-b)^2 \geq 0$ as $a^2-2ab+b^2 \geq 0$
  rw [sq] at h₁

  -- Since we have $a^2+b^2=1$, we can substitute it in the inequality to get $1-2ab \geq 0$
  rw [← h₀] at h₁

  -- This simplifies to $ab \leq 1/2$
  replace h₁ : a * b ≤ 1 / 2 := by linarith

  -- The inequality we want is equivalent to $ab + (a-b) - 1 \leq 0$
  suffices a * b + (a - b) - 1 ≤ 0 by linarith

  -- We can rewrite this as $(a-b)^2 - 2(1/2 - (a-b)) \leq 0$
  rw [← sq, ← sub_sub, ← sub_add, sub_nonpos]

  -- This is less than or equal to $(a-b)^2 - 2(1/2 - (a-b)) \leq 0$
  apply mul_nonpos_of_nonneg_of_nonpos h₁

  -- $(a-b)^2 \leq 1/2 - (a-b)$
  linarith
```