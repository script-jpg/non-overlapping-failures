-- We write $a b + (a - b)$ as $a b + a - b$.
  have : a * b + (a - b) = a * b + a - b := by ring
  rw [this]

  -- We write $a b + a - b$ as $a (b + 1) - b$.
  have : a * b + a - b = a * (b + 1) - b := by ring
  rw [this]

  -- We write $a (b + 1) - b$ as $(a - 1) (b + 1) + 1$.
  have : a * (b + 1) - b = (a - 1) * (b + 1) + 1 := by ring
  rw [this]

  -- It suffices to show that $(a - 1) (b + 1) \leq 0$.
  suffices (a - 1) * (b + 1) ≤ 0 by linarith

  -- We know that $(a - 1)^2 \geq 0$ and $(b+1)^2 \geq 0$.
  have h₁ : (a - 1) ^ 2 ≥ 0 := by positivity
  have h₂ : (b + 1) ^ 2 ≥ 0 := by positivity

  -- We know that $(a - 1)^2 = 1 - 2a + a^2$ and $(b+1)^2 = 1 + 2b + b^2$.
  have h₃ : (a - 1) ^ 2 = 1 - 2 * a + a ^ 2 := by ring
  have h₄ : (b + 1) ^ 2 = 1 + 2 * b + b ^ 2 := by ring

  -- We replace $(a - 1)^2$ by $1 - 2a + a^2$ and $(b+1)^2$ by $1 + 2b + b^2$.
  rw [h₃] at h₁
  rw [h₄] at h₂

  -- We replace $a^2$ by $1 - b^2$ from the hypothesis.
  have h₅ : a ^ 2 = 1 - b ^ 2 := by linarith
  rw [h₅] at h₁

  -- We replace $b^2$ by $1 - a^2$ from the hypothesis.
  have h₆ : b ^ 2 = 1 - a ^ 2 := by linarith
  rw [h₆] at h₂

  -- We clear the square terms using linear arithmetic.
  clear h₅ h₆
  linarith
```