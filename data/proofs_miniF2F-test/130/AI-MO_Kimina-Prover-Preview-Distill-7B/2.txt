-- The real number $a$ satisfies $a^2 \leq 1$, so $|a| \leq 1$.
  have h₁ : a ^ 2 ≤ 1 := by
    linarith only [sq_nonneg a, h₀]
  have h₂ : a ≤ 1 := by
    nlinarith only [sq_nonneg a, h₁]
  have h₃ : -1 ≤ a := by
    nlinarith only [sq_nonneg a, h₁]

  -- The real number $b$ satisfies $b^2 \leq 1$, so $|b| \leq 1$.
  have h₄ : b ^ 2 ≤ 1 := by
    linarith only [sq_nonneg b, h₀]
  have h₅ : b ≤ 1 := by
    nlinarith only [sq_nonneg b, h₄]
  have h₆ : -1 ≤ b := by
    nlinarith only [sq_nonneg b, h₄]

  -- We have $(a-1)^2 \geq 0$, which implies $a^2-2a+1 \geq 0$.
  have h₇ : 0 ≤ (a - 1) ^ 2 := by
    exact sq_nonneg (a - 1)
  -- We have $(b-1)^2 \geq 0$, which implies $b^2-2b+1 \geq 0$.
  have h₈ : 0 ≤ (b - 1) ^ 2 := by
    exact sq_nonneg (b - 1)

  -- We have $(a-b)^2 \geq 0$, which implies $a^2-2ab+b^2 \geq 0$.
  have h₉ : 0 ≤ (a - b) ^ 2 := by
    exact sq_nonneg (a - b)

  -- Combining the inequalities above, we get $2(a+b-1) \leq 0$.
  have h₁₀ : 2 * (a + b - 1) ≤ 0 := by
    linarith only [h₀, h₇, h₈, h₉]

  -- Note that $(a+b-1)^2 \geq 0$ since it is a square.
  have h₁₁ : 0 ≤ (a + b - 1) ^ 2 := by
    exact sq_nonneg (a + b - 1)

  -- We have $0 \leq (a+b-1)^2 = (a+b-1)(a+b-1) \leq 2ab$.
  have h₁₂ : 0 ≤ 2 * a * b := by
    linarith only [h₁₀, h₁₁, sq_nonneg (a + b - 1)]

  -- We get $ab \leq \frac{1}{2}$.
  have h₁₃ : a * b ≤ 1 / 2 := by
    linarith only [h₁₂]

  -- We get $2(a-b) \leq 2(1-b)$.
  have h₁₄ : 2 * (a - b) ≤ 2 * (1 - b) := by
    linarith only [h₅]

  -- Combining the inequalities above, we get $ab + (a-b) \leq 1$.
  linarith only [h₁₃, h₁₄]


```