-- transform $a(2-a)\leq 1$ to $(a-1)^2\geq 0$.
  have : a * (2 - a) ≤ 1 ↔ (a - 1)^2 ≥ 0 := by
    constructor
    · intro h
      -- we have $a(2-a)\leq 1$, and want to prove $(a-1)^2\geq 0$.
      -- Since $(a-1)^2 = a(2-a) + (a-1)^2 - a(2-a) = a(2-a) + (a^2-2*a+1) - a(2-a) = a^2-2a+1$,
      -- and $a(2-a)\leq 1$, we have $(a-1)^2\geq 0$.
      linarith [sq_nonneg (a - 1), h]
    · intro h
      -- we have $(a-1)^2\geq 0$, and want to prove $a(2-a)\leq 1$.
      -- Since $(a-1)^2 = a^2-2a+1$, and $a^2-2a+1\geq 0$, $a(2-a) = 2a-a^2 = -(a^2-2a)\leq - (a^2-2a+1) + 1 = 1$.
      linarith [sq_nonneg (a - 1), h]
  rw [this]

  -- Since $(a-1)^2 = (a-1)*(a-1)$, and for any real number $b$, $b^2\geq 0$, we have $(a-1)^2\geq 0$.
  apply sq_nonneg
```