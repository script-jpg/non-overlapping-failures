have step₁ : S = {2016} := by
    ext n
    simp only [h₀, Finset.mem_singleton, Nat.divisors]
    constructor
    -- First direction: if n is in S, then n must be 2016
    · rintro ⟨h₁, h₂, m, hm₁, hm₂⟩
      interval_cases n <;> norm_num at * <;>
      (try {
        try {
          have : m ≤ 30 := by
            have h₃ : ∑ p in Finset.filter (fun x : ℕ => x ∣ m) (Finset.Icc 1 m), p ≤ 2019 := by
              simp_all [Finset.sum_filter, Finset.sum_Icc_succ_top] <;> omega
            have h₄ : m < 31 := by
              by_contra h
              have h₅ : m ≥ 31 := by omega
              have h₆ : ∑ p in Finset.filter (fun x : ℕ => x ∣ m) (Finset.Icc 1 m), p > 2019 := by
                have : ∑ p in Finset.filter (fun x : ℕ => x ∣ m) (Finset.Icc 1 m), p ≥ ∑ p in Finset.Icc 1 31, p := by
                  apply Finset.sum_le_sum_of_subset_of_nonneg
                  · intro x hx
                    simp_all [Finset.mem_filter, Finset.mem_Icc] <;> omega
                  · intro x _ _
                    simp_all [Finset.mem_filter, Finset.mem_Icc] <;> omega
                simp_all [Finset.sum_Icc_succ_top] <;> omega
              omega
            omega
          interval_cases m <;> norm_num at * <;> simp_all (config := {decide := true}) <;>
            aesop
          }
        }
      }) <;>
      (try {
        omega
      }) <;>
      aesop
    -- Second direction: if n is 2016, then n is in S
    · rintro rfl
      have h1 : 2010 ≤ 2016 := by norm_num
      have h2 : 2016 ≤ 2019 := by norm_num
      have h3 : ∃ m, (Nat.divisors m).card = 4 ∧ (∑ p in Nat.divisors m, p) = 2016 := by
        use 1444
        constructor
        · -- Show that the number of divisors of 1444 is 4
          rfl
        · -- Show that the sum of the divisors of 1444 is 2016
          rw [show 1444 = 2^2 * 19^2 by norm_num]
          rw [Nat.divisors_mul] <;>
            norm_num <;>
            rfl
          <;>
            decide
      simp_all
      <;> aesop
  
  have step₂ : (∑ k in S, k) = 2016 := by
    rw [step₁]
    <;> simp [Finset.sum_singleton]
    <;> norm_num
    <;> rfl
  
  rw [step₁] at *
  <;> simp_all
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> r