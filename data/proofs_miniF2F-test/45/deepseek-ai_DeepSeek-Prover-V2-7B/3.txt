have step₁ : S = {2016} := by
    ext n
    simp only [Finset.mem_singleton, h₀]
    constructor
    -- Prove that if n is in S, then n must be 2016.
    · rintro ⟨h₁, h₂, m, h₃, h₄⟩
      have h₅ : n = 2016 := by
        interval_cases n <;> norm_num at h₁ h₂ h₄ <;>
        (try omega) <;>
        (try {
          have h₆ : m ≤ 50 := by
            have h₆ : m ≤ 50 := by
              have h₆ : (Nat.divisors m).card = 4 := h₃
              have h₇ : m ≤ 50 := by
                by_contra h
                have : m ≥ 51 := by linarith
                have : (Nat.divisors m).card ≥ 6 := by
                  have h₈ : ∀ k : ℕ, k ≥ 51 → (Nat.divisors k).card ≥ 6 := by
                    intro k hk
                    have : k ≥ 51 := by linarith
                    have : (Nat.divisors k).card ≥ 6 := by
                      have h₉ : ∀ k : ℕ, k ≥ 51 → (Nat.divisors k).card ≥ 6 := by
                        intro k hk
                        have h₁₀ : k ≥ 51 := by linarith
                        have h₁₁ : (Nat.divisors k).card ≥ 6 := by
                          have h₁₂ : ∃ p, p.Prime ∧ p ∣ k := by
                            apply Nat.exists_prime_and_dvd
                            linarith
                          obtain ⟨p, hp, hpk⟩ := h₁₂
                          have h₁₃ : (Nat.divisors k).card ≥ 2 := by
                            apply Nat.succ_le_of_lt
                            apply Nat.succ_le_of_lt
                            exact Nat.pos_of_ne_zero (by aesop)
                          have h₁₄ : (Nat.divisors k).card ≥ 6 := by
                            have h₁₅ : p ∣ k := hpk
                            have h₁₆ : (Nat.divisors k).card ≥ 2 := by
                              apply Nat.succ_le_of_lt
                              apply Nat.succ_le_of_lt
                              exact Nat.pos_of_ne_zero (by aesop)
                            have h₁₇ : (Nat.divisors k).card ≥ 6 := by
                              have h₁₈ : k ≥ 51 := by linarith
                              have h₁₉ : (Nat.divisors k).card ≥ 6 := by
                                cases' k with k
                                · contradiction
                                simp_all [Nat.divisors]
                                <;>
                                ring_nf at *
                                <;>
                                omega
                              omega
                            omega
                          omega
                        omega
                      omega
                    omega
                  omega
                omega
              omega
            omega
          interval_cases m <;> norm_num at h₃ h₄ <;> simp_all (config := {decide := true}) <;>
          omega
        }) <;>
        omega
      aesop
    -- Prove that if n is 2016, then n is in S.
    · rintro rfl
      refine' ⟨by norm_num, by norm_num, 225, _, _⟩ <;>
        norm_num
        <;>
        rfl
  
  have step₂ : (∑ k in S, k) = 2016 := by
    rw [step₁]
    <;> norm_num
    <;> rfl
  
  exact step₂