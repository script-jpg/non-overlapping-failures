have h₁ : S = {2016} := by
    ext n
    simp only [Finset.mem_singleton, h₀]
    constructor
    · rintro ⟨h₁, h₂, ⟨m, hm, hsum⟩⟩
      have h₃ : n = 2016 := by
        have h₄ : m ≤ 168 := by
          have h₅ : (Nat.divisors m).card = 4 := hm
          have h₆ : m ≤ 168 := by
            have h₇ : (Nat.divisors m).card = 4 := hm
            have h₈ : m ≤ 168 := by
              have h₉ : (Nat.divisors m).card = 4 := hm
              have h₁₀ : m ≤ 168 := by
                contrapose! h₉
                have h₁₁ : m ≥ 169 := by linarith
                have h₁₂ : (Nat.divisors m).card ≥ 6 := by
                  have h₁₃ : ∀ k : ℕ, k ≥ 169 → (Nat.divisors k).card ≥ 6 := by
                    intro k hk
                    have h₁₄ : k ≥ 169 := hk
                    have h₁₅ : (Nat.divisors k).card ≥ 6 := by
                      have h₁₆ : ∀ k : ℕ, k ≥ 169 → (Nat.divisors k).card ≥ 6 := by
                        intro k hk
                        have h₁₇ : k ≥ 169 := hk
                        have h₁₈ : (Nat.divisors k).card ≥ 6 := by
                          have h₁₉ : k ≥ 169 := hk
                          have h₂₀ : (Nat.divisors k).card ≥ 6 := by
                            apply Nat.divisors.card_eq_four.not.symm
                            <;> omega
                          exact h₂₀
                        exact h₁₈
                      exact h₁₆ k h₁₄
                    exact h₁₅
                  exact h₁₃ k h₁₁
                omega
              exact by linarith
            exact by linarith
          exact by linarith
        have h₅ : m ≥ 1 := by
          have h₆ : m ≥ 1 := by
            apply Nat.pos_of_ne_zero
            intro h
            simp_all
          exact by linarith
        have h₆ : n = 2016 := by
          have h₇ : (∑ p in Nat.divisors m, p) = n := hsum
          have h₈ : m ≤ 168 := by linarith
          have h₉ : m ≥ 1 := by linarith
          interval_cases m <;> norm_num at hm ⊢ <;> simp_all (config := {decide := true})
          <;> omega
        exact by linarith
      simp_all
    · rintro rfl
      exact ⟨by norm_num, by norm_num, 144, by
        have : (Nat.divisors 144).card = 4 := by decide
        simp_all
        <;> rfl, by decide⟩
  
  have h₂ : (∑ k in S, k) = 2016 := by
    rw [h₁]
    simp
    <;> decide
  
  exact h₂