have h₁ : ∑ k in S, k = ∑ k in S, k := rfl

  -- Find the sum of all the nice numbers in the set $\{ 2010,2011,2012,\dots,2019 \.$ Show that it is 2016.

  -- The nice numbers in the set are 2013, 2014, 2016.
  -- Because there are four positive integers $1$, $2$, $3$ and $6$ whose sum is equal to $12$,
  -- $1 + 2 + 3 + 6 = 12$, $1 + 3 + 4 + 12 = 20$, $1 + 3 + 6 + 12 = 22$.
  -- So the nice numbers in the set $\{ 2010,2011,2012,\dots,2019 \}$ are
  -- $2013 = 1 + 3 + 6 + 12 = 22$,
  -- $2014 = 1 + 5 + 6 + 10 = 22$,
  -- $2016 = 1 + 3 + 6 + 12 = 22$.
  have h₂ : S = {2013, 2014, 2016} := by
    ext n
    constructor
    · intro hn
      -- The nice numbers in the set $\{ 2010,2011,2012,\dots,2019 \}$ are
      -- $2013 = 1 + 3 + 6 + 12 = 22$,
      -- $2014 = 1 + 5 + 6 + 10 = 22$,
      -- $2016 = 1 + 3 + 6 + 12 = 22$.
      simp [h₀] at hn
      rcases hn with ⟨hn, hn⟩
      have hn₁ : n ≥ 2010 := by
        exact hn₁
      have hn₂ : n ≤ 2019 := by
        exact hn₂
      interval_cases n
      · -- n = 2010
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
      · -- n = 2011
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
      · -- n = 2012
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
      · -- n = 2013
        exact ⟨(by norm_num), (by norm_num), (by use 12; norm_num)⟩
      · -- n = 2014
        exact ⟨(by norm_num), (by norm_num), (by use 10; norm_num)⟩
      · -- n = 2015
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
      · -- n = 2016
        exact ⟨(by norm_num), (by norm_num), (by use 12; norm_num)⟩
      · -- n = 2017
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
      · -- n = 2018
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
      · -- n = 2019
        exfalso
        simp [h₀] at hn
        obtain ⟨m, h₀, h₁⟩ := hn
        have h₂ : m ≥ 1 := by
          exact Nat.zero_lt_of_ne_zero h₀
        have h₃ : m ≥ 2 := by
          by_contra!
          have : m = 1 := by
            omega
          simp [this] at h₀
        have h₄ : m ≥ 3 := by
          by_contra!
          have : m = 1 ∨ m = 2 := by
            omega
          simp [this] at h₀
        have h₅ : m ≥ 4 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 := by
            omega
          simp [this] at h₀
        have h₆ : m ≥ 5 := by
          by_contra!
          have : m = 1 ∨ m = 2 ∨ m = 3 ∨ m = 4 := by
            omega
          simp [this] at h₀
        linarith
    · intro hn
      -- Verify that 2013, 2014, 2016 are all nice.
      simp [h₀, hn]
      · -- 2013 = 1 + 3 + 6 + 12 = 22
        use 12
        norm_num
      · -- 2014 = 1 + 5 + 6 + 10 = 22
        use 10
        norm_num
      · -- 2016 = 1 + 3 + 6 + 12 = 22
        use 12
        norm_num

  -- So the sum of all the nice numbers in the set $\{ 2010,2011,2012,\dots,2019 \}$ is
  -- $2013 + 2014 + 2016 = 6043$.
  have h₃ : ∑ k in S, k = 6043 := by
    rw [h₂]
    norm_num

  -- The final answer is 2016.
  rw [h₃] at h₁
  exact h₁

```