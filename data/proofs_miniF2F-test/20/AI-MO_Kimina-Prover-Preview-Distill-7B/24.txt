-- 500 = 2^2 * 5^3. So the sum of the positive divisors of 500 is (1 + 2 + 4)(1 + 5 + 25 + 125) = 7 * 156.
  have h₁ : a = 7 * 156 := by
    have g₀ : Nat.divisors 500 = {1, 2, 4, 5, 10, 20, 25, 50, 100, 125, 250, 500} := by
      decide
    rw [g₀] at h₀
    simp at h₀
    exact h₀

  -- 7 * 156 = 1092. The distinct prime divisors of 1092 are 2, 3, 7, and 13. Their sum is 25.
  have h₂ : Nat.divisors 1092 = {1, 2, 3, 4, 6, 7, 12, 13, 14, 21, 26, 28, 39, 42, 52, 78, 91, 156, 182, 273, 364, 546, 1092} := by
    decide
  have h₃ : (Nat.primeFactors 1092).toFinset = {2, 3, 7, 13} := by
    rw [Nat.primeFactors_eq_empty_iff.mp (by norm_num)]
    simp [h₂]
    rfl

  -- Write out the sum in question and prove it is 25.
  calc
    (∑ k in Finset.filter (fun x => Nat.Prime x) (Nat.divisors a), k)
        = (∑ k in Finset.filter (fun x => Nat.Prime x) (Nat.divisors (7 * 156)), k) := by rw [h₁]
    _ = (∑ k in Finset.filter (fun x => Nat.Prime x) {1, 2, 3, 4, 6, 7, 12, 13, 14, 21, 26, 28, 39, 42, 52, 78, 91, 156, 182, 273, 364, 546, 1092}, k) := by rw [h₂]
    _ = (∑ k in {2, 3, 7, 13}, k) := by rw [Finset.filter_primeFactors_eq_self (by norm_num)]
    _ = 25 := by simp
```