-- We first show that $|x| < 3\pi$ if and only if $-9 < x < 10$.
  have h₁ : ∀ x : ℤ, ↑(abs x) < 3 * Real.pi ↔ -9 < x ∧ x < 10 := by
    intro x
    constructor
    · intro hx
      have hx' : x ^ 2 < (3 * Real.pi) ^ 2 := by
        rw [Real.lt_sq] <;> (try norm_num) <;> linarith
      have hpi : 9 < 3 * Real.pi := by
        have : Real.pi > 3.1 := Real.pi_gt_314
        linarith
      have hx_abs : x ^ 2 < 100 := by
        nlinarith
      have hx' : -10 < x := by
        nlinarith
      have hx'' : x < 10 := by
        nlinarith
      exact ⟨hx', hx''⟩
    · intro hx
      obtain ⟨hx₁, hx₂⟩ := hx
      have hx' : (3 * Real.pi) ^ 2 > 81 := by
        have hpi : 9 < 3 * Real.pi := by
          have : Real.pi > 3.1 := Real.pi_gt_314
          linarith
        nlinarith
      have hx'' : x ^ 2 < 100 := by
        nlinarith
      rw [Real.lt_sq] <;> (try norm_num) <;> nlinarith

  -- Note that this shows that $S$ is the set of integers from $-9$ to $9$, inclusive.
  have h₂ : S = {-9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9} := by
    ext x
    constructor
    · intro hx
      have hx' := (h₁ x).mp hx
      obtain ⟨hx₁, hx₂⟩ := hx'
      interval_cases x <;> simp at hx' <;> tauto
    · intro hx
      have hx' := (h₁ x).mpr ⟨by omega, by omega⟩
      exact hx'

  -- We now use this to compute the cardinality of $S$.
  rw [h₂]
  rify
  norm_num
```