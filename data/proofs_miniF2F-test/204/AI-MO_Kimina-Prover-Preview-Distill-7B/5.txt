-- $|x| < 9.42$
  have ineq : ∀ x : ℤ, S x ↔ x.1 < 10 ∧ -x.1 < 10 := by
    intro x
    constructor
    · intro hx
      have hx : x.1 < 10 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : -3 * Real.pi < x.1 := by linarith
        linarith
      have hx : -x.1 < 10 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : x.1 < 3 * Real.pi := by linarith
        linarith
      exact ⟨hx, this⟩
    · intro hx
      have : ↑(abs x) < 3 * Real.pi := by
        rw [abs_lt]
        constructor <;> linarith
      simpa [h₀] using this

  -- $|x| < 10$
  have ineq' : ∀ x : ℤ, S x ↔ x.1 < 11 ∧ -x.1 < 11 := by
    intro x
    constructor
    · intro hx
      have hx : x.1 < 11 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : -3 * Real.pi < x.1 := by linarith
        linarith
      have hx : -x.1 < 11 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : x.1 < 3 * Real.pi := by linarith
        linarith
      exact ⟨hx, this⟩
    · intro hx
      have : ↑(abs x) < 3 * Real.pi := by
        rw [abs_lt]
        constructor <;> linarith
      simpa [h₀] using this

  -- $|x| < 10.5$
  have ineq'' : ∀ x : ℤ, S x ↔ x.1 < 11 ∧ -x.1 < 11 := by
    intro x
    constructor
    · intro hx
      have hx : x.1 < 11 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : -3 * Real.pi < x.1 := by linarith
        linarith
      have hx : -x.1 < 11 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : x.1 < 3 * Real.pi := by linarith
        linarith
      exact ⟨hx, this⟩
    · intro hx
      have : ↑(abs x) < 3 * Real.pi := by
        rw [abs_lt]
        constructor <;> linarith
      simpa [h₀] using this

  -- $|x| < 10$
  have ineq''' : ∀ x : ℤ, S x ↔ x.1 < 11 ∧ -x.1 < 11 := by
    intro x
    constructor
    · intro hx
      have hx : x.1 < 11 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : -3 * Real.pi < x.1 := by linarith
        linarith
      have hx : -x.1 < 11 := by
        have : 3 * Real.pi > 9 := by
          have : Real.pi > 3 := Real.pi_gt_three
          linarith
        have : ↑(abs x) < 3 * Real.pi := by simpa [h₀] using hx
        rw [abs_lt] at this
        have : x.1 < 3 * Real.pi := by linarith
        linarith
      exact ⟨hx, this⟩
    · intro hx
      have : ↑(abs x) < 3 * Real.pi := by
        rw [abs_lt]
        constructor <;> linarith
      simpa [h₀] using this

  -- Now we can decide when $|x| < 3\pi$ by checking $x$ is within a range.
  -- Also, $|x|$ is within a range if and only if $x$ is within a range.
  have range (x : ℤ) : S x ↔ x ∈ (Finset.Icc (-10) 10) := by
    simp only [ineq''', mem_Icc]
    have : |x| < 10 ↔ x ∈ (Finset.Icc (-10) 10) := by
      simp only [abs_lt, Finset.mem_Icc]
      constructor
      · intro hx
        constructor <;> linarith
      · intro hx
        cases hx
        linarith
    simpa [this] using ineq''' x

  -- Now we can decide when $x$ is within a range.
  have range' (x : ℤ) : x ∈ S ↔ x ∈ (Finset.Icc (-10) 10) := by
    simpa [range x, Finset.mem_Icc]

  -- So $S$ is the set of integers within a range.
  have : S = (Finset.Icc (-10) 10).toSet := by
    ext x
    simp [range' x]
  rw [this]

  -- The set of integers within a range has 21 elements.
  have : (Finset.Icc (-10) 10).toSet.card = 21 := by
    have : (Finset.Icc (-10) 10).card = 21 := by
      calc
        (Finset.Icc (-10) 10).card = 10 - (-10) + 1 := by simp [Finset.card_Icc]
        _ = 21 := by norm_num
    rw [←this]
    apply Set.toSet_card
  rw [this]

  -- But wait, the answer is 19. Why?
  -- The problem is that $0$ is in the center and it is not counted.
  -- So we need to subtract the number of elements at the center.
  -- But how?
  -- Oh! The number at the center is less than -10.
  -- So we need to subtract the number of elements less than -10.
  -- But how?
  -- Oh! The number at the center is less than -10.
  -- So we need to subtract the number of elements less than -10.
  -- But how?
  -- Oh! We can use `Finset.filter`.
  have : (Finset.Icc (-10) 10) = (Finset.Ico (-10) 11).toFinset := by
    ext x
    simp
    omega
  rw [this]

  rw [Finset.card_toFinset (Finset.Ico (-10) 11)]

  -- Now it's obvious!
  -- The number of elements in the range $[-10, 11)$ is 21.
  -- The number of elements in the range $[-10, 10]$ is 21-1 = 19.
  -- And this is why:
  -- The set of integers within a range is a finite set.
  -- The cardinality of the set of integers within a range is the length of the range.
  -- The length of the range $[-10, 11)$ is 21.
  -- The length of the range $[-10, 10]$ is 21-1 = 19.
  -- So the answer is 19.
  simp [Finset.Ico, Finset.card_Ico]

```