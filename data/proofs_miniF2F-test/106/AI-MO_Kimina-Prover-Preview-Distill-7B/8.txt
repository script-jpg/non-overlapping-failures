-- We first show that $x < 1$.
  have h : x < 1 := by
    -- If $x \ge 1$, then $\sqrt{3-x} \le \sqrt{2}$ and $\sqrt{x+1} \ge \sqrt{2}$,
    by_contra! h
    have hsqrt : Real.sqrt (2 : ℝ) < Real.sqrt (3 - x) := by
      apply Real.sqrt_lt_sqrt_of_le
      norm_num
      linarith only [h]
    have sqrt : Real.sqrt (2 : ℝ) < Real.sqrt (x + 1) := by
      apply Real.sqrt_lt_sqrt_of_le
      norm_num
      linarith only [h]
    -- so $\sqrt{3-x} - \sqrt{x+1} < 0$, contradicting to the assumption.
    have sqrt_sub : Real.sqrt (3 - x) - Real.sqrt (x + 1) < 0 := by
      linarith only [hsqrt, sqrt]
    linarith only [h₂, sqrt_sub]

  -- We now show that $1 - \dfrac{\sqrt{31}}{8} > 1 - \dfrac{\sqrt{127}}{32}$.
  have h' : 1 - Real.sqrt 31 / 8 > 1 - Real.sqrt 127 / 32 := by
    apply sub_lt_sub_left
    apply div_lt_div_of_pos_left
    repeat rw [Real.sqrt_lt sqrt]
    norm_num
    norm_num
    norm_num
    norm_num
    norm_num
    linarith only [Real.sqrt_pos.mpr (show (0:ℝ) < 31 by norm_num)]

  constructor
  · -- If $x < 1 - \dfrac{\sqrt{31}}{8}$, then $\sqrt{3-x} < \sqrt{127} / 8$ and $\sqrt{x+1} > 7 / 8$.
    (try linarith only [h₂])
    rw [gt_iff_lt]
    have sqrt_lt : Real.sqrt (3 - x) < Real.sqrt (127) / 8 := by
      apply (div_lt_div_iff_of_pos_right (show 0 < 8 by norm_num)).mpr
      rw [← Real.sqrt_mul (by norm_num)]
      apply Real.sqrt_lt_sqrt_of_le
      norm_num
      linarith only [h]
    have sqrt' : Real.sqrt (x + 1) > 7 / 8 := by
      apply (lt_div_iff₀ (show 0 < 8 by norm_num)).mp
      norm_num
      linarith only [h]
    -- So $\sqrt{3-x} - \sqrt{x+1} < 0$, contradicting to the assumption.
    have sqrt_sub : Real.sqrt (3 - x) - Real.sqrt (x + 1) < 0 := by
      linarith only [sqrt_lt, sqrt']
    linarith only [h₂, sqrt_sub]
  · -- If $-1 \le x$, then $\sqrt{3-x} \ge 1$ and $\sqrt{x+1} \le 1$,
    (try linarith only [h₂])
    have hsqrt : 1 < Real.sqrt (3 - x) := by
      apply Real.lt_sqrt_of_sq_lt
      norm_num
      linarith only [h]
    have sqrt : Real.sqrt (x + 1) < 1 := by
      apply (Real.sqrt_lt' (by norm_num)).mpr
      norm_num
      linarith only [h]
    -- so $\sqrt{3-x} - \sqrt{x+1} > 0$, confirming the inequality.
    linarith only [hsqrt, sqrt]

```