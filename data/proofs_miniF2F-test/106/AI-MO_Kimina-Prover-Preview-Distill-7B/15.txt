have h₃ : 1 / 4 < (Real.sqrt (3 - x) - Real.sqrt (x + 1)) ^ 2 := by nlinarith

  have h₄ : (Real.sqrt (3 - x) - Real.sqrt (x + 1)) ^ 2 = 3 - x + (x + 1) - 2 * Real.sqrt (3 - x) * Real.sqrt (x + 1) := by
    ring_nf
    <;> try (simp [Real.sq_sqrt])
    <;> linarith

  rw [h₄] at h₃
  simp [sub_mul] at h₃

  have h₅ : 2 * Real.sqrt (3 - x) * Real.sqrt (x + 1) = Real.sqrt ((3 - x) * (x + 1)) * 2 := by
    congr 1
    exact Eq.symm (Real.sqrt_mul (by linarith) (3 - x) (x + 1))

  rw [h₅] at h₃

  have h₆ : 3 - x + (x + 1) = 4 := by linarith

  rw [h₆] at h₃
  simp at h₃

  have h₇ : 1 - Real.sqrt 31 / 8 > 0 := by
    suffices : Real.sqrt 31 < 8
    · linarith
    rw [Real.sqrt_lt]
    all_goals linarith
  have h₈ : 1 / 2 < Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
    calc
      1 / 2 < 1 := by linarith
      _ < Real.sqrt 3 := by
        suffices 3 < (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) by
          apply Real.sqrt_lt_sqrt
          all_goals linarith
        linarith
      _ ≤ Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
        apply Real.sqrt_le_sqrt
        linarith

  have h₉ : 4 - Real.sqrt ((3 - x) * (x + 1)) * 2 > 0 := by
    calc
      4 - Real.sqrt ((3 - x) * (x + 1)) * 2 > 4 - (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
        linarith
      _ = 0 := by linarith
  have h₁₀ : 4 - Real.sqrt ((3 - x) * (x + 1)) * 2 < 4 := by
    calc
      4 - Real.sqrt ((3 - x) * (x + 1)) * 2 < 4 - 0 := by
        linarith
      _ = 4 := by linarith

  have h₁₁ : 0 < 4 - Real.sqrt ((3 - x) * (x + 1)) * 2 := by linarith

  have h₁₂ : 1 - Real.sqrt 31 / 8 - Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) < 0 := by
    calc
      1 - Real.sqrt 31 / 8 - Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) < 1 - 1 / 2 - Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
        linarith
      _ = 1 / 2 - Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by linarith
      _ < 1 / 2 - 1 / 2 := by
        suffices : 1 / 2 < Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2)
        · linarith
        assumption
      _ = 0 := by linarith

  have h₁₃ : 1 - Real.sqrt 31 / 8 < Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
    calc
      1 - Real.sqrt 31 / 8 = 1 - Real.sqrt 31 / 8 - Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) + Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
        ring
      _ < 0 + Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
        linarith
      _ = Real.sqrt (4 - Real.sqrt ((3 - x) * (x + 1)) * 2) := by
        ring

  have h₁₄ : 0 < 1 - Real.sqrt 31 / 8 := by linarith

  have h₁₅ : 1 - Real.sqrt 31 / 8 < 0 ∨ 0 ≤ 1 - Real.sqrt 31 / 8 := by
    by_cases h : 1 - Real.sqrt 31 / 8 < 0
    · left; exact h
    · right; exact le_of_not_lt h

  cases h₁₅ with
  | inl h =>
    linarith
  | inr h =>
    have h₁₆ : 0 < 1 - Real.sqrt 31 / 8 := by linarith
    have h₁₇ : 1 - Real.sqrt 31 / 8 < 1 := by
      suffices : Real.sqrt 31 > 0
      · linarith
      exact Real.sqrt_pos_of_pos (by linarith)
    have h₁₈ : 1 - Real.sqrt 31 / 8 < 1 - Real.sqrt 31 / 8 ∨ 1 - Real.sqrt 31 / 8 ≤ 1 - Real.sqrt 31 / 8 := by
      by_cases h : 1 - Real.sqrt 31 / 8 < 1 - Real.sqrt 31 / 8
      · left; exact h
      · right; exact le_of_not_lt h
    cases h₁₈ with
    | inl h =>
      linarith
    | inr h =>
      exact h

```