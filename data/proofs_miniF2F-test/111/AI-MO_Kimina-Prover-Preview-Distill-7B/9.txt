-- First, we expand the product $(ax-8)(bx+3)$.
  have h₁ : ∀ x : ℝ, (a * x - 8) * (b * x + 3) = a * b * x ^ 2 + (3 * a - 8 * b) * x - 24 := by
    intro x
    ring

  -- The original expression is $10x^2-x-24$.
  have h₂ : ∀ x : ℝ, 10 * x ^ 2 - x - 24 = 10 * x ^ 2 + (-1) * x + (-24) := by
    intro x
    ring

  -- From the two expressions, we get $(ax-8)(bx+3) = 10x^2-x-24$, so their coefficients are equal.
  have h₃ : ∀ x : ℝ, a * b * x ^ 2 + (3 * a - 8 * b) * x - 24 = 10 * x ^ 2 + (-1) * x + (-24) := by
    intro x
    specialize h₁ x
    specialize h₂ x
    linarith [h₀ x, h₁, h₂]

  -- We consider three cases: $a = 0$, $b = 0$, or none of them.
  by_cases ha : a = 0
  · -- If $a = 0$, then $-24 = -10$, which is a contradiction.
    have h₄ := h₃ 0
    simp at h₄

  by_cases hb : b = 0
  · -- If $b = 0$, then $-24 = -8$, which is a contradiction.
    have h₄ := h₃ 0
    simp at h₄

  · -- If $a \neq 0$ and $b \neq 0$, we compare the coefficients of $x^2$ and $x$.
    have h₄ := h₃ 1
    simp at h₄
    have h₅ := h₃ 2
    simp at h₅

    -- On the one hand, $ab = 10$ and $3a - 8b = -1$.
    have h₆ : a * b = 10 := by
      linarith [h₄, h₅]
    have h₇ : 3 * a - 8 * b = -1 := by
      linarith [h₄, h₅]

    -- On the other hand, $a$ is a divisor of -8 and $b$ is a divisor of -24.
    have h₈ : ∃ k : ℤ, k * a = -8 := by
      use (3 * a - 8 * b + 1)
      linarith [h₀ 1, h₆, h₇]
    have h₉ : ∃ l : ℤ, l * b = -24 := by
      use (a * b * 2 + a - 8)
      linarith [h₀ 2, h₆, h₇]

    -- These divisors can be listed in a table.
    rcases h₈ with ⟨k, hk⟩
    rcases h₉ with ⟨l, hl⟩

    -- We eliminate the impossible cases.
    have h₁₀ : l < 0 := by
      by_contra!
      have : l * b ≥ 0 := by
        apply mul_nonneg
        assumption
        linarith [show 0 ≤ b by linarith]
      linarith [show l * b = -24 by linarith]
    have h₁₁ : k < 0 := by
      by_contra!
      have : k * a ≥ 0 := by
        apply mul_nonneg
        assumption
        linarith [show 0 ≤ a by linarith]
      linarith [show k * a = -8 by linarith]

    -- The possible values of $a$ are 2, 4, 5, 8, 10, 20, 24, 40, 48, 80, 120, 240, -1, -2, -4, -5, -8, -10, -20, -24, -40, -48, -80, -120, -240.
    have h₁₂ : a = 2 ∨ a = 4 ∨ a = 5 ∨ a = 8 ∨ a = 10 ∨ a = 20 ∨ a = 24 ∨ a = 40 ∨ a = 48 ∨ a = 80 ∨ a = 120 ∨ a = 240 ∨ a = -1 ∨ a = -2 ∨ a = -4 ∨ a = -5 ∨ a = -8 ∨ a = -10 ∨ a = -20 ∨ a = -24 ∨ a = -40 ∨ a = -48 ∨ a = -80 ∨ a = -120 ∨ a = -240 := by
      rw [show (-8 : ℤ) = 2 * (-4) by norm_num, mul_assoc] at hk
      have h₁₂ : k * a = 2 * (-4) := by
        linarith
      have : k ∣ 2 * (-4) := by
        apply dvd_mul_right
      have h₁₃ : k = 1 ∨ k = -1 ∨ k = 2 ∨ k = -2 ∨ k = 4 ∨ k = -4 ∨ k = 8 ∨ k = -8 ∨ k = 16 ∨ k = -16 ∨ k = 32 ∨ k = -32 ∨ k = 64 ∨ k = -64 ∨ k = 128 ∨ k = -128 ∨ k = 256 ∨ k = -256 := by
        apply Int.eq_one_or_neg_one_of_mul_eq_one
        rw [h₁₂, show (2 : ℤ) * (-4) = 1 * (-8) by ring]
        apply Int.eq_one_or_neg_one_of_mul_eq_one
        norm_num
      rcases h₁₃ with (h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁₃ | h₁