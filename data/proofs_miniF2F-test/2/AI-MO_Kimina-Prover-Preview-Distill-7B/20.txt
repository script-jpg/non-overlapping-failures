-- A lemma to simplify $\log(xyz)$ to $\log(x) + \log(y) + \log(z)$.
  have hxyz (x y z : ℕ) (hw : 0 ≤ w) : Real.log (x * y * z) = Real.log x + Real.log y + Real.log z := by
    rw [← Real.log_mul (by norm_num) (by norm_num), ← Real.log_mul (by norm_num) (by norm_num)]
    exact Real.log_mul (by norm_num) (by norm_num)

  -- Apply the lemma to rewrite $\log(xyz)$ in terms of $\log(x)$, $\log(y)$ and $\log(z)$.
  have hxyz' : Real.log (x * y * z) = Real.log x + Real.log y + Real.log z := by
    apply hxyz x y z
    exact hw

  -- Substitute the expressions for $\log(w)$ given by log_a(w) = 24 and log_b(w) = 40 into the equation log_{abc}(w) = 12.
  rw [h0, h1, hxyz'] at h2
  field_simp at h0 h1 h2

  -- Solve for log_z(w).
  have h3 : Real.log w = 24 * Real.log x := by linarith
  have h4 : Real.log w = 40 * Real.log y := by linarith
  have h5 : Real.log w = 12 * (Real.log x + Real.log y + Real.log z) := by linarith
  rw [h3] at h5
  linarith
```