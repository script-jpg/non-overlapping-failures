-/
theorem amc12b_2021_p18 (z : ℂ)
    (h₀ : 12 * Complex.normSq z = 2 * Complex.normSq (z + 2) + Complex.normSq (z ^ 2 + 1) + 31) :
    z + 6 / z = -2 := by
  /-
  Given a complex number \( z \) satisfying the equation \( 12|z|^2 = 2|z+2|^2 + |z^2+1|^2 + 31 \), we need to find the value of \( z + \frac{6}{z} \).
  1. **Simplify the given equation**: The equation involves the norms of complex numbers, which can be expressed in terms of real and imaginary parts.
  2. **Normalize the equation**: By expanding and simplifying the equation, we can isolate the real and imaginary parts.
  3. **Solve for \( z \)**: Using the simplified equation, we can solve for the real and imaginary parts of \( z \).
  4. **Formulate the solution**: The solution \( z + \frac{6}{z} \) can be expressed in terms of the real and imaginary parts of \( z \).
  5. **Verify the solution**: Check that the solution satisfies the original equation and the given conditions.
  -/
  have h₁ : z ≠ 0 := by
    intro h
    simp_all [Complex.ext_iff, Complex.normSq]
  -- Simplify the equation by clearing denominators and isolating real and imaginary parts.
  field_simp [h₁, Complex.ext_iff, Complex.normSq] at h₀ ⊢
  -- Normalize the equation by expanding and simplifying it.
  ring_nf at h₀ ⊢
  -- Use numerical simplification to verify the solution.
  norm_num at h₀ ⊢
  -- Solve the resulting system of linear equations.
  exact ⟨by nlinarith, by nlinarith⟩
```