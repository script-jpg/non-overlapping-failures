-- Let $z=a+bi$, where $a$ and $b$ are real numbers.
  let a := z.re
  let b := z.im

  -- Substitute $z=a+bi$ into the given equation.
  have h₁ : 12 (a ^ 2 + b ^ 2) = 2(a + 2) ^ 2 + (a ^ 2 + 2 * a * b + b ^ 2 + 1) ^ 2 + 31 := by
    simp [Complex.abs_eq_sqrt_sq_add_sq, pow_two] at h₀
    ring_nf at h₀
    nlinarith

  -- Simplify the equation.
  replace h₁ : (a - 1) * (a + 3) * (a + 2 * b + 5) = 0 := by nlinarith

  -- Prove that $a=1$, $a=-3$ or $a=-2b-5$.
  have h₂ : a = 1 ∨ a = -3 ∨ a = -2 * b - 5 := by
    simp [mul_eq_zero] at h₁
    rcases h₁ with ((h₁ | h₁) | h₁)
   . left; linarith
   . right; left; linarith
   . right; right; linarith

  -- Prove that $a=1$ or $a=-3$.
  have h₃ : a = 1 ∨ a = -3 := by
    rcases h₂ with (h₂ | h₂ | h₂)
   . exact h₂
   . exact h₂
   . exfalso; linarith

  -- Substitute $a=1$ or $a=-3$ into $12|z|^2=2|z+2|^2+|z^2+1|^2+31$.
  have h₄ : (b - 1) * (b + 1) = 0 := by
    rcases h₃ with (h₃ | h₃)
   . simp [h₃] at h₁
      ring_nf at h₁
      nlinarith
   . simp [h₃] at h₁
      ring_nf at h₁
      nlinarith

  -- Solve for $b$ and substitute.
  have h₅ : b = 1 ∨ b = -1 := by
    simp [mul_eq_zero] at h₄
    rcases h₄ with (h₄ | h₄)
   . left; linarith
   . right; linarith

  -- Check the possible values of $z$.
  rcases h₅ with (h₅ | h₅)
 . simp [h₃, h₅]
    field_simp
    ring_nf
 . simp [h₃, h₅]
    field_simp
    ring_nf
```