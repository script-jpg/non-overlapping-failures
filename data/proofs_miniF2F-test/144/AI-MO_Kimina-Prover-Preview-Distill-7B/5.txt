have h₁ : 0 ≤ z * 3 / (z + 2) := by
    apply div_nonneg <;> nlinarith [sq_nonneg z, sq_nonneg (z + 2)]

  have h₂ : 2 * (z + 2) ^ 2 = 3 * z * (z + 2) + 2 * z ^ 2 + 6 + z ^ 2 * (z ^ 2 + 1) :=
    calc
      2 * (z + 2) ^ 2 = 2 * (z ^ 2 + 4 * z + 4) := by ring
      _ = 2 * z ^ 2 + 8 * z + 8 := by ring
      _ = 3 * z * (z + 2) + 2 * z ^ 2 + 6 + z ^ 2 * (z ^ 2 + 1) := by
        apply Eq.symm
        apply add_eq_of_eq_sub
        ring_nf
        rw [←normSq_eq_sq_abs, normSq_eq_sq_abs, normSq_eq_sq_abs]
        ring_nf
        nlinarith

  have h₃ : 2 * z ^ 2 + 8 * z + 8 = 3 * z * (z + 2) + 2 * z ^ 2 + 6 + z ^ 2 * (z ^ 2 + 1) := by
    apply Eq.symm
    apply add_eq_of_eq_sub
    rw [←h₂]
    ring_nf
    rw [normSq_eq_sq_abs, sq_abs, sq_abs]
    ring_nf
    nlinarith

  have h₄ : 0 ≤ z * (z + 2) := by
    apply mul_nonneg <;> nlinarith [sq_nonneg z, sq_nonneg (z + 2)]

  have h₅ : 0 ≤ (z + 2) ^ 2 := by
    apply sq_nonneg

  have h₆ : 0 ≤ z ^ 2 * (z ^ 2 + 1) := by
    apply mul_nonneg <;> nlinarith [sq_nonneg z, sq_nonneg (z ^ 2 + 1)]

  have h₇ : 0 ≤ 3 * z * (z + 2) := by
    apply mul_nonneg <;> nlinarith [sq_nonneg z, sq_nonneg (z + 2)]

  have h₈ : 0 ≤ 2 * z ^ 2 + 8 * z + 8 := by nlinarith [sq_nonneg z]

  have h₉ : 0 ≤ 3 * z * (z + 2) + 2 * z ^ 2 + 6 + z ^ 2 * (z ^ 2 + 1) := by nlinarith [sq_nonneg z, sq_nonneg (z ^ 2 + 1)]

  have h₁₀ : z * (z + 2) * (z ^ 2 * (z ^ 2 + 1) - 2) = 0 := by
    ring_nf
    rw [normSq_eq_sq_abs, sq_abs, sq_abs]
    ring_nf
    nlinarith

  simp at h₁₀

  rcases h₁₀ with (((h₁₀ | h₁₀) | h₁₀) | h₁₀)

  · -- Suppose that $z=0$. Then $z + 6/z = 0 + 6/0$ is undefined, a contradiction.
    rw [h₁₀]
    norm_num

  · -- Suppose that $z+2=0$. Then $z + 6/z = -2 + 6/(-2) = -5$, which is not -2, a contradiction.
    rw [eq_zero_of_ne_zero_of_mul_right_eq_zero h₁₀, <-add_eq_zero_iff_eq_neg] at h₁₀
    rw [h₁₀]
    norm_num

  · -- Suppose that $z^2(z^2+1)-2=0.$ Then $z^4 + z^2 - 2 = 0$. But this factors as $(z^2+2)(z^2-1)=0$, which has no roots in $\mathbb{C}$, a contradiction.
    have h₁₁ : (z ^ 2 + 2) * (z ^ 2 - 1) = 0 := by
      ring_nf
      rw [h₁₀]
      ring_nf
    simp at h₁₁

    rcases h₁₁ with (h₁₁ | h₁₁)

    · -- If $z^2+2=0$, then $z^2 = -2$, which has no real solutions.
      have h₁₂ : z ^ 2 = -2 := by linarith
      have h₁₃ : z ^ 2 > 0 := by nlinarith [sq_pos_of_ne_zero h₄]
      linarith

    · -- If $z^2-1=0$, then $z^2 = 1$, so $z = \pm 1$.
      have h₁₃ : z ^ 2 = 1 := by linarith
      have h₁₄ : z = 1 ∨ z = -1 := by
        rw [sq_eq_one_iff] at h₁₃
        exact h₁₃

      rcases h₁₄ with (h₁₄ | h₁₄)

      · -- If $z=1$, then $z + 6/z = 1 + 6/1 = 7$, which is not -2, a contradiction.
        rw [h₁₄]
        norm_num

      · -- If $z=-1$, then $z + 6/z = -1 + 6/(-1) = -7$, which is not -2, a contradiction.
        rw [h₁₄]
        norm_num

  · -- Suppose that $z + 2 = 0$. This case is impossible, as we have already checked that $z = -2$ is not a solution, so we may assume that $z + 2 \neq 0$.
    exact False.elim (h₁₀ (by assumption))

```