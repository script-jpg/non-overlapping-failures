-- Simplify `Nat.ofDigits` expressions.
  simp [Nat.ofDigits] at h₁
  omega

```

The key insight is that we can use the `omega` tactic, which is powerful for solving goals involving natural numbers and arithmetic. After expanding the definitions of `Nat.ofDigits` in our equation, we get a constraint on the values of $A$, $M$, and $C$. These variables represent digits, so they must be between 0 and 9, which gives us a finite domain to search.

Let's think about why the answer is 14. When we add the two numbers $AMC10$ and $AMC12$, we get $123422$. Notice that the last digit of $AMC10$ is 0 and the last digit of $AMC12$ is 2. When we add these, we get $0 + 2 = 2$ in the units place of the sum, which means there's no carry-over from the previous column.

Looking at the tens place, we have $1 + 1 = 2$ in $AMC12$, which matches the tens digit of the sum. This means the carry-over from the units place is 0, and the hundreds digit in both numbers is 1, which adds up to 2 in the hundreds place of the sum.

For the thousands place, we have $M + M = 2M$, but in the sum, it's $3$ in the thousands place. This suggests $2M$ must end with 3, which means $M$ must be 6 or 7 (since $2 \times 6 = 12$ and $2 \times 7 = 14$). But if $M = 7$, then $2M = 14$, which would mean a carry-over of 1 to the ten-thousands place. Let's check if that works.

If $M = 7$, then the ten-thousands digit would be $A + A + 1$ (from the carry-over) = $2A + 1$. In the sum, the ten-thousands digit is 1, so $2A + 1 = 1$, which means $2A = 0$, so $A = 0$.

If $A = 0$ and $M = 7$, then from the thousands place, we have $2M = 14$, so we carry over 1. Then in the hundreds place, we have $2 + 1 = 3$, which matches the sum.

Now, looking at the hundreds place in $AMC10$ (which is 0) and $AMC12$ (which is 2), plus the carry-over of 1, we get $0 + 2 + 1 = 3$, which matches the hundreds digit in the sum.

For the thousands place, we have $M + M = 14$, so carry over 1 to ten-thousands place, and $2A + 1 = 1$ (from the ten-thousands digit in the sum), so $2A = 0$, $A = 0$.

So $A = 0$, $M = 7$, $C$ must be such that $10C + 12C = 22C$ in the units and tens places. $22C$ must end with 2 in the tens place, so $2C$ must end with 2, which means $C = 1$ or $C = 6$. But if $C = 1$, then $22 \times 1 = 22$, which would make the tens digit of the sum $2$ (with a carry-over of 2 to the units place). This would mean the units digit of the sum is $2 + 2 = 4$, but in the problem, the units digit is 2, so $C = 1$ is invalid. Thus $C = 6$.

So $A = 0$, $M = 7$, $C = 6$, and $A + M + C = 0 + 7 + 6 = 13$. But wait, that contradicts the claimed answer of 14.

Let's recompute more carefully. The number $AMC10$ represents $10000A + 1000M + 100C + 10$. Similarly, $AMC12$ is $10000A + 1000M + 100C + 12$. Their sum is $20000A + 2000M + 200C + 22 = 123422$.

Subtracting 22 from both sides: $20000A + 2000M + 200C = 123400$.

Dividing by 200: $100A + 10M + C = 617$.

So $100A + 10M + C = 617$, and $A$, $M$, $C$ are digits.

This gives us $A = 6$, $10M + C = 17$, so $M = 1$, $C = 7$.

Thus $A + M + C = 6 + 1 + 7 = 14$, which is the claimed answer.

The Lean proof is elegant because it directly encodes the problem constraints and lets the automated tactic `omega` solve the arithmetic goals. The constraint that $A$, $M$, $C$ are digits (0-9) is crucial, as it allows us to narrow down the possibilities. Without that constraint, the equation $100A + 10M + C = 617$ would have multiple solutions, but with the digit constraint, we get a unique solution.
</s>
```lean4
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat



/-- The sum of the two 5-digit numbers $AMC10$ and $AMC12$ is $123422$. What is $A+M+C$? 

$ \mathrm{(A) \ } 10\qquad \mathrm{(B) \ } 11\qquad \mathrm{(C) \ } 12\qquad \mathrm{(D) \ } 13\qquad \mathrm{(E) \ } 14 $ Show that it is \mathrm{(E)}\ 14.-/

theorem amc12a_2003_p5 (A M C : ℕ) (h₀ : A ≤ 9 ∧ M ≤ 9 ∧ C ≤ 9)
    (h₁ : Nat.ofDigits 10 [0, 1, C, M, A] + Nat.ofDigits 10 [2, 1, C, M, A] = 123422) :
    A + M + C = 14 := by
  -- Simplify `Nat.ofDigits` expressions.
  simp [Nat.ofDigits] at h₁
  omega
```