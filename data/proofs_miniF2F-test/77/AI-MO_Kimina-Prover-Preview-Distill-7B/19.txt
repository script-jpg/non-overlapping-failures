-- Simplify `Nat.ofDigits` to `10 ^ k * d` where $d$ is a digit and $k \ge 0$.
  simp [Nat.ofDigits] at h₁

  -- Re-arrange terms to group them by digit.
  have h₁ : (10 ^ 4 * A + 10 ^ 3 * M + 10 ^ 2 * C + 10 ^ 1 * M + 10 ^ 0 * A) +
    (10 ^ 4 * A + 10 ^ 3 * M + 10 ^ 2 * C + 10 ^ 1 * M + 10 ^ 0 * A) =
    123422 := by linarith only [h₁]
  have h₁ : 2 * 10 ^ 4 * A + 2 * 10 ^ 3 * M + 2 * 10 ^ 2 * C + 2 * 10 ^ 1 * M + 2 * 10 ^ 0 * A =
    123422 := by linarith only [h₁]

  -- Notice that all terms besides the units digit are even, so the units digit must be odd.
  have h₁ : 2 * 10 ^ 4 * A + 2 * 10 ^ 3 * M + 2 * 10 ^ 2 * C + 2 * 10 ^ 1 * M + 2 * A =
    123422 := by linarith only [h₁]
  have h₁ : 2 * (10 ^ 4 * A + 10 ^ 3 * M + 10 ^ 2 * C + 10 ^ 1 * M + A) =
    123422 := by linarith only [h₁]
  have h₂ : 10 ^ 4 * A + 10 ^ 3 * M + 10 ^ 2 * C + 10 ^ 1 * M + A =
    61711 := by linarith only [h₁]

  -- We know that $A$ is at most 6 because the largest possible value of $10M + C$ is 95.
  have h₃ : A ≤ 6 := by
    linarith only [h₀, sq_nonneg (M - 5), sq_nonneg (C - 9)]

  -- We can now substitute different possible values of $A$ and solve for $M$ and $C$.
  interval_cases A
  · -- If $A = 0$, then $10M + C = 61711$, which is impossible.
    exfalso
    linarith only [h₀, sq_nonneg (M - 9)]
  · -- If $A = 1$, then $10M + C = 51710$, which is impossible.
    exfalso
    linarith only [h₀, sq_nonneg (M - 9)]
  · -- If $A = 2$, then $10M + C = 41709$, which is impossible.
    exfalso
    linarith only [h₀, sq_nonneg (M - 9)]
  · -- If $A = 3$, then $10M + C = 31708$, which is impossible.
    exfalso
    linarith only [h₀, sq_nonneg (M - 9)]
  · -- If $A = 4$, then $10M + C = 21707$, which is impossible.
    exfalso
    linarith only [h₀, sq_nonneg (M - 9)]
  · -- If $A = 5$, then $10M + C = 11706$, so $M = 1$ and $C = 6$. 
    have h₃ : M = 1 := by linarith only [h₀, h₂]
    have h₃ : C = 6 := by linarith only [h₀, h₂]
    linarith only [h₃, h₃]
  · -- If $A = 6$, then $10M + C = 617$, so $M = 6$ and $C = 1$.
    have h₃ : M = 6 := by linarith only [h₀, h₂]
    have h₃ : C = 1 := by linarith only [h₀, h₂]
    linarith only [h₃, h₃]
```