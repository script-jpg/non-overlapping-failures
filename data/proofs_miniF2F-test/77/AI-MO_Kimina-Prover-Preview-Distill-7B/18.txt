-- https://artofproblemsolving.com/wiki/index.php/2003_AMC_12A_Problems/Problem_5

  -- Note: "Nat.ofDigits 10 [0, 1, C, M, A]" represents the 5-digit number $AMC10$.
  have h₂ : Nat.ofDigits 10 [0, 1, C, M, A] = 10 + C * 10^2 + M * 10^3 + A * 10^4 := by
    simp [Nat.ofDigits]
    rw [mul_assoc, mul_assoc, mul_assoc]
    norm_num
    ring
  have h₃ : Nat.ofDigits 10 [2, 1, C, M, A] = 2 + C * 10^2 + M * 10^3 + A * 10^4 := by
    simp [Nat.ofDigits]
    rw [mul_assoc, mul_assoc, mul_assoc]
    norm_num
    ring
  rw [h₂, h₃] at h₁
  norm_num at h₁
  -- Now we analyze the 5-digit number $123422$.
  have h₄ : A = 1 := by
    linarith
  have h₅ : C = 2 := by
    linarith
  have h₆ : M = 3 := by
    linarith
  rw [h₄, h₅, h₆]
```