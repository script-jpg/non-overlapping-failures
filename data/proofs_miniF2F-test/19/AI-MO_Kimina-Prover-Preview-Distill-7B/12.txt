-- Show that $x<45/8$.
  have h₃ : x < 45 / 8 := by
    -- Consider the function $f(x)=\dfrac{4x^2}{(1 - \sqrt {2x + 1})^2}$.
    let f : ℝ → ℝ := fun x => 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2
    -- Show that $f(x)$ is strictly increasing on $[-1/2, 45/8)$.
    have h₄ : StrictMonoOn f (Icc (-1 / 2) (45 / 8)) := by
      -- Show that $f(x)$ is strictly increasing on $[-1/2, 1/2]$.
      have h₄₁ : StrictMonoOn f (Icc (-1 / 2) (1 / 2)) := by
        intro x hx y hy hxy
        simp [f] at *
        -- Prove that $1-\sqrt{2x+1}$ is strictly increasing on $[-1/2, 1/2]$.
        have h₄₁₁ : StrictMonoOn (fun x => 1 - Real.sqrt (1 + 2 * x)) (Icc (-1 / 2) (1 / 2)) := by
          intro a ha b hb hab
          simp at ha hb
          apply Real.sqrt_lt_sqrt
          linarith
          linarith
        -- Prove that $g(x)=(1-\sqrt{2x+1})^2$ is strictly increasing on $[-1/2, 1/2]$.
        have h₄₁₂ : StrictMonoOn (fun x => (1 - Real.sqrt (1 + 2 * x)) ^ 2) (Icc (-1 / 2) (1 / 2)) := by
          intro a ha b hb hab
          simp at ha hb
          apply sq_lt_sq'
          linarith [h₄₁₁ ha.left hb.left]
          linarith
        -- Prove that $f(x)=\dfrac{4x^2}{(1-\sqrt{2x+1})^2}$ is strictly increasing on $[-1/2, 1/2]$.
        have h₄₁₃ : StrictMonoOn (fun x => 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2) (Icc (-1 / 2) (1 / 2)) := by
          apply StrictMonoOn.div
          -- The function $x^2$ is strictly increasing on $[-1/2, 1/2]$.
          apply StrictMonoOn.pow
          apply StrictMonoOn identity
          -- The function $g(x)=(1-\sqrt{2x+1})^2$ is strictly increasing on $[-1/2, 1/2]$.
          exact h₄₁₂
          -- The function $g(x)=(1-\sqrt{2x+1})^2$ is positive on $[-1/2, 1/2]$.
          simp
          intro x hx
          simp at hx
          apply ne_of_gt
          apply sq_pos_of_pos
          -- The square root function is strictly increasing on $[0,1/2]$.
          apply Real.sqrt_lt_sqrt
          linarith
          -- We have $1-\sqrt{2x+1}>0$ if and only if $x<1/2$.
          suffices 2 * x + 1 < 1 / 2 by linarith
          linarith
        -- The function $f(x)=\dfrac{4x^2}{(1-\sqrt{2x+1})^2}$ is strictly increasing on $[-1/2, 45/8)$.
        exact h₄₁₃
      -- Show that $f(x)$ is strictly increasing on $[1/2, 45/8)$.
      have h₄₂ : StrictMonoOn f (Icc (1 / 2) (45 / 8)) := by
        intro x hx y hy hxy
        simp [f] at *
        -- Prove that $1-\sqrt{2x+1}$ is strictly decreasing on $[1/2, 45/8]$.
        have h₄₂₁ : StrictAntiOn (fun x => 1 - Real.sqrt (1 + 2 * x)) (Icc (1 / 2) (45 / 8)) := by
          intro a ha b hb hab
          simp at ha hb
          apply Real.sqrt_le_sqrt
          linarith
          linarith
        -- Prove that $g(x)=(1-\sqrt{2x+1})^2$ is strictly decreasing on $[1/2, 45/8]$.
        have h₄₂₂ : StrictAntiOn (fun x => (1 - Real.sqrt (1 + 2 * x)) ^ 2) (Icc (1 / 2) (45 / 8)) := by
          intro a ha b hb hab
          simp at ha hb
          apply sq_lt_sq'
          linarith
          apply le_of_lt
          -- We have $1-\sqrt{2x+1}>0$ if and only if $x<1/2$.
          suffices 2 * x + 1 < 1 / 2 by linarith
          linarith
        -- Prove that $f(x)=\dfrac{4x^2}{(1-\sqrt{2x+1})^2}$ is strictly increasing on $[-1/2, 45/8)$.
        have h₄₂₃ : StrictMonoOn (fun x => 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2) (Icc (1 / 2) (45 / 8)) := by
          apply StrictMonoOn.div
          -- The function $x^2$ is strictly increasing on $[-1/2, 45/8)$.
          apply StrictMonoOn.pow
          apply StrictMonoOn identity
          -- The function $g(x)=(1-\sqrt{2x+1})^2$ is strictly decreasing on $[1/2, 45/8]$.
          exact h₄₂₂
          -- The function $g(x)=(1-\sqrt{2x+1})^2$ is positive on $[1/2, 45/8]$.
          simp
          intro x hx
          simp at hx
          apply ne_of_gt
          apply sq_pos_of_pos
          -- The square root function is strictly increasing on $[0,1/2]$.
          apply Real.sqrt_lt_sqrt
          linarith
          -- We have $1-\sqrt{2x+1}>0$ if and only if $x<1/2$.
          suffices 2 * x + 1 < 1 / 2 by linarith
          linarith
        exact h₄₂₃
      -- The function $f(x)=\dfrac{4x^2}{(1-\sqrt{2x+1})^2}$ is strictly increasing on $[-1/2, 45/8)$.
      have h₄₃ : StrictMonoOn f (Icc (-1 / 2) (45 / 8)) := by
        intro x hx y hy hxy
        cases lt_or_le x y with
        | inl hxy =>
          -- If $x<y$, then $f(x)<f(y)$ by the previous cases.
          by_cases h'' : x < 1 / 2
          · -- If $x<1/2$, then $f(x)<f(y)$ because $f(x)$ is strictly increasing on $[-1/2, 1/2]$.
            left
            apply h₄₁
            left
            constructor
            any_goals linarith
            exact h''
          · -- If $1/2 \le x < y$, then $f(x)<f(y)$ because $f(x)$ is strictly increasing on $[1/2, 45/8]$.
            right
            apply h₄₂
            left
            constructor
            any_goals linarith
            exact h''
        | inr hxy =>
          -- If $x \ge y$, then $f(x)<f(y)$ because $f(x)$ is strictly increasing on $[-1/2, 45/8]$.
          simp [f]
          have h₄₃₁ : 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2 < 2 * x + 9 := h₂
          -- If $x \ge y$, then $f(x) \le f(y)$ because $f(x)$ is strictly increasing on $[-1/2, 45/8]$.
          have h₄₃₂ : 4 * y ^ 2 / (1 - Real.sqrt (1 + 2 * y)) ^ 2 < 2 * y + 9 := by
            -- Show that $y \in [-1/2, 45/8]$.
            have h₄₃₂₁ : 0 ≤ 1 + 2 * y := by linarith
            have h₄₃₂₂ : 1 - Real.sqrt (1 + 2 * y) ≠ 0 := by
              intro h
              rw [sub_eq_zero] at h
              rw [h] at h₁
              simp at h₁
            have h₄₃₂₃ : 4 * y ^ 2 / (1 - Real.sqrt (1 + 2 * y)) ^ 2 < 2 * y + 9 := by
              apply (h₂ : (1 - Real.sqrt (1 + 2 * y)) ^ 2 > 0)
              nlinarith
            exact h₄₃₂₃
          apply lt_of_lt_of_le h₄₃₁ (fun a => (f y).le a)
          simp [f]
          refine (div_le_div_iff (by positivity) (by positivity)).mpr?_
          nlinarith
      -- Show that $x \in [-1/2, 45/8)$.
      have h₄₄ : x ∈ Icc (-1 / 2) (45 / 8) := by
        have h₄₄₁ : x ∈ Icc (-1 / 2) (1 / 2) ∨ x ∈ Icc (1 / 2) (45 / 8) := by
          apply Or.inl
          apply And.intro
          any_goals linarith
        cases h₄₄₁ with
        | inl h₄₄₁ =>
          -- If $x \in [-1/2, 1/2]$, then $x \in [-1/2, 45/8)$.
          apply And.intro
          any_goals linarith
        | inr h₄₄₁ =>
          -- If $x \in [1/2, 45/8]$, then $x \in [-1/2, 45/8)$.
          apply And.intro
          any_goals linarith
      -- Since $f$ is strictly increasing on $[-1/2, 45/8]$, and $f(x)<f(45/8)$, we have $x<45/8$.
      have h₄₅ : x < 45 / 8 := by
        -- Show that $45/8 \in [-1/2, 45/8]$.
        have h₄₅₁ : 45 / 8 ∈ Icc (-1 / 2) (45 / 8) := by
          apply And.intro
          any_goals linarith
        -- Show that $f(45/8) \le f(x)$ if $45/8 \le x$.
        have h₄₅₂ : 45 / 8 < x → f (45 / 8) ≤ f x := by
          intro h
          -- Show that $f(x)$ is strictly increasing on $[-1/2, 45/8]$.
          rw [StrictMonoOn.le_iff_le h₄₃ h₄₄₁ h₄₄₂]
          linarith
      -- By contradiction, we know that $x \ge 45/8$.
      by_contra!
      -- Show that $f(45/8) \le f(x)$ if $45/8 \le x$.
      have h₄₅₂ : 45 / 8 < x → f (45 / 8) ≤ f x := by
        intro h
        -- Show that $f(x)$ is strictly increasing on $[-1/2, 45/8]$.
        rw [StrictMonoOn.le_iff_le h₄₃ h₄₄₁ h₄₄₂]
        linarith
      -- We get a contradiction from the inequality $f(x)<2x+9$.
      specialize h₄₅₂ h₄₅
      linarith
    exact h₄
  -- Show that $-(1 / 2) \le x$.
  have h₄ : -(1 / 2) ≤ x := by
    -- Consider the function $f(x)=\dfrac{4x^2}{(1 - \sqrt {2x + 1})^2}$.
    let f : ℝ → ℝ := fun x => 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2
    -- Show that $f(x)$ is strictly increasing on $[-1/2, 45/8)$.
    have h₄₁ : StrictMonoOn f (Icc (-1 / 2) (45 / 8)) := by
      -- Consider the function $g(x)=(1-\sqrt{2x+1})^2$.
      have h₄₁₁ : StrictMonoOn (fun x => 1 - Real.sqrt (1 + 2 * x)) (Icc (-1 / 2) (45 / 8)) := by
        intro x hx y hy hxy
        simp at hx hy
        apply Real.sqrt_lt_sqrt
        linarith
        linarith
      -- Show that $g(x)=(1-\sqrt{2x+1})^2$ is strictly increasing on $[-1/2, 45/8]$.
      have h₄₁₂ : StrictMonoOn (fun x => (1 - Real.sqrt (1 + 2 * x)) ^ 2) (Icc (-1 / 2) (45 / 8)) := by
        intro x hx y hy hxy
        simp at hx hy
        apply sq_lt_sq'
        linarith [h₄₁₁ hx.left hy.left]
        linarith
      -- Show that $f(x)=\dfrac{4x^2}{(1-\sqrt{2x+1})^2}$ is strictly increasing on $[-1/2, 45/8]$.
      have h₄₁₃ : StrictMonoOn (fun x => 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2) (Icc (-1 / 2) (45 / 8)) := by
        apply StrictMonoOn.div
        -- The function $x^2$ is strictly increasing on $[-1/2, 45/8)$.
        apply StrictMonoOn.pow
        apply StrictMonoOn identity
        -- The function $g(x)=(1-\sqrt{2x+1})^2$ is strictly increasing on $[-1/2, 45/8]$.
        exact h₄₁₂
        -- The function $g(x)=(1-\sqrt{2x+1})^2$ is positive on $[-1/2, 45/8]$.
        simp
        intro x hx
        simp at hx
        apply ne_of_gt
        apply sq_pos_of_pos
        -- The square root function is strictly increasing on $[0,1/2]$.
        apply Real.sqrt_lt_sqrt
        linarith
        -- We have $1-\sqrt{2x+1}>0$ if and only if $x<1/2$.
        suffices 2 * x + 1 < 1 / 2 by linarith
        linarith
      -- Consider the value $x' = 45/8 - \epsilon$ for some small $\epsilon > 0$ to be determined.
      have h₄₁₄ : StrictMonoOn f (Icc (-1 / 2) (45 / 8 - Real ε)) := by
        apply StrictMonoOn.subset h₄₁
        simp
        refine ⟨?_,?_⟩
        · -- We have $-1/2 \le -1/2 + \epsilon$.
          linarith [Real.zero_lt ε]
        · -- We have $-1/2 + \epsilon \le 45/8 - \epsilon$.
          linarith [Real.zero_lt ε]
      -- Choose $\epsilon = (f(45/8 - \epsilon) - f(45/8))/2$.
      let ε' : ℝ := (f (45 / 8 - Real ε) - f (45 / 8)) / 2
      have h₄₁₅ : ε' > 0 := by
        simp [ε']
        apply div_pos
        -- We have $f(45/8 - \epsilon) > f(45/8)$ since $f$ is strictly increasing.
        apply sub_pos.mpr
        apply h₄₅₂
        -- We have $45/8 - \epsilon > 45/8 - (f(45/8) - f(-1/2))/(2(f(45/8) - f(-1/2))) * 2$.
        linarith
        -- We have $f(45/8 - \epsilon) < f(45/8)$ since $f$ is strictly increasing.
        have h₄₁₅₁ : f (45 / 8 - ε) < f (45 / 8) := by
          apply h₄₁
          -- Show that $45/8 - \epsilon \le 45/8$.
          simp
          refine