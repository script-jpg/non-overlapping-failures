have h₃ : 0 ≤ 1 + 2 * x := by linarith
  have h₄ : 0 ≤ Real.sqrt (1 + 2 * x) := Real.sqrt_nonneg _
  have h₅ : Real.sqrt (1 + 2 * x) ≥ 0 := by linarith
  have h₆ : (1 - Real.sqrt (1 + 2 * x)) ^ 2 ≠ 0 := by assumption
  have h₇ : 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2 < 2 * x + 9 := by assumption
  have h₈ : 1 - Real.sqrt (1 + 2 * x) ≠ 0 := by
    intro h
    rw [sub_eq_zero] at h
    simp_all [sub_eq_zero]
    <;> nlinarith [Real.sq_sqrt (show 0 ≤ 1 + 2 * x by linarith)]
  have h₉ : 1 - Real.sqrt (1 + 2 * x) ≠ 0 := by
    intro h
    rw [sub_eq_zero] at h
    simp_all [sub_eq_zero]
    <;> nlinarith [Real.sq_sqrt (show 0 ≤ 1 + 2 * x by linarith)]
  constructor
  case left =>
    -- We need to show that x ≥ -1/2
    have h₁₀ : 0 ≤ Real.sqrt (1 + 2 * x) := Real.sqrt_nonneg _
    have h₁₁ : Real.sqrt (1 + 2 * x) ^ 2 = 1 + 2 * x := Real.sq_sqrt (by linarith)
    field_simp [h₈, h₉] at h₇ ⊢
    rw [div_lt_iff] at h₇ <;> nlinarith [sq_nonneg (Real.sqrt (1 + 2 * x) - 1),
      Real.sq_sqrt (show 0 ≤ 1 + 2 * x by linarith), sq_nonneg (x - (-1 / 2))]
  case right =>
    -- We need to show that x < 45/8
    have h₁₀ : 0 ≤ Real.sqrt (1 + 2 * x) := Real.sqrt_nonneg _
    have h₁₁ : Real.sqrt (1 + 2 * x) ^ 2 = 1 + 2 * x := Real.sq_sqrt (by linarith)
    field_simp [h₈, h₉] at h₇ ⊢
    rw [div_lt_iff] at h₇ <;> nlinarith [sq_nonneg (Real.sqrt (1 + 2 * x) - 1),
      Real.sq_sqrt (show 0 ≤ 1 + 2 * x by linarith), sq_nonneg (x - 45 / 8),
      sq_nonneg (Real.sqrt (1 + 2 * x) - 9 / 2), sq_nonneg (Real.sqrt (1 + 2 * x) - 1 / 2)]

theorem imo_1960_p2_2 (x : ℝ) (h₀ : 0 ≤ 1 + 2 * x) (h₁ : (1 - Real.sqrt (1 + 2 * x)) ^ 2 ≠ 0)
    (h₂ : 4 * x ^ 2 / (1 - Real.sqrt (1 + 2 * x)) ^ 2 < 2 * x + 9) : -(1 / 2) ≤ x ∧ x < 45 / 8 := by
  have h₃ : 0 ≤ 1 + 2 * x := by linarith
  have h₄ : 0 ≤ Real.sqrt (1 + 2 * x) := Real.sqrt_nonneg _
  have h₅ : Real.sqrt (1 + 2 * x) ≥ 0 := by linarith
  have h₆ : (1 - Real.sqrt (1 + 2 * x)) ^ 2 ≠ 0 := by assumption
  have h₇ :