-- The problem is to solve the congruence $3n \equiv 2 \pmod{11}$, as a residue modulo 11.  (Give an answer between 0 and 10.) Show that it is 8.

  change 3 * n ≡ 2 [MOD 11] at h₀
  change n ≡ 8 [MOD 11]

  -- multiply both sides by 4
  have h₁ : 4 * (3 * n) ≡ 4 * 2 [MOD 11] := by
    exact Nat.ModEq.mul h₀ rfl

  -- simplify, we get $12n \equiv 8 \pmod{11}$.
  have h₂ : 12 * n ≡ 8 [MOD 11] := by
    simp_all [Nat.ModEq]

  -- $12n \equiv 8 \pmod{11}$ means that $11 \mid 12n - 8$.
  unfold Nat.ModEq at h₂ ⊢

  -- Rewrite as an equality.
  rw [Nat.modEq_iff_dvd'] at h₂ ⊢
  zify at h₂ ⊢
  rw [<-Int.ofNat_mod, <-Int.ofNat_mod] at h₂ ⊢

  -- We have $n = 8 + 11k$ for some integer $k$.
  have h₃ : (n : ℤ) = 8 + 11 * (n / 11 : ℤ) := by
    refine Int.ediv_add_emod _ _
    -- eliminate the case when $n = 0$
    cases n with
    | zero => simp
    | succ n => simp_all; exact Int.add_emod (n + 1) 11 n
  rw [h₃] at h₁ ⊢


  rw [Int.ModEq] at h₁ ⊢
  push_cast at h₁ ⊢
  zify at h₁ ⊢
  rw [Int.sub_emod, Int.mul_emod, Int.mul_emod, Int.mul_emod] at h₁ ⊢
  simp_all
```