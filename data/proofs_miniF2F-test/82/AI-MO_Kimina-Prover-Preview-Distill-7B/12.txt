-- The question is to solve the congruence $3n \equiv 2 \pmod{11}$, as a residue modulo 11.  (Give an answer between 0 and 10.) Show that it is 8.

  change 3 * n ≡ 2 [MOD 11]

  -- change the expression to a standard form.

  rw [Nat.ModEq]

  -- then we get the set of all integers n such that 3n = 2 + 11k for some k
  have H : {n : ℕ | 3 * n % 11 = 2} = {8 + 11 * k | k := ℤ} := by
    ext n
    simp

    constructor

    -- one direction. given 3n = 2 + 11k, we want to find k such that n = 8 + 11 * k
   . intro h
      -- we can prove it by finding the explicit formula for n
      have : n = 8 + 11 * (n / 11 - 8 / 11) := by omega
      use n / 11 - 8 / 11
      rw [this]
      omega

    -- the other direction. given n = 8 + 11k, we want to find a 3n = 2 + 11m for some m
   . intro h
      -- it is more convenient to use the standard form 3 * (8 + 11k) = 2 + 11 (k' + 1)
      obtain ⟨k', hk'⟩ := h
      use k'
      omega

  -- rewrite the hypothesis and goal, so that we can cancel 3 on both sides.
  rw [H] at h₀
  rw [H]

  symm
  change 3 * (8 + 11 * (0 : ℤ)) ≡ 3 * n [MOD 11]
  simp

  -- then we can use omega to finish the rest trivial goals.
  omega


```