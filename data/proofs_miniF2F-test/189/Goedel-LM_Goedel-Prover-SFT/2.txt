/-
  To solve the equation \( |2 - x| = 3 \), we need to consider the two cases for the absolute value function:
  1. \( 2 - x = 3 \)
  2. \( 2 - x = -3 \)
  For the first case, solving \( 2 - x = 3 \) gives:
  \[ x = 2 - 3 = -1 \]
  For the second case, solving \( 2 - x = -3 \) gives:
  \[ x = 2 + 3 = 5 \]
  Thus, the solutions to the equation \( |2 - x| = 3 \) are \( x = -1 \) and \( x = 5 \).
  Next, we sum these solutions:
  \[ -1 + 5 = 4 \]
  Therefore, the sum of all solutions is \( 4 \).
  -/
  -- We need to show that the sum of all solutions is 4.
  have h₁ : ∑ x in S, x = 4 := by
    -- Consider the two cases for the absolute value equation.
    have h₀ : S = {-1, 5} := by
      ext x
      simp only [h₀, Finset.mem_insert, Finset.mem_singleton, abs_eq_max_neg]
      constructor
      -- Case 1: |2 - x| = 3 implies x = -1 or x = 5.
      intro h
      cases' max_eq_iff.mp h with h₁ h₂
      · left
        linarith
      · right
        linarith
      -- Case 2: x = -1 or x = 5 implies |2 - x| = 3.
      rintro (rfl | rfl) <;> norm_num
    -- Substitute the set S = {-1, 5} into the sum.
    rw [h₀]
    norm_num
  exact h₁
```