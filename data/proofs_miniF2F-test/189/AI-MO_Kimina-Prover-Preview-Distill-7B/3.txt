-- such solutions are 5 and -1, their sum is 4

  have h₁ : S = {5, -1} := by

    ext x

    constructor

    · intro h

      rw [h₀] at h

      have h' : (2 - x) = 3 ∨ (2 - x) = -3 := by

        rw [← abs_eq] at h

        exact h

      cases h' with

      | inl h' =>
        left

        linarith

      | inr h' =>
        right

        linarith

    · intro h

      rw [h₀]

      cases h with

      | inl h =>
        rw [h]

        norm_num

      | inr h =>
        rw [h]

        norm_num

  rw [h₁]

  norm_num



/-- Find the sum of all solutions of the equation $|2-x|= 3$. Show that it is 4.-/

theorem mathd_algebra_196' (S : Finset ℝ) (h₀ : ∀ x : ℝ, x ∈ S ↔ |(2 - x)| = 3) :
    (∑ k in S, k) = 4 := by

  -- such solutions are 5 and -1, their sum is 4

  have h₁ : S = {5, -1} := by

    ext x

    constructor

    · intro h

      rw [h₀] at h

      have h' : (2 - x) = 3 ∨ (2 - x) = -3 := by

        rw [← abs_eq] at h

        exact h

      cases h' with

      | inl h' =>
        left

        linarith

      | inr h' =>
        right

        linarith

    · intro h

      rw [h₀]

      cases h with

      | inl h =>
        rw [h]

        norm_num

      | inr h =>
        rw [h]

        norm_num

  rw [h₁]

  norm_num
```