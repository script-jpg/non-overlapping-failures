-- We will show that the set of solutions is { -1, 5 }, and thus the sum is 4.
  have h₁ : S = {-1, 5} := by
    ext x
    constructor
    · -- If $x \in S$, then $|2 - x| = 3$. So $2 - x = 3$ or $2 - x = -3$. Solving them, we get $x = -1$ or $x = 5$.
      intro h
      rw [h₀] at h
      have h' : 2 - x = 3 ∨ 2 - x = -3 := by
        rw [abs_eq] at h
        exact h
      rcases h' with h' | h'
      ·
        have : x = -1 := by linarith
        rw [this]
        simp
      ·
        have : x = 5 := by linarith
        rw [this]
        simp
    · -- If $x \in {-1, 5}$, then $|2 - x| = 3$. It can be verified by calculation.
      intro h
      rcases h with rfl | rfl
      all_goals
        simp [abs_eq]

  -- Now we show that the sum of all solutions is 4. It is clear that
  -- $\sum_{x \in \{-1, 5\}} x = -1 + 5 = 4$.
  rw [h₁]
  simp
  norm_num
```