-- Set $A$ to be the set of solutions of the equation $|2-x|= 3$.
  set A := {x | abs (2 - x) = 3}

  -- Set $B$ to be the set of solutions of the equation $2-x = 3$.
  set B := {x | 2 - x = 3}

  -- Set $C$ to be the set of solutions of the equation $2-x = -3$.
  set C := {x | 2 - x = -3}

  -- Show that $A$ is the union of $B$ and $C$.
  have h₁ : A = B ∪ C := by
    ext x
    simp [B, C, A]
    constructor
   . intro h
      apply eq_or_eq_neg_of_abs_eq at h
      cases h with
      | inl h =>
        left
        exact h
      | inr h =>
        right
        exact h
   . intro h
      apply eq_or_eq_neg_of_abs_eq
      cases h with
      | inl h =>
        exact h
      | inr h =>
        exact h

  -- Show that $B$ is the singleton set $\{-1\}$.
  have h₂ : B = {-1} := by
    ext x
    simp [B]
    constructor
   . intro h
      linarith only [h]
   . intro h
      rw [h]
      norm_num

  -- Show that $C$ is the singleton set $\{5\}$.
  have h₃ : C = {5} := by
    ext x
    simp [C]
    constructor
   . intro h
      linarith only [h]
   . intro h
      rw [h]
      norm_num

  -- Show that $B$ and $C$ are disjoint.
  have h₄ : Disjoint B C := by
    rw [h₂, h₃]
    simp

  -- Show that the sum of all elements of $A$ is $4$.
  calc
    -- The sum of all elements of $A$ is the sum of all elements of $B$ and the sum of all elements of $C$.
    _ = ∑ x ∈ B, x + ∑ x ∈ C, x := by rw [h₁, Finset.sum_union h₄]
    -- The sum of all elements of $B$ is $-1$ and the sum of all elements of $C$ is $5$.
    _ = ∑ x ∈ ({-1} : Finset ℝ), x + ∑ x ∈ ({5} : Finset ℝ), x := by rw [h₂, h₃]
    _ = -1 + 5 := by simp
    _ = 4 := by norm_num
```