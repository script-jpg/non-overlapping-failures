/-
  To find the sum of all solutions of the equation \( |2 - x| = 3 \), we first solve the equation for \( x \).
  
  1. **Solve the Absolute Value Equation:**
     \[
     |2 - x| = 3
     \]
     This gives us two cases to consider based on the definition of absolute value:
     \[
     2 - x = 3 \quad \text{or} \quad 2 - x = -3
     \]
  
  2. **Case 1:**
     \[
     2 - x = 3 \implies x = 2 - 3 = -1
     \]
  
  3. **Case 2:**
     \[
     2 - x = -3 \implies -x = -3 - 2 = -5 \implies x = 5
     \]
  
  4. **Verify Solutions:**
     - For \( x = -1 \):
       \[
       |2 - (-1)| = |2 + 1| = |3| = 3
       \]
     - For \( x = 5 \):
       \[
       |2 - 5| = |-3| = 3
       \]
  
  5. **Sum of Solutions:**
     \[
     -1 + 5 = 4
     \]
  
  Thus, the sum of all solutions is \( \boxed{4} \).
  -/
  have h₁ : S = { -1, 5 } := by
    ext x
    simp only [Finset.mem_insert, Finset.mem_singleton, h₀, abs_eq_max_neg]
    constructor
    · intro h
      match le_total 0 (2 - x) with
      |.inl h₂ =>
        rw [max_eq_left (by linarith)] at h
        have h₃ : 2 - x = 3 := by linarith
        have h₄ : x = -1 := by linarith
        rw [h₄]
        simp
      |.inr h₂ =>
        rw [max_eq_right (by linarith)] at h
        have h₃ : -(2 - x) = 3 := by linarith
        have h₄ : x = 5 := by linarith
        rw [h₄]
        simp
    · intro h
      match h with
      |.inl h₂ =>
        rw [h₂]
        norm_num
      |.inr h₂ =>
        rw [h₂]
        norm_num
  
  rw [h₁]
  norm_num
  <;> simp [Finset.sum_pair]
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <;> simp_all
  <;> norm_num
  <;> linarith
  
  <