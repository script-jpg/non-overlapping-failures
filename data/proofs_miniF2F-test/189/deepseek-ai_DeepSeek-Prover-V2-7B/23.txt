/-
  To find the sum of all solutions of the equation \( |2 - x| = 3 \), we first solve the equation for \( x \). The equation \( |2 - x| = 3 \) implies that \( 2 - x = 3 \) or \( 2 - x = -3 \).
  
  1. For \( 2 - x = 3 \):
     \[
     2 - x = 3 \implies -x = 1 \implies x = -1
     \]
  
  2. For \( 2 - x = -3 \):
     \[
     2 - x = -3 \implies -x = -5 \implies x = 5
     \]
  
  Thus, the solutions are \( x = -1 \) and \( x = 5 \). The sum of these solutions is:
  \[
  -1 + 5 = 4
  \]
  
  Next, we verify that these are the only solutions. The equation \( |2 - x| = 3 \) is equivalent to the two cases:
  \[
  2 - x = 3 \quad \text{or} \quad 2 - x = -3
  \]
  Each of these equations has a unique solution, as shown above. Therefore, the sum of all solutions is indeed \( 4 \).
  -/
  have h₁ : S = { -1, 5 } := by
    ext x
    simp only [h₀, Finset.mem_insert, Finset.mem_singleton, true_and, and_true]
    constructor
    · intro h
      match le_total 0 (2 - x) with
      |.inl h₁ =>
        rw [abs_of_nonneg h₁] at h
        have h₂ : 2 - x = 3 := by linarith
        have h₃ : x = -1 := by linarith
        rw [h₃]
        <;> norm_num
      |.inr h₁ =>
        rw [abs_of_nonpos h₁] at h
        have h₂ : 2 - x = -3 := by linarith
        have h₃ : x = 5 := by linarith
        rw [h₃]
        <;> norm_num
    · intro h
      match h with
      |.inl h =>
        rw [h]
        norm_num
      |.inr h =>
        rw [h]
        norm_num
  rw [h₁]
  norm_num
  <;> simp [Finset.sum_pair]
  <;> norm_num
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl
  <;> rfl