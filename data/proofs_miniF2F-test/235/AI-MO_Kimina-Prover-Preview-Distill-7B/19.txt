-- We need to prove that 4096 is the smallest positive integer, other than 1, that is both a perfect cube and a perfect fourth power.

  -- Let us start by analyzing the problem. A number that is both a perfect cube and a perfect fourth power must be a perfect twelfth power.
  -- This is because the least common multiple of 3 and 4 is 12.

  -- So, we need to find the smallest integer greater than 1 such that n^12 = n.
  -- Based on the form of n, we have two cases:
  -- 1. n is a perfect twelfth power
  -- 2. n is a perfect cube and a perfect fourth power, but not a perfect twelfth power
  -- In our case, we are looking for the smallest n that satisfies both conditions.

  -- Let's start by setting up our proof. We need to prove that if n is a positive integer greater than 1 that is both a perfect cube and a perfect fourth power, then n ≥ 4096.

  rcases h₁ with ⟨x, hx⟩
  rcases h₂ with ⟨y, hy⟩

  -- Now we have x such that x^3 = n, and y such that y^4 = n.
  -- Since n > 1, we have x > 1 and y > 1.

  have hx' : 1 < x := by
    by_contra hx'
    have : x ^ 3 ≤ 1 := by
      have : x ≤ 1 := by omega
      exact Nat.pow_le_one_of_le_one this 3
    linarith
  have hy' : 1 < y := by
    by_contra hy'
    have : y ^ 4 ≤ 1 := by
      have : y ≤ 1 := by omega
      exact Nat.pow_le_one_of_le_one this 4
    linarith

  -- The key insight is that a number that is both a perfect cube and a perfect fourth power must be a perfect twelfth power.
  -- So, we need to find the smallest n > 1 such that n^12 = n.

  -- Based on the form of n, we have two cases:
  -- 1. n is a perfect twelfth power
  -- 2. n is a perfect cube and a perfect fourth power, but not a perfect twelfth power
  -- In our case, we are looking for the smallest n that satisfies both conditions.

  -- In the first case, n = k^12 for some k > 1, so n ≥ 2^12 = 4096.
  -- In the second case, n must be a perfect cube and a perfect fourth power, but not a perfect twelfth power.
  -- The smallest such n is 2^12 = 4096.

  -- So, the smallest n > 1 that is both a perfect cube and a perfect fourth power is 4096.
  -- Let's complete our proof:

  by_contra h
  have : n < 4096 := h

  -- Now, we need to show that no integer between 2 and 4095 can be both a perfect cube and a perfect fourth power.

  -- Let's continue with our proof structure:

  -- Since n is a perfect cube, we have x^3 = n < 4096.
  -- This implies x^3 < 4096, so x < 16 (since 16^3 = 4096).
  have hx'' : x < 16 := by
    by_contra hx''
    have : x ^ 3 ≥ 4096 := by
      have : x ≥ 16 := by omega
      exact Nat.pow_le_pow_of_le_left this 3
    linarith

  -- Similarly, since n is a perfect fourth power, we have y^4 = n < 4096.
  -- This implies y^4 < 4096, so y < 9 (since 9^4 = 6561).
  have hy'' : y < 9 := by
    by_contra hy''
    have : y ^ 4 ≥ 4096 := by
      have : y ≥ 9 := by omega
      exact Nat.pow_le_pow_of_le_left this 4
    linarith

  -- Now, we will check all perfect cubes and perfect fourth powers below 4096 to show that none of them is both a perfect cube and a perfect fourth power.
  -- The perfect cubes below 4096 are 2^3=8, 3^3=27, 4^3=64, 5^3=125, 6^3=216, 7^3=343, 8^3=512, 9^3=729, 10^3=1000, 11^3=1331, 12^3=1728, 13^3=2197, 14^3=2744, 15^3=3375.
  -- The perfect fourth powers below 4096 are 2^4=16, 3^4=81, 4^4=256, 5^4=625, 6^4=1296, 7^4=2401, 8^4=4096.
  -- Note that none of the cubes (except 1) is also a fourth power, and none of the fourth powers (except 1) is also a cube.
  -- So, the smallest number that is both a cube and a fourth power is 2^12=4096.

  interval_cases x <;> interval_cases y
  all_goals
    linarith

  -- In all cases, we reach a contradiction, which completes our proof that 4096 is indeed the smallest such integer.

  -- The Lean proof confirms that 4096 is the smallest positive integer, other than 1, that is both a perfect cube and a perfect fourth power.
</s>
```lean4
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat

/- What is the smallest positive integer, other than $1$, that is both a perfect cube and a perfect fourth power? Show that it is 4096.-/
theorem mathd_numbertheory_296 (n : ℕ) (h₀ : 2 ≤ n) (h₁ : ∃ x, x ^ 3 = n) (h₂ : ∃ t, t ^ 4 = n) :
    4096 ≤ n := by
  rcases h₁ with ⟨x, hx⟩
  rcases h₂ with ⟨y, hy⟩
  -- Since n > 1, we have x > 1 and y > 1.
  have hx' : 1 < x := by
    by_contra hx'
    have : x ^ 3 ≤ 1 := by
      have : x ≤ 1 := by omega
      exact Nat.pow_le_one_of_le_one this 3
    linarith
  have hy' : 1 < y := by
    by_contra hy'
    have : y ^ 4 ≤ 1 := by
      have : y ≤ 1 := by omega
      exact Nat.pow_le_one_of_le_one this 4
    linarith
  -- A number that is both a perfect cube and a perfect fourth power must be a perfect twelfth power.
  have h1 : 4096 ≤ n := by
    -- So, we need to prove that n ≥ 2^12.
    by_contra h
    -- Assume that n < 4096.
    have : n < 4096 := h
    -- Since n is a perfect cube, we have x < 16.
    have hx'' : x < 16 := by
      by_contra hx''
      have : x ^ 3 ≥ 4096 := by
        have : x ≥ 16 := by omega
        exact Nat.pow_le_pow_of_le_left this 3
      linarith
    -- Since n is a perfect fourth power, we have y < 9.
    have hy'' : y < 9 := by
      by_contra hy''
      have : y ^ 4 ≥ 4096 := by
        have : y ≥ 9 := by omega
        exact Nat.pow_le_pow_of_le_left this 4
      linarith
    -- Now, we will check all possible values of x and y below 16 and 9 respectively.
    -- The perfect cubes below 4096 are 2^3=8, 3^3=27, 4^3=64, 5^3=125, 6^3=216, 7^3=343, 8^3=512, 9^3=729, 10^3=1000, 11^3=1331, 12^3=1728, 13^3=2197, 14^3=2744, 15^3=3375.
    -- The perfect fourth powers below 4096 are 2^4=16, 3^4=81, 4^4=256, 5^4=625, 6^4=1296, 7^4=2401, 8^4=4096.
    -- Note that none of the cubes (except 1) is also a fourth power, and none of the fourth powers (except 1) is also a cube.
    -- So, the smallest number that is both a cube and a fourth power is 2^12=4096.
    interval_cases x <;> interval_cases y
    all_goals
      linarith
  -- The Lean proof confirms that 4096 is indeed the smallest positive integer, other than 1, that is both a perfect cube and a perfect fourth power.
  exact h1
```