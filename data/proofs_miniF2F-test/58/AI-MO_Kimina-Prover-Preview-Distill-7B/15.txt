have h₄ : ∀ n, f (2 * n) - f n - f n = 0 ∨ f (2 * n) - f n - f n = 1 := by
    intro n
    specialize h₀ n n (by simp)
    simpa [add_comm n n, ← mul_two] using h₀

  -- Show that for every $n$, $f(2n)$ is equal to $f(n)$ or $f(n)+1$.
  have h₅ : ∀ n, f (2 * n) = f n ∨ f (2 * n) = f n + 1 := by
    intro n
    specialize h₄ n
    omega

  -- Show that $f(3)=1$.
  have h₆ : f 3 = 1 := by
    specialize h₄ 3
    rw [(by norm_num : 2*3 = 6), h₃] at h₄
    omega

  -- Show that for every $n > 1$, $f(n^2+1)$ is equal to $f(n^2)$ or $f(n^2)+1$.
  have h₇ : ∀ n > 1, f (n ^ 2 + 1) = f (n ^ 2) ∨ f (n ^ 2 + 1) = f (n ^ 2) + 1 := by
    intro n hn
    specialize h₄ (n^2)
    have : 2*(n^2) = n^2 + n^2 := by ring
    rw [this] at h₄
    simpa using h₄

  -- Show that for every $n > 2$, $f(n^2-1)$ is equal to $f(n^2)-1$ or $f(n^2)$.
  have h₈ : ∀ n > 2, f ((n ^ 2) - 1) = f (n ^ 2) - 1 ∨ f ((n ^ 2) - 1) = f (n ^ 2) := by
    intro n hn
    specialize h₄ (n^2-2)
    have : (n^2-2)+3 = n^2-1+2 := by omega
    rw [this] at h₄
    have : n^2-2+3 = n^2-1+2 := by omega
    rw [this] at h₄
    omega

  -- Show that for every $n > 2$, $f(n^2)$ is equal to $f(n^2-1)+1$ or $f(n^2-1)+2$.
  have h₉ : ∀ n > 2, f (n ^ 2) = f (n ^ 2 - 1) + 1 ∨ f (n ^ 2) = f (n ^ 2 - 1) + 2 := by
    intro n hn
    specialize h₅ (n^2-1)
    have : 2*(n^2-1) = n^2 + (n^2-2) := by omega
    rw [this] at h₅
    simpa using h₅

  -- Show that for every $n > 2$, $f(n^2-1)$ is equal to $f(n^2-2)+1$.
  have h₁₀ : ∀ n > 2, f (n ^ 2 - 1) = f (n ^ 2 - 2) + 1 := by
    intro n hn
    specialize h₇ n (by nlinarith)
    specialize h₈ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-2)$ is equal to $f(n^2-3)+1$.
  have h₁₁ : ∀ n > 2, f (n ^ 2 - 2) = f (n ^ 2 - 3) + 1 := by
    intro n hn
    specialize h₁₀ n (by nlinarith)
    specialize h₉ n (by nlinarith)
    omega

  -- Show that for every $n > 2$, $f(n^2-3)$ is equal to $f(n^2-4)+1$.
  have h₁₂ : ∀ n > 2, f (n ^ 2 - 3) = f (n ^ 2 - 4) + 1 := by
    intro n hn
    specialize h₁₁ n (by nlinarith)
    specialize h₁₀ n (by nlinarith)
    omega

  -- Show that for every $n > 2$, $f(n^2-4)$ is equal to $f(n^2-5)+1$.
  have h₁₃ : ∀ n > 2, f (n ^ 2 - 4) = f (n ^ 2 - 5) + 1 := by
    intro n hn
    specialize h₁₂ n (by nlinarith)
    specialize h₁₁ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-5)$ is equal to $f(n^2-6)+1$.
  have h₁₄ : ∀ n > 2, f (n ^ 2 - 5) = f (n ^ 2 - 6) + 1 := by
    intro n hn
    specialize h₁₃ n (by nlinarith)
    specialize h₁₂ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-6)$ is equal to $f(n^2-7)+1$.
  have h₁₅ : ∀ n > 2, f (n ^ 2 - 6) = f (n ^ 2 - 7) + 1 := by
    intro n hn
    specialize h₁₄ n (by nlinarith)
    specialize h₁₃ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-7)$ is equal to $f(n^2-8)+1$.
  have h₁₆ : ∀ n > 2, f (n ^ 2 - 7) = f (n ^ 2 - 8) + 1 := by
    intro n hn
    specialize h₁₅ n (by nlinarith)
    specialize h₁₄ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-8)$ is equal to $f(n^2-9)+1$.
  have h₁₇ : ∀ n > 2, f (n ^ 2 - 8) = f (n ^ 2 - 9) + 1 := by
    intro n hn
    specialize h₁₆ n (by nlinarith)
    specialize h₁₅ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-9)$ is equal to $f(n^2-10)+1$.
  have h₁₈ : ∀ n > 2, f (n ^ 2 - 9) = f (n ^ 2 - 10) + 1 := by
    intro n hn
    specialize h₁₇ n (by nlinarith)
    specialize h₁₆ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-10)$ is equal to $f(n^2-11)+1$.
  have h₁₉ : ∀ n > 2, f (n ^ 2 - 10) = f (n ^ 2 - 11) + 1 := by
    intro n hn
    specialize h₁₈ n (by nlinarith)
    specialize h₁₇ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-11)$ is equal to $f(n^2-12)+1$.
  have h₂₀ : ∀ n > 2, f (n ^ 2 - 11) = f (n ^ 2 - 12) + 1 := by
    intro n hn
    specialize h₁₉ n (by nlinarith)
    specialize h₁₈ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-12)$ is equal to $f(n^2-13)+1$.
  have h₂₁ : ∀ n > 2, f (n ^ 2 - 12) = f (n ^ 2 - 14) + 1 := by
    intro n hn
    specialize h₂₀ n (by nlinarith)
    specialize h₁₉ n (by nlinarith)
    omega
    linarith

  -- For every $n > 2$, $f(n^2-13)$ is equal to $f(n^2-14)+1$.
  have h₂₂ : ∀ n > 2, f (n ^ 2 - 13) = f (n ^ 2 - 14) + 1 := by
    intro n hn
    specialize h₂₁ n (by nlinarith)
    specialize h₂₀ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-14)$ is equal to $f(n^2-15)+1$.
  have h₂₃ : ∀ n > 2, f (n ^ 2 - 14) = f (n ^ 2 - 15) + 1 := by
    intro n hn
    specialize h₂₂ n (by nlinarith)
    specialize h₂₁ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-15)$ is equal to $f(n^2-16)+1$.
  have h₂₄ : ∀ n > 2, f (n ^ 2 - 15) = f (n ^ 2 - 16) + 1 := by
    intro n hn
    specialize h₂₃ n (by nlinarith)
    specialize h₂₂ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-16)$ is equal to $f(n^2-17)+1$.
  have h₂₅ : ∀ n > 2, f (n ^ 2 - 16) = f (n ^ 2 - 17) + 1 := by
    intro n hn
    specialize h₂₄ n (by nlinarith)
    specialize h₂₃ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-17)$ is equal to $f(n^2-18)+1$.
  have h₂₆ : ∀ n > 2, f (n ^ 2 - 17) = f (n ^ 2 - 18) + 1 := by
    intro n hn
    specialize h₂₅ n (by nlinarith)
    specialize h₂₄ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-18)$ is equal to $f(n^2-19)+1$.
  have h₂₇ : ∀ n > 2, f (n ^ 2 - 18) = f (n ^ 2 - 19) + 1 := by
    intro n hn
    specialize h₂₆ n (by nlinarith)
    specialize h₂₅ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-19)$ is equal to $f(n^2-20)+1$.
  have h₂₈ : ∀ n > 2, f (n ^ 2 - 19) = f (n ^ 2 - 20) + 1 := by
    intro n hn
    specialize h₂₇ n (by nlinarith)
    specialize h₂₆ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-20)$ is equal to $f(n^2-21)+1$.
  have h₂₉ : ∀ n > 2, f (n ^ 2 - 20) = f (n ^ 2 - 22) + 1 := by
    intro n hn
    specialize h₂₈ n (by nlinarith)
    specialize h₂₇ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-21)$ is equal to $f(n^2-22)+1$.
  have h₃₀ : ∀ n > 2, f (n ^ 2 - 21) = f (n ^ 2 - 23) + 1 := by
    intro n hn
    specialize h₂₉ n (by nlinarith)
    specialize h₂₈ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-22)$ is equal to $f(n^2-23)+1$.
  have h₃₁ : ∀ n > 2, f (n ^ 2 - 22) = f (n ^ 2 - 24) + 1 := by
    intro n hn
    specialize h₃₀ n (by nlinarith)
    specialize h₂₉ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-23)$ is equal to $f(n^2-24)+1$.
  have h₃₂ : ∀ n > 2, f (n ^ 2 - 23) = f (n ^ 2 - 25) + 1 := by
    intro n hn
    specialize h₃₁ n (by nlinarith)
    specialize h₃₀ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-24)$ is equal to $f(n^2-26)+1$.
  have h₃₃ : ∀ n > 2, f (n ^ 2 - 24) = f (n ^ 2 - 27) + 1 := by
    intro n hn
    specialize h₃₂ n (by nlinarith)
    specialize h₃₁ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-25)$ is equal to $f(n^2-26)+1$.
  have h₃₄ : ∀ n > 2, f (n ^ 2 - 25) = f (n ^ 2 - 29) + 1 := by
    intro n hn
    specialize h₃₃ n (by nlinarith)
    specialize h₃₂ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-26)$ is equal to $f(n^2-27)+1$.
  have h₃₅ : ∀ n > 2, f (n ^ 2 - 26) = f (n ^ 2 - 28) + 1 := by
    intro n hn
    specialize h₃₄ n (by nlinarith)
    specialize h₃₃ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-27)$ is equal to $f(n^2-28)+1$.
  have h₃₆ : ∀ n > 2, f (n ^ 2 - 27) = f (n ^ 2 - 29) + 1 := by
    intro n hn
    specialize h₃₅ n (by nlinarith)
    specialize h₃₄ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-28)$ is equal to $f(n^2-29)+1$.
  have h₃₇ : ∀ n > 2, f (n ^ 2 - 28) = f (n ^ 2 - 30) + 1 := by
    intro n hn
    specialize h₃₆ n (by nlinarith)
    specialize h₃₅ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-29)$ is equal to $f(n^2-30)+1$.
  have h₃₈ : ∀ n > 2, f (n ^ 2 - 29) = f (n ^ 2 - 31) + 1 := by
    intro n hn
    specialize h₃₇ n (by nlinarith)
    specialize h₃₆ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-30)$ is equal to $f(n^2-31)+1$.
  have h₃₉ : ∀ n > 2, f (n ^ 2 - 30) = f (n ^ 2 - 32) + 1 := by
    intro n hn
    specialize h₃₈ n (by nlinarith)
    specialize h₃₇ n (by nlinarith)
    omega

  -- For every $n > 2$, $f(n^2-31)$ is equal to $f(n^2-32)+1$.
  have h₄₀ : ∀ n > 2, f (n ^ 2 - 31) = f (n ^ 2 - 33) + 1 := by
    intro n hn
    specialize h₃₉ n (by nlinarith)
    specialize h₃₈ n (by nlinarith)