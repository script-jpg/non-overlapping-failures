have h (m n) : f (m + n) - f m - f n = 0 ∨ f (m + n) - f m - f n = 1 := by
    exact h₀ m n (by omega)

  -- aux lemma : if $f(m) = 0$, then $f(2m) = f(m)$.
  have h' (m n) (hm : f m = 0) (hn : f n = 0) : f (m + n) = f m + f n := by
    specialize h m n
    rcases h with h | h <;> omega

  -- aux lemma : if $f(m) = 0$, then $f(2m) = f(m)$.
  have h'' (m n) (hm : f m = 0) : f (2 * m) = f m := by
    specialize h' m m hm hm
    omega

  -- We show that $f(3) = 1$.
  have h₄ : f 3 = 1 := by
    have : f 3 - f 2 - f 1 = 0 ∨ f 3 - f 2 - f 1 = 1 := by
      apply h
    have : f 3 - f 2 - f 1 = 0 ∨ f 3 - f 2 - f 1 = 1 := by
      simpa using this
    have : f 1 = 0 := by
      by_contra! h
      have : f 1 = 0 := by
        omega
      contradiction
    rw [h₁, this] at this
    omega

  -- We show that $f(4) = 1$.
  have h₅ : f 4 = 1 := by
    specialize h 2 2
    have : f 2 = 0 := by
      exact h₁
    omega

  -- We show that $f(5) = 2$.
  have h₆ : f 5 = 2 := by
    have : f 4 = 1 := by
      exact h₅
    have : f 5 - f 4 - f 1 = 0 ∨ f 5 - f 4 - f 1 = 1 := by
      apply h
    have : f 5 - f 4 - f 1 = 0 ∨ f 5 - f 4 - f 1 = 1 := by
      simpa using this
    have : f 1 = 0 := by
      omega
    omega

  -- We show that $f(10) = 3$.
  have h₇ : f 10 = 3 := by
    have : f 9 = f 10 - f 1 - f 8 := by
      omega
    have : f 9 = f 10 - f 2 - f 7 := by
      omega
    have : f 8 = f 9 - f 1 - f 7 := by
      omega
    have : f 8 = f 10 - f 2 - f 6 := by
      omega
    have : f 7 = f 8 - f 1 - f 6 := by
      omega
    have : f 7 = f 9 - f 2 - f 5 := by
      omega
    have : f 6 = f 7 - f 1 - f 5 := by
      omega
    have : f 6 = f 8 - f 2 - f 4 := by
      omega
    have : f 7 = f 10 - f 3 - f 4 := by
      omega
    omega

  -- We show that $f(15) = 4$.
  have h₈ : f 15 = 4 := by
    have : f 15 - f 10 - f 5 = 0 ∨ f 15 - f 10 - f 5 = 1 := by
      apply h
    have : f 15 - f 10 - f 5 = 0 ∨ f 15 - f 10 - f 5 = 1 := by
      simpa using this
    have : f 10 = 3 := by
      exact h₇
    omega

  -- We show that $f(20) = 5$.
  have h₉ : f 20 = 5 := by
    have : f 20 - f 15 - f 5 = 0 ∨ f 20 - f 15 - f 5 = 1 := by
      apply h
    have : f 20 - f 15 - f 5 = 0 ∨ f 20 - f 15 - f 5 = 1 := by
      simpa using this
    have : f 15 = 4 := by
      exact h₈
    omega

  -- We show that $f(1000) = 333$.
  have h₁₀ : f 1000 = 333 := by
    have : f 1000 - f 995 - f 5 = 0 ∨ f 1000 - f 995 - f 5 = 1 := by
      apply h
    have : f 1000 - f 995 - f 5 = 0 ∨ f 1000 - f 995 - f 5 = 1 := by
      simpa using this
    have : f 995 = f 1000 - f 1 - f 4 := by
      omega
    have : f 995 = f 1000 - f 2 - f 3 := by
      omega
    have : f 990 = f 995 - f 1 - f 5 := by
      omega
    have : f 990 = f 995 - f 2 - f 4 := by
      omega
    have : f 985 = f 990 - f 1 - f 5 := by
      omega
    have : f 985 = f 990 - f 2 - f 4 := by
      omega
    have : f 980 = f 985 - f 1 - f 5 := by
      omega
    have : f 980 = f 985 - f 2 - f 4 := by
      omega
    have : f 975 = f 980 - f 1 - f 5 := by
      omega
    have : f 975 = f 980 - f 2 - f 4 := by
      omega
    have : f 970 = f 975 - f 1 - f 5 := by
      omega
    have : f 970 = f 975 - f 2 - f 4 := by
      omega
    have : f 965 = f 970 - f 1 - f 5 := by
      omega
    have : f 965 = f 970 - f 2 - f 4 := by
      omega
    have : f 960 = f 965 - f 1 - f 5 := by
      omega
    have : f 960 = f 965 - f 2 - f 4 := by
      omega
    have : f 955 = f 960 - f 1 - f 5 := by
      omega
    have : f 955 = f 960 - f 2 - f 4 := by
      omega
    have : f 950 = f 955 - f 1 - f 5 := by
      omega
    have : f 950 = f 955 - f 2 - f 4 := by
      omega
    have : f 945 = f 950 - f 1 - f 5 := by
      omega
    have : f 945 = f 950 - f 2 - f 4 := by
      omega
    have : f 940 = f 945 - f 1 - f 5 := by
      omega
    have : f 940 = f 945 - f 2 - f 4 := by
      omega
    have : f 935 = f 940 - f 1 - f 5 := by
      omega
    have : f 935 = f 940 - f 2 - f 4 := by
      omega
    have : f 930 = f 935 - f 1 - f 5 := by
      omega
    have : f 930 = f 935 - f 2 - f 4 := by
      omega
    have : f 925 = f 930 - f 1 - f 5 := by
      omega
    have : f 925 = f 930 - f 2 - f 4 := by
      omega
    have : f 920 = f 925 - f 1 - f 5 := by
      omega
    have : f 920 = f 925 - f 2 - f 4 := by
      omega
    have : f 915 = f 920 - f 1 - f 5 := by
      omega
    have : f 915 = f 920 - f 2 - f 4 := by
      omega
    have : f 910 = f 915 - f 1 - f 5 := by
      omega
    have : f 910 = f 915 - f 2 - f 4 := by
      omega
    have : f 905 = f 910 - f 1 - f 5 := by
      omega
    have : f 905 = f 910 - f 2 - f 4 := by
      omega
    have : f 900 = f 905 - f 1 - f 5 := by
      omega
    have : f 900 = f 905 - f 2 - f 4 := by
      omega
    have : f 895 = f 900 - f 1 - f 5 := by
      omega
    have : f 895 = f 900 - f 2 - f 4 := by
      omega
    have : f 890 = f 895 - f 1 - f 5 := by
      omega
    have : f 890 = f 895 - f 2 - f 4 := by
      omega
    have : f 885 = f 890 - f 1 - f 5 := by
      omega
    have : f 885 = f 890 - f 2 - f 4 := by
      omega
    have : f 880 = f 885 - f 1 - f 5 := by
      omega
    have : f 880 = f 885 - f 2 - f 4 := by
      omega
    have : f 875 = f 880 - f 1 - f 5 := by
      omega
    have : f 875 = f 880 - f 2 - f 4 := by
      omega
    have : f 870 = f 875 - f 1 - f 5 := by
      omega
    have : f 870 = f 875 - f 2 - f 4 := by
      omega
    have : f 865 = f 870 - f 1 - f 5 := by
      omega
    have : f 865 = f 870 - f 2 - f 4 := by
      omega
    have : f 860 = f 865 - f 1 - f 5 := by
      omega
    have : f 860 = f 865 - f 2 - f 4 := by
      omega
    have : f 855 = f 860 - f 1 - f 5 := by
      omega
    have : f 855 = f 860 - f 2 - f 4 := by
      omega
    have : f 850 = f 855 - f 1 - f 5 := by
      omega
    have : f 850 = f 855 - f 2 - f 4 := by
      omega
    have : f 845 = f 850 - f 1 - f 5 := by
      omega
    have : f 845 = f 850 - f 2 - f 4 := by
      omega
    have : f 840 = f 845 - f 1 - f 5 := by
      omega
    have : f 840 = f 845 - f 2 - f 4 := by
      omega
    have : f 835 = f 840 - f 1 - f 5 := by
      omega
    have : f 835 = f 840 - f 2 - f 4 := by
      omega
    have : f 830 = f 835 - f 1 - f 5 := by
      omega
    have : f 830 = f 835 - f 2 - f 4 := by
      omega
    have : f 825 = f 830 - f 1 - f 5 := by
      omega
    have : f 825 = f 830 - f 2 - f 4 := by
      omega
    have : f 820 = f 825 - f 1 - f 5 := by
      omega
    have : f 820 = f 825 - f 2 - f 4 := by
      omega
    have : f 815 = f 820 - f 1 - f 5 := by
      omega
    have : f 815 = f 820 - f 2 - f 4 := by
      omega
    have : f 810 = f 815 - f 1 - f 5 := by
      omega
    have : f 810 = f 815 - f 2 - f 4 := by
      omega
    have : f 805 = f 810 - f 1 - f 5 := by
      omega
    have : f 805 = f 810 - f 2 - f 4 := by
      omega
    have : f 800 = f 805 - f 1 - f 5 := by
      omega
    have : f 800 = f 805 - f 2 - f 4 := by
      omega
    have : f 795 = f 800 - f 1 - f 5 := by
      omega
    have : f 795 = f 800 - f 2 - f 4 := by
      omega
    have : f 790 = f 795 - f 1 - f 5 := by
      omega
    have : f 790 = f 795 - f 2 - f 4 := by
      omega
    have : f 785 = f 790 - f 1 - f 5 := by
      omega
    have : f 785 = f 790 - f 2 - f 4 := by
      omega
    have : f 780 = f 785 - f 1 - f 5 := by
      omega
    have : f 780 = f 785 - f 2 - f 4 := by
      omega
    have : f 775 = f 780 - f 1 - f 5 := by
      omega
    have : f 775 = f 780 - f 2 - f 4 := by
      omega
    have : f 770 = f 775 - f 1 - f 5 := by
      omega
    have : f 770 = f 775 - f 2 - f 4 := by
      omega
    have : f 765 = f 770 - f 1 - f 5 := by
      omega
    have : f 765 = f 770 - f 2 - f 4 := by
      omega
    have : f 760 = f 765 - f 1 - f 5 := by
      omega
    have : f 760 = f 765 - f 2 - f 4 := by
      omega
    have : f 755 = f 760 - f 1 - f 5 := by
      omega
    have : f 755 = f 760 - f 2 - f 4 := by
      omega
    have : f 750 = f 755 - f 1 - f 5 := by
      omega
    have : f 750 = f 755 - f 2 - f 4 := by
      omega
    have : f 745 = f 750 - f 1 - f 5 := by
      omega
    have : f