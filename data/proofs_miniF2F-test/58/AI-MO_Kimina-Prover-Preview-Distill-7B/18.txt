have h (m n) : f (m + n) - f m - f n = 0 ∨ f (m + n) - f m - f n = 1 := by
    exact h₀ m n (by linarith) (by linarith)

  -- $f(1) = 0$ and $f(3) = 1$.
  have h₄ : f 1 = 0 := by
    specialize h 1 1
    have : f 2 = f 1 + f 1 := by
      omega
    omega

  have h₅ : f 3 = 1 := by
    specialize h 2 1
    have : f 3 = f 2 + f 1 := by
      omega
    omega

  -- For all $n$, $f(2n) = n$ and $f(2n+1) = n+1$.
  have h₆ (n : ℕ) : f (2 * n) = n ∧ f (2 * n + 1) = n + 1 := by
    induction n with
    | zero =>
      have h₇ : f 0 = 0 := by
        specialize h 0 0
        simp at h
        omega
      simp [h₇]
      omega
    | succ n hn =>
      have h₈ : f (2 * (n + 1)) = f (2 * n + 1) + f 1 := by
        specialize h (2 * n + 1) 1
        rcases h with h | h
       . omega
       . omega
      omega

  -- $f(1982) = 660$.
  have h₉ : f 1982 = 660 := by
    rw [show 1982 = 2 * 991 by omega]
    have : f 991 = 330 := by
      have h₁₀ : f 991 = f 990 + f 1 := by
        specialize h 990 1
        rcases h with h | h
       . omega
       . omega
      have h₁₁ : f 990 = 329 := by
        specialize h₆ 495
        omega
      omega
    have h₁₂ : f 991 = 330 := by
      omega
    omega

  exact h₉
```