/-
  We need to show that for any real number \( x \), if \( |x-1| + |x| + |x+1| = x + 2 \), then \( 0 \leq x \leq 1 \). We will consider different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \).
  1. **Case 1: \( x-1 \geq 0 \), \( x \geq 0 \), and \( x+1 \geq 0 \)**
     - Here, \( |x-1| = x-1 \), \( |x| = x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( (x-1) + x + (x+1) = x + 2 \).
     - Simplifying, we find \( 3x = x + 2 \), which implies \( 2x = 2 \) or \( x = 1 \).
  2. **Case 2: \( x-1 \geq 0 \), \( x \geq 0 \), and \( x+1 < 0 \)**
     - Here, \( |x-1| = x-1 \), \( |x| = x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the given equation, we get \( (x-1) + x + (-x-1) = x + 2 \).
     - Simplifying, we find \( x - 2 = x + 2 \), which implies \( -2 = 2 \), a contradiction.
  3. **Case 3: \( x-1 \geq 0 \), \( x < 0 \), and \( x+1 \geq 0 \)**
     - Here, \( |x-1| = x-1 \), \( |x| = -x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( (x-1) + (-x) + (x+1) = x + 2 \).
     - Simplifying, we find \( 0 = x + 2 \), which implies \( x = -2 \).
  4. **Case 4: \( x-1 \geq 0 \), \( x < 0 \), and \( x+1 < 0 \)**
     - Here, \( |x-1| = x-1 \), \( |x| = -x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the given equation, we get \( (x-1) + (-x) + (-x-1) = x + 2 \).
     - Simplifying, we find \( -2 = x + 2 \), which implies \( x = -4 \).
  5. **Case 5: \( x-1 < 0 \), \( x \geq 0 \), and \( x+1 \geq 0 \)**
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( (-x+1) + x + (x+1) = x + 2 \).
     - Simplifying, we find \( 2x = x + 2 \), which implies \( x = 2 \).
  6. **Case 6: \( x-1 < 0 \), \( x \geq 0 \), and \( x+1 < 0 \)**
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the given equation, we get \( (-x+1) + x + (-x-1) = x + 2 \).
     - Simplifying, we find \( -x = x + 2 \), which implies \( x = -1 \).
  7. **Case 7: \( x-1 < 0 \), \( x < 0 \), and \( x+1 \geq 0 \)**
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = -x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( (-x+1) + (-x) + (x+1) = x + 2 \).
     - Simplifying, we find \( 0 = x + 2 \), which implies \( x = -2 \).
  8. **Case 8: \( x-1 < 0 \), \( x < 0 \), and \( x+1 < 0 \)**
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = -x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the given equation, we get \( (-x+1) + (-x) + (-x-1) = x + 2 \).
     - Simplifying, we find \( -3x = x + 2 \), which implies \( x = -\frac{2}{3} \).
  Combining all these cases, we conclude that \( 0 \leq x \leq 1 \).
  -/
  -- We will prove both 0 ≤ x and x ≤ 1 by considering different cases based on the signs of x-1, x, and x+1.
  constructor <;>
  (try cases' le_total 0 (x - 1) with h₁ h₁ <;>
    cases' le_total 0 x with h₂ h₂ <;>
      cases' le_total 0 (x + 1) with h₃ h₃ <;>
        simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos, add_left_neg, add_right_neg,
          add_zero, zero_add, zero_sub, neg_add_rev, neg_sub, neg_neg, neg_zero] <;>
          linarith)
```