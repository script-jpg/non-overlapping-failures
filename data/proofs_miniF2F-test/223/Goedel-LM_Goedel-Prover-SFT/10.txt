/-
  Given the equation \( |x-1| + |x| + |x+1| = x + 2 \), we need to show that \( 0 \leq x \leq 1 \). We will consider different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \). For each case, we will simplify the absolute values and solve the resulting equations to find the range of \( x \).
  1. **Case 1: \( x - 1 \geq 0 \), \( x \geq 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x \geq 1 \).
     - Simplifying the absolute values, we get \( (x-1) + x + (x+1) = x + 2 \).
     - Simplifying further, we obtain \( 3x = x + 2 \), which implies \( x = 1 \).
  2. **Case 2: \( x - 1 \geq 0 \), \( x \geq 0 \), \( x + 1 < 0 \)**
     - This implies \( x \leq -1 \).
     - Simplifying the absolute values, we get \( (x-1) + x + (-(x+1)) = x + 2 \).
     - Simplifying further, we obtain \( -1 = x + 2 \), which implies \( x = -3 \).
  3. **Case 3: \( x - 1 \geq 0 \), \( x < 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x \leq -1 \).
     - Simplifying the absolute values, we get \( (x-1) + (-x) + (x+1) = x + 2 \).
     - Simplifying further, we obtain \( 0 = x + 2 \), which implies \( x = -2 \).
  4. **Case 4: \( x - 1 \geq 0 \), \( x < 0 \), \( x + 1 < 0 \)**
     - This implies \( x \geq 1 \).
     - Simplifying the absolute values, we get \( (x-1) + (-x) + (-(x+1)) = x + 2 \).
     - Simplifying further, we obtain \( -1 = x + 2 \), which implies \( x = -3 \).
  5. **Case 5: \( x - 1 < 0 \), \( x \geq 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x < 1 \).
     - Simplifying the absolute values, we get \( (-(x-1)) + x + (x+1) = x + 2 \).
     - Simplifying further, we obtain \( 1 = x + 2 \), which implies \( x = -1 \).
  6. **Case 6: \( x - 1 < 0 \), \( x \geq 0 \), \( x + 1 < 0 \)**
     - This implies \( x \geq 1 \).
     - Simplifying the absolute values, we get \( (-(x-1)) + x + (-(x+1)) = x + 2 \).
     - Simplifying further, we obtain \( -1 = x + 2 \), which implies \( x = -3 \).
  7. **Case 7: \( x - 1 < 0 \), \( x < 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x < -1 \).
     - Simplifying the absolute values, we get \( (-(x-1)) + (-x) + (x+1) = x + 2 \).
     - Simplifying further, we obtain \( 1 = x + 2 \), which implies \( x = -1 \).
  8. **Case 8: \( x - 1 < 0 \), \( x < 0 \), \( x + 1 < 0 \)**
     - This implies \( x \geq 1 \).
     - Simplifying the absolute values, we get \( (-(x-1)) + (-x) + (-(x+1)) = x + 2 \).
     - Simplifying further, we obtain \( -1 = x + 2 \), which implies \( x = -3 \).
  Combining all these cases, we find that \( 0 \leq x \leq 1 \).
  -/
  constructor
  -- We need to prove both 0 ≤ x and x ≤ 1.
  all_goals
    -- Consider different cases based on the signs of x-1, x, and x+1.
    cases' le_total 0 (x - 1) with h₁ h₁ <;>
    cases' le_total 0 x with h₂ h₂ <;>
    cases' le_total 0 (x + 1) with h₃ h₃ <;>
    -- Simplify the absolute values based on the signs.
    simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
    -- Solve the resulting equations using linear arithmetic.
    linarith
```