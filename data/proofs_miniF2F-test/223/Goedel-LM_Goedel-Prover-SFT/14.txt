/-
  To show that for any real number \( x \), if \( |x-1| + |x| + |x+1| = x + 2 \), then \( 0 \leq x \leq 1 \), we proceed by considering the cases where \( x-1 \), \( x \), and \( x+1 \) are non-negative or non-positive. By analyzing these cases, we can simplify the absolute values and solve the resulting equations.
  1. **Case 1: \( x-1 \geq 0 \)**
     - If \( x-1 \geq 0 \), then \( |x-1| = x-1 \).
     - If \( x \geq 0 \), then \( |x| = x \).
     - If \( x+1 \geq 0 \), then \( |x+1| = x+1 \).
     Substituting these into the equation \( |x-1| + |x| + |x+1| = x + 2 \), we get:
     \[
     (x-1) + x + (x+1) = x + 2
     \]
     Simplifying this, we obtain:
     \[
     3x = x + 2 \implies 2x = 2 \implies x = 1
     \]
     This contradicts \( x \geq 0 \), so this case is not possible.
  2. **Case 2: \( x-1 \geq 0 \)**
     - If \( x-1 \geq 0 \), then \( |x-1| = x-1 \).
     - If \( x \geq 0 \), then \( |x| = x \).
     - If \( x+1 \leq 0 \), then \( |x+1| = -(x+1) \).
     Substituting these into the equation \( |x-1| + |x| + |x+1| = x + 2 \), we get:
     \[
     (x-1) + x + (-(x+1)) = x + 2
     \]
     Simplifying this, we obtain:
     \[
     x - 1 + x - x - 1 = x + 2 \implies x - 2 = x + 2 \implies -2 = 2
     \]
     This is a contradiction, so this case is not possible.
  3. **Case 3: \( x-1 \geq 0 \)**
     - If \( x-1 \geq 0 \), then \( |x-1| = x-1 \).
     - If \( x \leq 0 \), then \( |x| = -x \).
     - If \( x+1 \geq 0 \), then \( |x+1| = x+1 \).
     Substituting these into the equation \( |x-1| + |x| + |x+1| = x + 2 \), we get:
     \[
     (x-1) + (-x) + (x+1) = x + 2
     \]
     Simplifying this, we obtain:
     \[
     x - 1 - x + x + 1 = x + 2 \implies x + 1 = x + 2 \implies 1 = 2
     \]
     This is a contradiction, so this case is not possible.
  Combining the cases, we conclude that \( 0 \leq x \leq 1 \).
  -/
  -- We will prove both 0 ≤ x and x ≤ 1 by considering the cases where x-1, x, and x+1 are non-negative or non-positive.
  constructor <;>
  cases' le_total 0 (x - 1) with h h <;>
  cases' le_total 0 x with h₁ h₁ <;>
  cases' le_total 0 (x + 1) with h₂ h₂ <;>
  simp_all only [abs_of_nonneg, abs_of_nonpos, add_left_neg, add_right_neg, add_zero, zero_add,
    sub_zero, sub_neg_eq_add, add_comm, add_left_comm, add_assoc] <;>
  linarith
```