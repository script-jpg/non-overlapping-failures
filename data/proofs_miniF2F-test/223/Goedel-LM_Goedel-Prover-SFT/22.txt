/-
  Given the equation \( |x-1| + |x| + |x+1| = x + 2 \), we need to show that \( 0 \leq x \leq 1 \). We will consider different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \).
  1. **Case 1: \( x-1 \geq 0 \)**
     - If \( x-1 \geq 0 \), then \( |x-1| = x-1 \).
     - Substituting this into the equation, we get \( (x-1) + |x| + |x+1| = x + 2 \).
     - Since \( |x| \geq 0 \) and \( |x+1| \geq 0 \), we can deduce that \( x \geq 0 \) and \( x \leq 1 \).
  2. **Case 2: \( x-1 < 0 \) and \( x \geq 0 \)**
     - If \( x-1 < 0 \), then \( |x-1| = -(x-1) = 1-x \).
     - Substituting this into the equation, we get \( (1-x) + |x| + |x+1| = x + 2 \).
     - Since \( |x| \geq 0 \) and \( |x+1| \geq 0 \), we can deduce that \( x \geq 0 \) and \( x \leq 1 \).
  3. **Case 3: \( x-1 < 0 \) and \( x < 0 \)**
     - If \( x-1 < 0 \), then \( |x-1| = -(x-1) = 1-x \).
     - Substituting this into the equation, we get \( (1-x) + |x| + |x+1| = x + 2 \).
     - Since \( |x| \geq 0 \) and \( |x+1| \geq 0 \), we can deduce that \( x \geq 0 \) and \( x \leq 1 \).
  Combining these cases, we conclude that \( 0 \leq x \leq 1 \).
  -/
  -- We will prove both 0 ≤ x and x ≤ 1 by considering different cases based on the signs of x-1, x, and x+1.
  constructor <;>
  (try
  -- For each goal, we use the `cases'` tactic to consider different cases based on the signs of the expressions.
  cases' le_total 0 (x - 1) with h₁ h₁ <;>
  cases' le_total 0 x with h₂ h₂ <;>
  cases' le_total 0 (x + 1) with h₃ h₃ <;>
  -- We simplify the absolute values based on the signs and use `linarith` to solve the resulting equations.
  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos, add_left_neg, add_right_neg,
    add_zero, zero_add, zero_sub, sub_zero, sub_neg_eq_add, add_comm, add_left_comm, add_assoc] <;>
  linarith)
  <;>
  (try
  -- We use `linarith` to solve the equations and `simp_all` to simplify the expressions.
  linarith)
  <;>
  (try
  simp_all)
  <;>
  (try
  linarith)
```