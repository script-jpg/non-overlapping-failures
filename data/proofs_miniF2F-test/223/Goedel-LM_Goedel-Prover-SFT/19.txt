/-
  Given the equation \( |x - 1| + |x| + |x + 1| = x + 2 \), we need to show that \( 0 \leq x \leq 1 \). We will consider different cases based on the signs of \( x - 1 \), \( x \), and \( x + 1 \).
  1. **Case 1: \( x - 1 \geq 0 \), \( x \geq 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x \geq 1 \), \( x \geq 0 \), and \( x \geq -1 \).
     - The equation simplifies to \( (x - 1) + x + (x + 1) = x + 2 \), which simplifies to \( 3x = x + 2 \).
     - Solving for \( x \), we get \( x = 1 \).
  2. **Case 2: \( x - 1 \geq 0 \), \( x \geq 0 \), \( x + 1 < 0 \)**
     - This implies \( x \geq 1 \), \( x \geq 0 \), and \( x < -1 \).
     - The equation simplifies to \( (x - 1) + x + (-(x + 1)) = x + 2 \), which simplifies to \( x - 1 + x - x - 1 = x + 2 \), or \( x - 2 = x + 2 \).
     - Solving for \( x \), we get \( x = 4 \).
  3. **Case 3: \( x - 1 \geq 0 \), \( x < 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x \geq 1 \), \( x < 0 \), and \( x \geq -1 \).
     - The equation simplifies to \( (x - 1) + (-x) + (x + 1) = x + 2 \), which simplifies to \( x - 1 - x + x + 1 = x + 2 \), or \( x = x + 2 \).
     - Solving for \( x \), we get \( x = 0 \).
  4. **Case 4: \( x - 1 \geq 0 \), \( x < 0 \), \( x + 1 < 0 \)**
     - This implies \( x \geq 1 \), \( x < 0 \), and \( x < -1 \).
     - The equation simplifies to \( (x - 1) + (-x) + (-(x + 1)) = x + 2 \), which simplifies to \( x - 1 - x - x - 1 = x + 2 \), or \( -x - 2 = x + 2 \).
     - Solving for \( x \), we get \( x = -4 \).
  5. **Case 5: \( x - 1 < 0 \), \( x \geq 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x < 1 \), \( x \geq 0 \), and \( x \geq -1 \).
     - The equation simplifies to \( (-(x - 1)) + x + (x + 1) = x + 2 \), which simplifies to \( -x + 1 + x + x + 1 = x + 2 \), or \( x + 2 = x + 2 \).
     - Solving for \( x \), we get \( x = 0 \).
  6. **Case 6: \( x - 1 < 0 \), \( x \geq 0 \), \( x + 1 < 0 \)**
     - This implies \( x < 1 \), \( x \geq 0 \), and \( x < -1 \).
     - The equation simplifies to \( (-(x - 1)) + x + (-(x + 1)) = x + 2 \), which simplifies to \( -x + 1 + x - x - 1 = x + 2 \), or \( -x = x + 2 \).
     - Solving for \( x \), we get \( x = -1 \).
  7. **Case 7: \( x - 1 < 0 \), \( x < 0 \), \( x + 1 \geq 0 \)**
     - This implies \( x < 1 \), \( x < 0 \), and \( x \geq -1 \).
     - The equation simplifies to \( (-(x - 1)) + (-x) + (x + 1) = x + 2 \), which simplifies to \( -x + 1 - x + x + 1 = x + 2 \), or \( 2 = x + 2 \).
     - Solving for \( x \), we get \( x = 0 \).
  8. **Case 8: \( x - 1 < 0 \), \( x < 0 \), \( x + 1 < 0 \)**
     - This implies \( x < 1 \), \( x < 0 \), and \( x < -1 \).
     - The equation simplifies to \( (-(x - 1)) + (-x) + (-(x + 1)) = x + 2 \), which simplifies to \( -x + 1 - x - x - 1 = x + 2 \), or \( -3x = x + 2 \).
     - Solving for \( x \), we get \( x = -1/2 \).
  Combining all these cases, we find that \( 0 \leq x \leq 1 \).
  -/
  constructor <;>
  rcases le_total 0 (x - 1) with hx1 | hx1 <;>
  rcases le_total 0 x with hx2 | hx2 <;>
  rcases le_total 0 (x + 1) with hx3 | hx3 <;>
  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
  linarith
```