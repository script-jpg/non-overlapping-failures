/-
  Given a real number \( x \), we need to show that if \( |x-1| + |x| + |x+1| = x + 2 \), then \( 0 \leq x \leq 1 \).
  1. Consider the absolute values \( |x-1| \), \( |x| \), and \( |x+1| \).
  2. We analyze the equations by considering different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \).
  3. For each case, we simplify the expressions using the properties of absolute values.
  4. We then solve the resulting equations to find the constraints on \( x \).
  5. Combining these constraints, we conclude that \( 0 \leq x \leq 1 \).
  -/
  -- We need to prove both 0 ≤ x and x ≤ 1.
  constructor <;>
  -- Consider the cases where x - 1, x, and x + 1 are non-negative or non-positive.
  rcases le_total 0 (x - 1) with hx1 | hx1 <;>
  rcases le_total 0 x with hx2 | hx2 <;>
  rcases le_total 0 (x + 1) with hx3 | hx3 <;>
  -- Simplify the absolute values based on the signs of x - 1, x, and x + 1.
  simp_all only [abs_of_nonneg, abs_of_nonpos, add_left_neg, add_right_neg, sub_eq_add_neg,
    neg_add_rev, neg_neg, neg_zero, sub_neg_eq_add, add_zero, zero_add, zero_sub, sub_zero,
    sub_neg_eq_add, add_zero, zero_add, zero_sub, sub_zero, sub_neg_eq_add, add_zero, zero_add,
    zero_sub, sub_zero] <;>
  -- Solve the resulting equations using linear arithmetic.
  linarith
```