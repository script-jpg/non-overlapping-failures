/-
  To show that for any real number \( x \), if \( |x-1| + |x| + |x+1| = x + 2 \), then \( 0 \leq x \leq 1 \), we proceed by considering different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \). We use the properties of absolute values and algebraic manipulations to derive the required inequalities.
  1. **Case 1**: \( x-1 \geq 0 \), \( x \geq 0 \), and \( x+1 \geq 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( (x-1) + x + (x+1) = x + 2 \), which simplifies to \( 3x = x + 2 \).
     - Solving for \( x \), we find \( 2x = 2 \), hence \( x = 1 \).
  2. **Case 2**: \( x-1 \geq 0 \), \( x \geq 0 \), and \( x+1 \leq 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = x \), and \( |x+1| = -(x+1) \).
     - Substituting these into the given equation, we get \( (x-1) + x - (x+1) = x + 2 \), which simplifies to \( x - 1 = x + 2 \).
     - This is a contradiction, so this case is not possible.
  3. **Case 3**: \( x-1 \geq 0 \), \( x \leq 0 \), and \( x+1 \geq 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = -x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( (x-1) - x + (x+1) = x + 2 \), which simplifies to \( x = x + 2 \).
     - This is a contradiction, so this case is not possible.
  4. **Case 4**: \( x-1 \geq 0 \), \( x \leq 0 \), and \( x+1 \leq 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = -x \), and \( |x+1| = -(x+1) \).
     - Substituting these into the given equation, we get \( (x-1) - x - (x+1) = x + 2 \), which simplifies to \( x - 1 - x - x - 1 = x + 2 \).
     - Simplifying further, we get \( -x - 2 = x + 2 \), which simplifies to \( -2x = 4 \), hence \( x = -2 \).
  5. **Case 5**: \( x-1 \leq 0 \), \( x \geq 0 \), and \( x+1 \geq 0 \).
     - Here, \( |x-1| = -(x-1) \), \( |x| = x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( -(x-1) + x + (x+1) = x + 2 \), which simplifies to \( -x + 1 + x + x + 1 = x + 2 \).
     - Simplifying further, we get \( x + 2 = x + 2 \), which is always true.
  6. **Case 6**: \( x-1 \leq 0 \), \( x \geq 0 \), and \( x+1 \leq 0 \).
     - Here, \( |x-1| = -(x-1) \), \( |x| = x \), and \( |x+1| = -(x+1) \).
     - Substituting these into the given equation, we get \( -(x-1) + x - (x+1) = x + 2 \), which simplifies to \( -x + 1 + x - x - 1 = x + 2 \).
     - Simplifying further, we get \( -x - 1 = x + 2 \), which simplifies to \( -2x = 3 \), hence \( x = -\frac{3}{2} \).
  7. **Case 7**: \( x-1 \leq 0 \), \( x \leq 0 \), and \( x+1 \geq 0 \).
     - Here, \( |x-1| = -(x-1) \), \( |x| = -x \), and \( |x+1| = x+1 \).
     - Substituting these into the given equation, we get \( -(x-1) - x + (x+1) = x + 2 \), which simplifies to \( -x + 1 - x + x + 1 = x + 2 \).
     - Simplifying further, we get \( 2 - x = x + 2 \), which simplifies to \( 2 - 2x = 2 \), hence \( x = 0 \).
  8. **Case 8**: \( x-1 \leq 0 \), \( x \leq 0 \), and \( x+1 \leq 0 \).
     - Here, \( |x-1| = -(x-1) \), \( |x| = -x \), and \( |x+1| = -(x+1) \).
     - Substituting these into the given equation, we get \( -(x-1) - x - (x+1) = x + 2 \), which simplifies to \( -x + 1 - x - x - 1 = x + 2 \).
     - Simplifying further, we get \( -3x = x + 2 \), which simplifies to \( -4x = 2 \), hence \( x = -\frac{1}{2} \).
  Combining all these cases, we find that \( 0 \leq x \leq 1 \).
  -/
  constructor <;>
  (try
    {
      -- Consider different cases based on the signs of x-1, x, and x+1
      cases' le_total 0 (x - 1) with h₁ h₁ <;>
        cases' le_total 0 x with h₂ h₂ <;>
          cases' le_total 0 (x + 1) with h₃ h₃ <;>
            -- Simplify the absolute values based on the signs
            simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos, add_left_neg,
              add_right_neg, add_zero, zero_add, zero_sub, sub_zero, sub_neg_eq_add, add_comm,
              add_left_comm, add_assoc] <;>
            -- Use linear arithmetic to solve the resulting equations
            linarith
    })
  <;>
  (try
    {
      -- Use linear arithmetic to solve the resulting equations
      linarith
    })
```