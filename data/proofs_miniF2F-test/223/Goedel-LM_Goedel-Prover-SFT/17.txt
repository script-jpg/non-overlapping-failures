/-
  Given the equation \( |x-1| + |x| + |x+1| = x + 2 \), we need to show that \( 0 \leq x \leq 1 \). We will consider different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \).
  1. **Case 1**: \( x-1 \geq 0 \) and \( x \geq 0 \) and \( x+1 \geq 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = x \), and \( |x+1| = x+1 \).
     - Substituting these into the equation, we get \( (x-1) + x + (x+1) = x + 2 \).
     - Simplifying, we find \( 3x = x + 2 \), which implies \( 2x = 2 \) and thus \( x = 1 \).
  2. **Case 2**: \( x-1 \geq 0 \) and \( x \geq 0 \) and \( x+1 < 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the equation, we get \( (x-1) + x + (-x-1) = x + 2 \).
     - Simplifying, we find \( x - 2 = x + 2 \), which implies \( -2 = 2 \), a contradiction.
  3. **Case 3**: \( x-1 \geq 0 \) and \( x < 0 \) and \( x+1 \geq 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = -x \), and \( |x+1| = x+1 \).
     - Substituting these into the equation, we get \( (x-1) + (-x) + (x+1) = x + 2 \).
     - Simplifying, we find \( x - 1 = x + 2 \), which implies \( -1 = 2 \), a contradiction.
  4. **Case 4**: \( x-1 \geq 0 \) and \( x < 0 \) and \( x+1 < 0 \).
     - Here, \( |x-1| = x-1 \), \( |x| = -x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the equation, we get \( (x-1) + (-x) + (-x-1) = x + 2 \).
     - Simplifying, we find \( x - 1 - x - 1 = x + 2 \), which implies \( -2 = x + 2 \), and thus \( x = -4 \).
  5. **Case 5**: \( x-1 < 0 \) and \( x \geq 0 \) and \( x+1 \geq 0 \).
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = x \), and \( |x+1| = x+1 \).
     - Substituting these into the equation, we get \( (-x+1) + x + (x+1) = x + 2 \).
     - Simplifying, we find \( 2 = x + 2 \), which implies \( x = 0 \).
  6. **Case 6**: \( x-1 < 0 \) and \( x \geq 0 \) and \( x+1 < 0 \).
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the equation, we get \( (-x+1) + x + (-x-1) = x + 2 \).
     - Simplifying, we find \( -x + 1 + x - x - 1 = x + 2 \), which implies \( -x = x + 2 \), and thus \( x = -1 \).
  7. **Case 7**: \( x-1 < 0 \) and \( x < 0 \) and \( x+1 \geq 0 \).
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = -x \), and \( |x+1| = x+1 \).
     - Substituting these into the equation, we get \( (-x+1) + (-x) + (x+1) = x + 2 \).
     - Simplifying, we find \( -x + 1 - x + x + 1 = x + 2 \), which implies \( 2 - x = x + 2 \), and thus \( x = 0 \).
  8. **Case 8**: \( x-1 < 0 \) and \( x < 0 \) and \( x+1 < 0 \).
     - Here, \( |x-1| = -(x-1) = -x+1 \), \( |x| = -x \), and \( |x+1| = -(x+1) = -x-1 \).
     - Substituting these into the equation, we get \( (-x+1) + (-x) + (-x-1) = x + 2 \).
     - Simplifying, we find \( -x + 1 - x - x - 1 = x + 2 \), which implies \( -3x = x + 2 \), and thus \( x = -1 \).
  Combining all cases, we conclude that \( 0 \leq x \leq 1 \).
  -/
  constructor <;>
  (try
    exact
      le_of_not_gt
        (fun h₁ =>
          by
            -- Consider different cases based on the signs of x-1, x, and x+1
            cases' le_total 0 (x - 1) with h₂ h₂ <;>
              cases' le_total 0 x with h₃ h₃ <;>
                cases' le_total 0 (x + 1) with h₄ h₄ <;>
                  -- Simplify the absolute values based on the signs
                  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
                    -- Use linear arithmetic to derive a contradiction
                    linarith))
  <;>
  (try
    exact
      le_of_not_gt
        (fun h₁ =>
          by
            -- Consider different cases based on the signs of x-1, x, and x+1
            cases' le_total 0 (x - 1) with h₂ h₂ <;>
              cases' le_total 0 x with h₃ h₃ <;>
                cases' le_total 0 (x + 1) with h₄ h₄ <;>
                  -- Simplify the absolute values based on the signs
                  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
                    -- Use linear arithmetic to derive a contradiction
                    linarith))
```