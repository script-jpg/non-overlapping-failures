/-
  To show that for any real number \( x \), if \( |x-1| + |x| + |x+1| = x + 2 \), then \( 0 \leq x \leq 1 \), we will consider different cases based on the signs of \( x-1 \), \( x \), and \( x+1 \). We will use the properties of absolute values and linear equations to derive the necessary conditions.
  1. **Case Analysis on Signs**:
     - We consider the cases where \( x-1 \), \( x \), and \( x+1 \) are non-negative or non-positive.
     - For each combination of these cases, we simplify the given equation \( |x-1| + |x| + |x+1| = x + 2 \).
  2. **Simplification and Solving**:
     - After simplifying the absolute values, we solve the resulting equations to find the range of \( x \) that satisfies the equation.
     - We use algebraic manipulation and linear arithmetic to derive the conditions \( 0 \leq x \leq 1 \).
  -/
  constructor
  -- We need to prove both 0 ≤ x and x ≤ 1.
  all_goals
    -- Consider different cases for the signs of x-1, x, and x+1.
    cases' le_total 0 (x - 1) with h₁ h₁ <;>
      cases' le_total 0 x with h₂ h₂ <;>
        cases' le_total 0 (x + 1) with h₃ h₃ <;>
          -- Simplify the absolute values based on the signs.
          simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos, add_left_neg,
            add_right_neg, add_zero, zero_add, zero_sub, sub_zero, neg_add_rev, neg_sub,
            neg_neg, neg_zero] <;>
          -- Solve the resulting linear equations using linear arithmetic.
          linarith
```