have h₁ : x ≥ 0 := by

    by_cases h₁ : x ≥ 0
    · exact h₁

    -- Now we suppose $x < 0$ and try to derive a contradiction.
    · by_cases h₂ : x + 1 ≥ 0
      · -- $|x-1| + |x| + |x+1| = (1-x) + (-x) + (x+1) = 2 - x$
        rw [abs_of_nonpos (by linarith), abs_of_nonpos (by linarith), abs_of_nonneg (by linarith)] at h₀
        linarith

      · -- Now we suppose $x + 1 < 0$ and try to derive a contradiction.
        by_cases h₃ : x + 2 ≥ 0
        · -- $|x-1| + |x| + |x+1| = (1-x) + (-x) + (-x-1) = -3x$
          rw [abs_of_nonpos (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)] at h₀
          linarith

        · -- Now we suppose $x + 2 < 0$ and try to derive a contradiction.
          by_cases h₄ : x + 3 ≥ 0
          · -- $|x-1| + |x| + |x+1| = (1-x) + (-x) + (-x-1) = -3x$
            rw [abs_of_nonpos (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)] at h₀
            linarith

          · -- Now we suppose $x + 3 < 0$ and try to derive a contradiction.
            rw [abs_of_nonneg (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)] at h₀
            linarith

  have h₂ : x ≤ 1 := by

    by_cases h₂ : x ≤ 1
    · exact h₂

    -- Now we suppose $x > 1$ and try to derive a contradiction.
    · by_cases h₃ : x - 1 ≥ 0
      · -- $|x-1| + |x| + |x+1| = (x-1) + (x) + (x+1) = 3x$
        rw [abs_of_nonneg (by linarith), abs_of_nonneg (by linarith), abs_of_nonneg (by linarith)] at h₀
        linarith

      · -- Now we suppose $x - 1 < 0$ and try to derive a contradiction.
        by_cases h₄ : x ≥ 0
        · -- $|x-1| + |x| + |x+1| = (1-x) + (x) + (x+1) = x + 2$
          rw [abs_of_nonpos (by linarith), abs_of_nonneg (by linarith), abs_of_nonneg (by linarith)] at h₀
          linarith

        · -- Now we suppose $x < 0$ and try to derive a contradiction.
          by_cases h₅ : x + 1 ≥ 0
          · -- $|x-1| + |x| + |x+1| = (1-x) + (-x) + (x+1) = 2 - x$
            rw [abs_of_nonpos (by linarith), abs_of_nonpos (by linarith), abs_of_nonneg (by linarith)] at h₀
            linarith

          · -- Now we suppose $x + 1 < 0$ and try to derive a contradiction.
            by_cases h₆ : x + 2 ≥ 0
            · -- $|x-1| + |x| + |x+1| = (1-x) + (-x) + (-x-1) = -3x$
              rw [abs_of_nonpos (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)] at h₀
              linarith

            · -- Now we suppose $x + 2 < 0$ and try to derive a contradiction.
              by_cases h₇ : x + 3 ≥ 0
              · -- $|x-1| + |x| + |x+1| = (1-x) + (-x) + (-x-1) = -3x$
                rw [abs_of_nonpos (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)] at h₀
                linarith

              · -- Now we suppose $x + 3 < 0$ and try to derive a contradiction.
                rw [abs_of_nonneg (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)] at h₀
                linarith

  exact ⟨h₁, h₂⟩
```