have hxge f : f abs x ≥ 0 := by
    apply abs_nonneg

  have hxle f : f abs x ≤ x + 2 := by linarith only [h₀]

  have hxabs1 := abs_cases x
  have hxabs2 := abs_cases (x - 1)
  have hxabs3 := abs_cases (x + 1)
  rcases hxabs1 with hx | hx
  · rcases hxabs2 with hx1 | hx1
    · rcases hxabs3 with hx2 | hx2
      · -- x + (x - 1) + (x + 1) = 3x = x + 2
        have : 3 * x = x + 2 := by linarith only [h₀]
        have : x = 1 := by linarith only [this]
        rw [this] at hx
        norm_num at hx
        exact ⟨hx, by norm_num⟩
      · -- x + (x - 1) + -(x + 1) = x - 2 = x + 2
        have : x - 2 = x + 2 := by linarith only [h₀]
        have : -2 = 2 := by linarith only [this]
        linarith only [this]
    · rcases hxabs3 with hx2 | hx2
      · -- -(x - 1) + (x + 1) + (x + 1) = x + 2 = x + 2
        have : -(x - 1) + (x + 1) + (x + 1) = x + 2 := by linarith only [h₀]
        have : 2 + x = x + 2 := by linarith only [this]
        have : 2 = 2 := by linarith only [this]
        linarith only [hxabs2]
      · -- -(x - 1) + (x + 1) + -(x + 1) = 1 - x = x + 2
        have : 1 - x = x + 2 := by linarith only [h₀]
        have : 1 = 2 * x + 2 := by linarith only [this]
        have : -1 = 2 * x := by linarith only [this]
        have : x = -1 / 2 := by linarith only [this]
        rw [this] at hx
        norm_num at hx
        linarith only [hx]
  · rcases hxabs2 with hx1 | hx1
    · rcases hxabs3 with hx2 | hx2
      · -- -(x - 1) + -(x + 1) + (x + 1) = -x = x + 2
        have : -x = x + 2 := by linarith only [h₀]
        have : -2 = 2 := by linarith only [this]
        linarith only [this]
      · -- -(x - 1) + -(x + 1) + -(x + 1) = -x - 2 = x + 2
        have : -x - 2 = x + 2 := by linarith only [h₀]
        have : -4 = 2 * x := by linarith only [this]
        have : -2 = x := by linarith only [this]
        rw [this] at hx
        norm_num at hx
        linarith only [hx]
    · rcases hxabs3 with hx2 | hx2
      · -- (x - 1) + (x + 1) + (x + 1) = 3x + 2 = x + 2
        have : 3 * x + 2 = x + 2 := by linarith only [h₀]
        have : 3 * x = x := by linarith only [this]
        have : 2 * x = 0 := by linarith only [this]
        have : x = 0 := by linarith only [this]
        rw [this] at hx
        norm_num at hx
        exact ⟨by norm_num, by norm_num⟩
      · -- (x - 1) + (x + 1) + -(x + 1) = x - 1 = x + 2
        have : x - 1 = x + 2 := by linarith only [h₀]
        have : -1 = 2 := by linarith only [this]
        linarith only [this]

```