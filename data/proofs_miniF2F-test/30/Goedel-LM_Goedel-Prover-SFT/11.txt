/-
  Given positive integers \( x \) and \( y \) such that \( x^{y^2} = y^x \), we need to show that \( (x, y) \) is equal to \( (1, 1) \), \( (16, 2) \), or \( (27, 3) \).
  1. **Case Analysis**: We start by analyzing the given equation \( x^{y^2} = y^x \).
  2. **Simplification**: Using the properties of exponents, we can rewrite the equation as \( x^{y^2} = y^x \).
  3. **Verification**: We verify that the only solutions to the equation are \( (1, 1) \), \( (16, 2) \), and \( (27, 3) \).
  -/
  -- We start by analyzing the given equation x^(y^2) = y^x.
  have h : x ^ y ^ 2 = y ^ x := h₁
  -- We use the fact that x and y are positive integers to narrow down the possible values.
  have h₂ : x ≤ 27 := by
    -- Since x is a positive integer, we can use the fact that x^(y^2) = y^x to bound x.
    apply Nat.le_of_not_gt
    intro h₃
    -- If x > 27, then x^(y^2) would be greater than y^x, which contradicts the given equation.
    have : x ^ y ^ 2 > y ^ x := by
      simp_all [Nat.pow_succ, Nat.pow_zero, Nat.pow_succ]
    linarith
  have h₃ : y ≤ 3 := by
    -- Similarly, y is a positive integer, and we can use the fact that x^(y^2) = y^x to bound y.
    apply Nat.le_of_not_gt
    intro h₄
    -- If y > 3, then x^(y^2) would be greater than y^x, which contradicts the given equation.
    have : x ^ y ^ 2 > y ^ x := by
      simp_all [Nat.pow_succ, Nat.pow_zero, Nat.pow_succ]
    linarith
  -- We now narrow down the possible values of x and y to check the exact solutions.
  interval_cases x <;> interval_cases y <;> simp_all
```