/-
  Given positive integers \( x \) and \( y \) such that \( x^{y^2} = y^x \), we need to show that \( (x, y) \) is equal to \( (1, 1) \), \( (16, 2) \), or \( (27, 3) \).
  1. From the given equation \( x^{y^2} = y^x \), we can take the logarithm on both sides to obtain \( y^2 \log x = x \log y \).
  2. Rearrange the equation to \( y^2 \log x = x \log y \).
  3. Since \( \log x \) and \( \log y \) are positive for \( x > 1 \) and \( y > 1 \), we can divide both sides by \( \log x \) and \( \log y \) to get \( y^2 = x \).
  4. This implies \( x = y^2 \).
  5. We need to check the possible values of \( x \) and \( y \) that satisfy \( x = y^2 \) and \( x > 1 \), \( y > 1 \).
  6. The only values that satisfy \( x = y^2 \) and \( x > 1 \), \( y > 1 \) are \( (16, 2) \) and \( (27, 3) \).
  -/
  have h₂ : x = y ^ 2 := by
    -- From the given equation, we derive that x = y^2 by rearranging terms.
    apply Eq.symm
    apply Nat.eq_of_mul_eq_mul_right (show 0 < y by linarith)
    rw [← h₁]
    ring_nf
  have h₃ : x ≤ 27 := by
    -- Since x = y^2 and y > 1, x must be less than or equal to 27.
    nlinarith
  have h₄ : y ≤ 3 := by
    -- Similarly, since y > 1, y must be less than or equal to 3.
    nlinarith
  interval_cases x <;> interval_cases y <;> simp_all
```