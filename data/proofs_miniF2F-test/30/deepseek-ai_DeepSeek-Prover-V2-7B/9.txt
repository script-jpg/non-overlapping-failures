have step₁ : (x, y) = (1, 1) ∨ (x, y) = (16, 2) ∨ (x, y) = (27, 3) := by
    have h₂ : x  > 0 := by linarith
    have h₃ : y  > 0 := by linarith
    have h₄ : x ^ y ^ 2 = y ^ x := by assumption
    have h₆ : x ≤ 27 := by
      by_contra h
      have h₇ : x ≥ 28 := by linarith
      have h₈ : y ≥ 2 := by
        by_contra h₉
        have h₁₀ : y ≤ 1 := by linarith
        interval_cases y <;> simp_all [pow_one, pow_two, Nat.pow_succ] <;>
        norm_num at * <;>
        (try omega) <;>
        (try {
          have h₁₁ : x ≤ 38 := by
            by_contra h₁₂
            have : x ≥ 39 := by linarith
            have : x ^ 4 ≥ x ^ 2 := by
              exact pow_le_pow_right (by linarith) (by linarith)
            have : x ^ (y ^ 2) ≥ x ^ 4 := by
              have : y ^ 2 ≥ 4 := by nlinarith
              exact pow_le_pow_right (by linarith) (by nlinarith)
            have : y ^ x  < x ^ (y ^ 2) := by
              have : y ≤ x := by
                nlinarith [pow_pos (by linarith : (0 : ℕ) < x) 2, pow_pos (by linarith : (0 : ℕ) < y) x]
              calc
                y ^ x ≤ x ^ x := by
                  exact pow_le_pow_of_le_left (by linarith) (by linarith) x
                _ < x ^ (y ^ 2) := by
                  have : x ^ x < x ^ (y ^ 2) := by
                    apply pow_lt_pow_of_lt_right (by linarith)
                    have : x < y ^ 2 := by nlinarith
                    nlinarith
                  exact this
            nlinarith
            <;> omega
          nlinarith
        }) <;>
        nlinarith
      have h₉ : y ≤ 9 := by
        by_contra h₁₀
        have h₁₁ : y ≥ 10 := by linarith
        have h₁₂ : x ^ y ^ 2 ≥ x ^ 10 := by
          apply pow_le_pow_of_le_right (by linarith)
          have : y ^ 2 ≥ 10 := by nlinarith
          nlinarith
        have h₁₃ : y ^ x < x ^ y ^ 2 := by
          have : y ≤ x := by
            nlinarith [pow_pos (by linarith : (0 : ℕ) < x) 2, pow_pos (by linarith : (0 : ℕ) < y) x]
          calc
            y ^ x ≤ x ^ x := by
              exact pow_le_pow_of_le_left (by linarith) (by linarith) x
            _ < x ^ y ^ 2 := by
              have : x ^ x < x ^ (y ^ 2) := by
                apply pow_lt_pow_of_lt_right (by linarith)
                have : x < y ^ 2 := by nlinarith
                nlinarith
              exact this
        nlinarith
        <;> omega
      interval_cases y <;>
        (try omega) <;>
        (try {
          interval_cases x <;> norm_num at h₄ ⊢ <;>
          (try omega) <;>
          (try {
            simp_all (config := {decide := true})
            <;> omega
          })
        }) <;>
        omega
    interval_cases x <;> norm_num at