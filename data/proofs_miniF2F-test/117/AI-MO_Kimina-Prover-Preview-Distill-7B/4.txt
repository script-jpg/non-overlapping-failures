-- preparing some facts for `omega`
  have h (n : ℕ) : n % 2 < 2 := by omega
  have h' (n : ℕ) : n % 3 < 3 := by omega

  -- showing that `k % 3 = 0, 1, 2`
  have h₀ : k % 3 < 3 := by omega

  -- showing that `k % 2 = 0, 1`
  have h₁ : k % 2 < 2 := by omega

 rify at h₀ h₁

  -- proving that `k % 3 = 0, 1, 2` and `k % 2 = 0, 1` implies that `k % 6 = 0, 1, 2, 3, 4, 5, 6`
  have h₂ (h : k % 3 < 3 ∧ k % 2 < 2) : k % 6 < 6 := by omega

  -- proving that `k % 6 = 0, 1, 2, 3, 4, 5, 6` implies that `k % 6 = 0 ∨ k % 6 = 1 ∨ k % 6 = 2 ∨ k % 6 = 3 ∨ k % 6 = 4 ∨ k % 6 = 5 ∨ k % 6 = 6`
  have h₃ (h : k % 6 < 6) : k % 6 = 0 ∨ k % 6 = 1 ∨ k % 6 = 2 ∨ k % 6 = 3 ∨ k % 6 = 4 ∨ k % 6 = 5 ∨ k % 6 = 6 := by omega

  -- showing that `k % 6 = 0 ∨ k % 6 = 1 ∨ k % 6 = 2 ∨ k % 6 = 3 ∨ k % 6 = 4 ∨ k % 6 = 5 ∨ k % 6 = 6`
  -- implies that `k % 6 = 0 ∨ k % 6 = 1 ∨ k % 6 = 2 ∨ k % 6 = 3 ∨ k % 6 = 4 ∨ k % 6 = 5`
  -- since `0 < k`
  have h₄ (h : k % 6 = 0 ∨ k % 6 = 1 ∨ k % 6 = 2 ∨ k % 6 = 3 ∨ k % 6 = 4 ∨ k % 6 = 5 ∨ k % 6 = 6) : k % 6 = 0 ∨ k % 6 = 1 ∨ k % 6 = 2 ∨ k % 6 = 3 ∨ k % 6 = 4 ∨ k % 6 = 5 := by omega

  -- interval_cases for `k % 6`
  interval_cases h % 6 <;> (rw [Nat.gcd_comm (6 * 0 + k) (6 * 0 + 3))] at h₁
  -- eliminating `k % 6 = 0` and `k % 6 = 2`
  any_goals interval_cases h % 2 <;> try { simp_all }
  -- eliminating `k % 6 = 1`
  any_goals interval_cases h % 2 <;> try { simp_all }
  -- eliminating `k % 6 = 3`
  any_goals interval_cases h % 3 <;> try { simp_all }
  -- eliminating `k % 6 = 4`
  any_goals interval_cases h % 3 <;> try { simp_all }
  -- eliminating `k % 6 = 5`
  any_goals interval_cases h % 3 <;> try { simp_all }
  -- finally we get `k % 6 = 5`
  simp_all

  -- proving the main goal
  omega
```