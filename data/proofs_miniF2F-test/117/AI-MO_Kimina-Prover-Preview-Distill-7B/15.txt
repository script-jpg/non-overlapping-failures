-- preparing some facts for `omega`
  have h₄ (n : ℕ) : n % 2 < 2 := by omega
  have h₅ (n : ℕ) : n % 3 < 3 := by omega

  -- showing that `k % 2 = 1`
  have h₆ : k % 2 = 1 := by
    by_contra!

    -- if `k % 2 = 0`, then `k` is even
    -- let `n = k / 2`
    have ⟨n, hn⟩ : ∃ n, k = 2 * n := by
      refine (Nat.exists_eq_mul_right_of_dvd?_).mp?_
      · by_contra!
        have : n % 2 < 2 := by omega
        have : n % 2 = 0 ∨ n % 2 = 1 := by omega
        rcases this with (h | h)
        · have : 2 ∣ n := by
            exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
          have : 4 ∣ k := by
            rw [hn]
            exact Nat.mul_dvd_mul_left 2 (dvd_mul_right 2 n)
          have : 2 ∣ 6 * n + k := by
            omega
          have : 2 ∣ 6 * n + 3 := by
            omega
          have : 2 ∣ 6 * n + 2 := by
            omega
          have : 2 ∣ 6 * n + 1 := by
            omega
          have : 2 ∣ 1 := by
            exact Nat.dvd_gcd this this
          omega
        · have : 2 ∣ n + 1 := by
            have : n % 2 = 1 := by
              exact (Nat.mod_add_div_eq_of_lt this).mp rfl
            refine (Nat.dvd_iff_mod_eq_zero this).mpr?_
            have : (n + 1) % 2 < 2 := by omega
            have : (n + 1) % 2 = 0 ∨ (n + 1) % 2 = 1 := by omega
            rcases this with (h | h)
            · have : 2 ∣ n + 1 := by
                exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
              have : 2 ∣ (6 * n + 3) + (6 * n + 2) + (6 * n + 1) - (6 * n + k) := by
                omega
              have : 2 ∣ 6 * n + 3 := by
                omega
              have : 2 ∣ 6 * n + 2 := by
                omega
              have : 2 ∣ 6 * n + 1 := by
                omega
              have : 2 ∣ 1 := by
                omega
              omega
            · have : 2 ∣ n := by
                have : (n + 1) % 2 = 1 := by
                  exact (Nat.add_mod_eq_of_mod_eq_add?_ rfl).mpr this
                refine (Nat.dvd_iff_mod_eq_zero this).mpr?_
                have : n % 2 < 2 := by omega
                have : n % 2 = 0 ∨ n % 2 = 1 := by omega
                rcases this with (h | h)
                · exact dvd_of_mod_eq_zero h
                · have : 2 ∣ (6 * n + k) - (6 * n + 1) := by
                    omega
                  have : 2 ∣ 6 * n + k := by
                    omega
                  have : 2 ∣ 6 * n + 1 := by
                    omega
                  have : 2 ∣ 1 := by
                    omega
                  omega
          omega

    -- let `n = 0`
    specialize h₁ 0
    rw [hn] at h₁
    have : 2 ∣ 3 := by
      have : 2 ∣ 6 * 0 + k := by
        omega
      have : 2 ∣ 6 * 0 + 3 := by
        omega
      have := Nat.dvd_gcd this h₁
      exact Nat.dvd_gcd this h₁
    omega

  -- showing that `k % 3 = 2`
  have h₇ : k % 3 = 2 := by
    by_contra!

    -- if `k % 3 = 0`, then let `n = k / 3`
    have ⟨n, hn⟩ : ∃ n, k = 3 * n := by
      refine (Nat.exists_eq_mul_right_of_dvd?_).mp?_
      · by_contra!
        have : n % 3 < 3 := by omega
        have : n % 3 = 0 ∨ n % 3 = 1 ∨ n % 3 = 2 := by omega
        rcases this with (h | h | h)
        · have : 3 ∣ n := by
            exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
          have : 9 ∣ k := by
            rw [hn]
            exact Nat.mul_dvd_mul_left 3 (dvd_mul_right 3 n)
          have : 3 ∣ 6 * n + k := by
            omega
          have : 3 ∣ 6 * n + 3 := by
            omega
          have : 3 ∣ 6 * n + 2 := by
            omega
          have : 3 ∣ 6 * n + 1 := by
            omega
          have : 3 ∣ 1 := by
            omega
          omega
        · have : 3 ∣ n + 1 := by
            have : n % 3 = 1 := by
              exact (Nat.mod_add_div_eq_of_lt this).mp rfl
            refine (Nat.dvd_iff_mod_eq_zero this).mpr?_
            have : (n + 1) % 3 < 3 := by omega
            have : (n + 1) % 3 = 0 ∨ (n + 1) % 3 = 1 ∨ (n + 1) % 3 = 2 := by omega
            rcases this with (h | h | h)
            · have : 3 ∣ n + 1 := by
                exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
              have : 3 ∣ (6 * n + 3) + (6 * n + 2) + (6 * n + 1) - (6 * n + k) := by
                omega
              have : 3 ∣ 6 * n + 3 := by
                omega
              have : 3 ∣ 6 * n + 2 := by
                omega
              have : 3 ∣ 6 * n + 1 := by
                omega
              have : 3 ∣ 1 := by
                omega
              omega
            · have : 3 ∣ n := by
                have : (n + 1) % 3 = 2 := by
                  exact (Nat.add_mod_eq_of_mod_eq_add?_ rfl).mpr this
                refine (Nat.dvd_iff_mod_eq_zero this).mpr?_
                have : n % 3 < 3 := by omega
                have : n % 3 = 0 ∨ n % 3 = 1 ∨ n % 3 = 2 := by omega
                rcases this with (h | h | h)
                · exact dvd_of_mod_eq_zero h
                · have : 3 ∣ (6 * n + k) - (6 * n + 1) := by
                    omega
                  have : 3 ∣ 6 * n + k := by
                    omega
                  have : 3 ∣ 6 * n + 1 := by
                    omega
                  have : 3 ∣ 1 := by
                    omega
                  omega
                · have : 3 ∣ (6 * n + k) - (6 * n + 2) := by
                    omega
                  have : 3 ∣ 6 * n + k := by
                    omega
                  have : 3 ∣ 6 * n + 2 := by
                    omega
                  have : 3 ∣ 1 := by
                    omega
                  omega
          omega
        · have : 3 ∣ n + 2 := by
            have : n % 3 = 2 := by
              exact (Nat.mod_add_div_eq_of_lt this).mp rfl
            refine (Nat.dvd_iff_mod_eq_zero this).mpr?_
            have : (n + 2) % 3 < 3 := by omega
            have : (n + 2) % 3 = 0 ∨ (n + 2) % 3 = 1 ∨ (n + 2) % 3 = 2 := by omega
            rcases this with (h | h | h)
            · have : 3 ∣ n + 2 := by
                exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
              have : 3 ∣ (6 * n + 3) + (6 * n + 2) + (6 * n + 1) - (6 * n + k) := by
                omega
              have : 3 ∣ 6 * n + 3 := by
                omega
              have : 3 ∣ 6 * n + 2 := by
                omega
              have : 3 ∣ 6 * n + 1 := by
                omega
              have : 3 ∣ 1 := by
                omega
              omega
            · have : 3 ∣ n + 1 := by
                have : (n + 2) % 3 = 1 := by
                  exact (Nat.add_mod_eq_of_mod_eq_add?_ rfl).mpr this
                refine (Nat.dvd_iff_mod_eq_zero this).mpr?_
                have : (n + 1) % 3 < 3 := by omega
                have : (n + 1) % 3 = 0 ∨ (n + 1) % 3 = 1 ∨ (n + 1) % 3 = 2 := by omega
                rcases this with (h | h | h)
                · have : 3 ∣ n := by
                    exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
                  have : 3 ∣ (6 * n + 3) + (6 * n + 2) + (6 * n + 1) - (6 * n + k) := by
                    omega
                  have : 3 ∣ 6 * n + 3 := by
                    omega
                  have : 3 ∣ 6 * n + 2 := by
                    omega
                  have : 3 ∣ 6 * n + 1 := by
                    omega
                  have : 3 ∣ 1 := by
                    omega
                  omega
                · have : 3 ∣ (6 * n + k) - (6 * n + 1) := by
                    omega
                  have : 3 ∣ 6 * n + k := by
                    omega
                  have : 3 ∣ 6 * n + 1 := by
                    omega
                  have : 3 ∣ 1 := by
                    omega
                  omega
                · have : 3 ∣ (6 * n + k) - (6 * n + 2) := by
                    omega
                  have : 3 ∣ 6 * n + k := by
                    omega
                  have : 3 ∣ 6 * n + 2 := by
                    omega
                  have : 3 ∣ 1 := by
                    omega
                  omega
          omega

    -- let `n = 10`
    specialize h₁ 10
    rw [hn] at h₁
    have : 3 ∣ 13 := by
      have : 3 ∣ 6 * 10 + k := by
        omega
      have : 3 ∣ 6 * 10 + 3 := by
        omega
      have := Nat.dvd_gcd this h₁
      exact Nat.dvd_gcd this h₁
    omega

  -- showing that `k % 6 = 5`
  have h₈ : k % 6 = 5 := by
    by_contra!

    -- if `k % 6 < 5`, then `k % 3 = 0` or `k % 3 = 1` or `k % 3 = 2` and `k % 2 = 0`
    have : k % 3 = 0 ∨ k % 3 = 1 ∨ k % 3 = 2 := by omega
    rcases this with (h | h | h)
    · -- `k % 3 = 0`
      have : k % 2 = 0 := by
        by_contra!
        have : k % 6 = 1 := by
          omega
        omega
      have : 2 ∣ k := by
        exact (Nat.dvd_iff_mod_eq_zero this).mpr rfl
      have : 3 ∣ k := by
        exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
      have : 6 ∣ k := by
        exact Nat.Coprime.mul_dvd_of_dvd_of_dvd rfl rfl this this
      have h₄ := h₁ 0
      rw [this] at h₄
      have : 6 ∣ 3 := by
        exact Nat.dvd_gcd h₄ h₄
      omega
    · -- `k % 3 = 1`
      have : k % 2 = 0 ∨ k % 2 = 1 := by omega
      rcases this with (h | h)
      · -- `k % 2 = 0`
        have : 2 ∣ k := by
          exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
        have : 6 ∣ k := by
          exact Nat.Coprime.mul_dvd_of_dvd_of_dvd rfl rfl this h
        have h₄ := h₁ 1
        rw [this] at h₄
        have : 6 ∣ 5 := by
          exact Nat.dvd_gcd h₄ h₄
        omega
      · -- `k % 2 = 1`
        have : 2 ∣ 6 := by
          exact Nat.dvd_of_mod_eq_zero rfl
        omega
    · -- `k % 3 = 2`
      have : k % 2 = 0 ∨ k % 2 = 1 := by omega
      rcases this with (h | h)
      · -- `k % 2 = 0`
        have : 2 ∣ k := by
          exact (Nat.dvd_iff_mod_eq_zero h).mpr rfl
        have : 6 ∣ k := by
          exact Nat.Coprime.mul_dvd_of_dvd_of_dvd rfl rfl this h
        have h₄ := h₁ 1
        rw [this] at h₄
        have : 6 ∣ 5 := by
          exact Nat.dvd_gcd h₄ h₄
        omega
      · -- `k % 2 = 1`
        have : 2 ∣ 6 := by
          exact Nat.dvd_of_mod_eq_zero rfl
        omega

  -- finally showing that `k ≥ 5`
  omega

```