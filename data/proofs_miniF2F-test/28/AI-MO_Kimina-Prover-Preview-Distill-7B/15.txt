-- A lemma that will be used later --
  have l_1 : √((a + √b) / 2) = (a + √b) / √2 := by
    calc
      √((a + √b) / 2) = √(a / 2 + √b / 2) := by ring_nf
      _ = √(a / 2) + √(√b / 2) := by rw [Real.sqrt_add]; positivity
      _ = √(a / 2) + √(√(b / 2)) := by rw [Real.sqrt_div, Real.sqrt_div]; positivity
      _ = √(a / 2) + √(√b / √2) := by rw [Real.sqrt_eq_iff_eq_sq]; field_simp; ring_nf; positivity
      _ = √(a / 2) + √√b / √2 := by rw [Real.sqrt_div]
      _ = √((a / 2) + √b / 2) / √2 := by ring_nf
      _ = √(a + √b) / √2 := by rw [←Real.sqrt_add]; field_simp; ring_nf; positivity
      _ = (a + √b) / √2 := by rw [Real.sqrt_eq_iff_eq_sq]; field_simp; ring_nf; positivity

  -- First, rewrite  $2x^2 = 4x + 9$ to $(x - 2)^2 = 4x + 9 - 4 $ --
  have h₄ : (x - 2) ^ 2 = 4 * x + 9 - 4 := by
    calc
      (x - 2) ^ 2 = x ^ 2 - 2 * x * 2 + 2 ^ 2 := by ring_nf
      _ = x ^ 2 - 4 * x + 4 := by ring_nf
      _ = 2 * x ^ 2 - 4 * x + 4 - x ^ 2 := by ring_nf
      _ = 9 + 4 - x ^ 2 := by rw [h₁]; ring_nf
      _ = 4 * x + 9 - 4 := by ring_nf

  -- Then, rewrite $(x - 2)^2 = 4x + 9 - 4$ to $(x - 2)^2 = 4(x + 5/4)$ --
  have h₅ : (x - 2) ^ 2 = 4 * (x + 5 / 4) := by
    calc
      (x - 2) ^ 2 = 4 * x + 9 - 4 := h₄
      _ = 4 * x + 5 := by ring_nf
      _ = 4 * (x + 5 / 4) := by ring_nf

  -- After, rewrite $(x - 2)^2 = 4(x + 5/4)$ to $(x - 2)^2 - 4(x + 5/4) = 0$ --
  have h₆ : (x - 2) ^ 2 - 4 * (x + 5 / 4) = 0 := by
    calc
      (x - 2) ^ 2 - 4 * (x + 5 / 4) = (x - 2) ^ 2 - 4 * x - 5 := by ring_nf
      _ = 4 * (x + 5 / 4) - 4 * x - 5 := by rw [h₅]
      _ = 0 := by ring_nf

  -- Factorize $(x - 2)^2 - 4(x + 5/4) = 0$ to get $((x - 2) - 2)((x - 2) + 2) = 0$ --
  have h₇ : ((x - 2) - 2) * ((x - 2) + 2) = 0 := by
    ring_nf at h₆ ⊢
    linarith only [h₆]

  -- Simplify the expression --
  simp at h₇

  -- Solve two cases --
  rcases h₇ with h₇ | h₇

  -- For the first case --
  · have h₈ : x = 4 := by linarith only [h₇]
    rw [h₈] at h₂
    norm_num at h₂
    subst x
    subst h₂
    norm_num
    linarith only [h₃]

  -- For the second case --
  · have h₈ : x = -1 := by linarith only [h₇]
    linarith only [h₀, h₈]
```