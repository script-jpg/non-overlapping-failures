have step₁ : S.card = 672 := by
    have : S = Finset.filter (fun k => 0 < k) (Finset.filter (fun k => k * k ∣ ∏ i in Finset.Icc 1 9, i!) (Finset.range 10000)) := by
      ext k
      simp [h₀, Nat.lt_succ_iff]
      <;>
      by_cases h : k = 0 <;>
      simp_all [Nat.factorial]
      <;>
      norm_num <;>
      rcases k with (_ | _ | k) <;>
      norm_num at * <;>
      try { omega } <;>
      try { ring_nf at * <;> norm_num at * <;> omega } <;>
      try {
        simp_all [Finset.prod_Icc_succ_top, Nat.factorial] <;>
        ring_nf at * <;>
        omega
      } <;>
      try {
        norm_num at * <;>
        ring_nf at * <;>
        omega
      } <;>
      try {
        omega
      }
    rw [this]
    rfl
  
  exact step₁
```