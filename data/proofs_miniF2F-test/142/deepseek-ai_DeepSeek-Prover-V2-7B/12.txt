have h₁ : S = Finset.filter (fun k => k > 0) (Finset.filter (fun k => k * k ∣ ∏ i in Finset.Icc 1 9, i!) (Finset.range 10000)) := by
    ext k
    simp [h₀, Nat.lt_succ_iff]
    <;>
    (try decide) <;>
    (try omega) <;>
    (try ring_nf) <;>
    (try norm_num) <;>
    (try
      {
        cases k <;>
        simp_all [Finset.mem_filter, Finset.mem_range, Nat.factorial] <;>
        norm_num <;>
        try omega <;>
        try
          {
            ring_nf at * <;>
            omega
          }
      })
  rw [h₁]
  rfl
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <;> decide
  <