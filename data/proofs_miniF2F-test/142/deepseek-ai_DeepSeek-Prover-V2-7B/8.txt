have h₁ : S = Finset.filter (fun k => 0 < k) (Finset.filter (fun k => k * k ∣ ∏ i in Finset.Icc 1 9, i!) (Finset.range 10000)) := by
    ext k
    simp [h₀, Nat.lt_succ_iff]
    <;>
    by_cases h : k = 0 <;>
    simp_all [h] <;>
    omega
  
  have h₂ : S.card = 672 := by
    rw [h₁]
    rfl
  
  rw [h₂]
  <;>
  aesop
  <;>
  norm_num
  <;>
  decide
  <;>
  simp_all
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide
  <;>
  decide