-- We find all positive integers $n$ such that $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{n}$ is an integer.
  have h₂ : (1 /. 2 + 1 /. 3 + 1 /. 7 + 1 /. ↑n).den = 42 := by
    -- $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{n}$ is an integer, so $n$ must be a divisor of $42$.
    apply Nat.eq_of den_eq
    rw [h₁]
    norm_num
  have h₃ : n ∣ 42 := by
    -- $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{n}$ is an integer, so $n$ must be a divisor of $42$.
    rw [←h₂, (by norm_num : (42 : ℕ).den = 42), (by
      -- We show that the denominator of $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{n}$ is $42$.
      rw [←@Rat.div_int_eq_den 42 n]
      refine (Rat.add_den_eq_den?_?_).trans?_
      · simp
      · simp
      · rw [show (42 : ℕ).gcd n = n.gcd 42 by rw [Nat.gcd_comm]]
        rw [Nat.gcd_eq_iff]
        constructor
        · use 2
          use 3
          use 7
          use n
          norm_num
          exact h₀
        · intro m hm₁ hm₂ hm₃
          have hm₄ : m ∣ 2 * 3 * 7 := by
            rw [←Nat.mul_div_assoc, mul_comm, Nat.mul_div_assoc, Nat.dvd_mul_left] at hm₁ hm₂ hm₃
            apply Nat.dvd_trans hm₁
            apply Nat.dvd_trans hm₂
            apply Nat.dvd_trans hm₃
            norm_num
          have hm₅ : m ∣ 42 := by
            apply Nat.dvd_trans hm₄
            norm_num
          apply Nat.le_of_dvd (by norm_num) hm₅
    )
  rw [←h₂, (by norm_num : (42 : ℕ).den = 42), (by
    -- We show that the denominator of $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{n}$ is $42$.
    rw [←@Rat.div_int_eq_den 42 n]
    refine (Rat.add_den_eq_den?_?_).trans?_
    · simp
    · simp
    · rw [show (42 : ℕ).gcd n = n.gcd 42 by rw [Nat.gcd_comm]]
      rw [Nat.gcd_eq_iff]
      constructor
      · use 2
        use 3
        use 7
        use n
        norm_num
        exact h₀
      · intro m hm₁ hm₂ hm₃
        have hm₄ : m ∣ 2 * 3 * 7 := by
          rw [←Nat.mul_div_assoc, mul_comm, Nat.mul_div_assoc, Nat.dvd_mul_left] at hm₁ hm₂ hm₃
          apply Nat.dvd_trans hm₁
          apply Nat.dvd_trans hm₂
          apply Nat.dvd_trans hm₃
          norm_num
        have hm₅ : m ∣ 42 := by
          apply Nat.dvd_trans hm₄
          norm_num
        apply Nat.le_of_dvd (by norm_num) hm₅
  )]
  have h₄ : n < 42 := by
    -- $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{n}$ is an integer, so $n$ must be a divisor of $42$.
    -- We have already shown that $n \mid 42$, so $n \leq 42$. However, $n \neq 42$ because the denominator of $\frac{1}{2} + \frac{1}{3} + \frac{1}{7} + \frac{1}{42}$ is $42$, so $n < 42$.
    apply Nat.lt_of_le_of_ne
    · exact Nat.le_of_dvd (by norm_num) h₃
    · intro h
      norm_num [h] at h₂
  -- We conclude that $n = 42$.
  interval_cases n <;> norm_num at h₂ <;> tauto

```