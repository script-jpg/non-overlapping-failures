have h₁ : 0 < x := h₀.1
  have h₂ : 0 < y := h₀.2.1
  have h₃ : 0 < z := h₀.2.2
  have h₄ : 0 < x * y := mul_pos h₁ h₂
  have h₅ : 0 < y * z := mul_pos h₂ h₃
  have h₆ : 0 < z * x := mul_pos h₃ h₁
  field_simp
  rw [div_le_div_iff (by positivity) (by positivity)]
  ring_nf
  nlinarith [sq_nonneg (x ^ 2 - y ^ 2), sq_nonneg (y ^ 2 - z ^ 2), sq_nonneg (z ^ 2 - x ^ 2),
    sq_nonneg (x ^ 2 - x * y), sq_nonneg (y ^ 2 - y * z), sq_nonneg (z ^ 2 - z * x),
    sq_nonneg (x * y - y * z), sq_nonneg (y * z - z * x), sq_nonneg (z * x - x * y)]

theorem algebra_9onxpypzleqsum2onxpy' (x y z : ℝ) (h₀ : 0 < x ∧ 0 < y ∧ 0 < z) :
    9 / (x + y + z) ≤ 2 / (x + y) + 2 / (y + z) + 2 / (z + x) := by
  have h₁ : 0 < x := by linarith
  have h₂ : 0 < y := by linarith
  have h₃ : 0 < z := by linarith
  have h₄ : 0 < x * y := mul_pos h₁ h₂
  have h₅ : 0 < y * z := mul_pos h₂ h₃
  have h₆ : 0 < z * x := mul_pos h₃ h₁
  field_simp
  rw [div_le_div_iff (by positivity) (by positivity)]
  ring_nf
  nlinarith [sq_nonneg (x ^ 2 - y ^ 2), sq_nonneg (y ^ 2 - z ^ 2), sq_nonneg (z ^ 2 - x ^ 2),
    sq_nonneg (x ^ 2 - x * y), sq_nonneg (y ^ 2 - y * z), sq_nonneg (z ^ 2 - z * x),
    sq_nonneg (x * y - y * z), sq_nonneg (y * z - z * x), sq_nonneg (z * x - x * y)]

theorem algebra_9onxpypzleqsum2onxpy'' (x y z : ℝ) (h₀ : 0 < x ∧ 0 < y ∧ 0 < z) :
    9 / (x + y + z) ≤ 2 / (x + y) + 2 / (y + z) + 2 / (z + x) := by
  have h₁ : 0 < x := by linarith
  have h₂ : 0 < y := by linarith
  have h₃ : 0 < z := by linarith
  have h₄ : 0 < x * y := mul_pos h₁ h₂
  have h₅ : 0 < y * z := mul_pos h₂ h₃
  have h₆ : 0 < z * x := mul_pos h₃ h₁
  field_simp
  rw [div_le_div_iff (by positivity) (by positivity)]
  ring_nf
  nlinarith [sq_nonneg (x ^ 2 - y ^ 2), sq_nonneg (y ^ 2 - z ^ 2), sq_nonneg (z ^ 2 - x ^ 2),
    sq_nonneg (x ^ 2 - x * y), sq_nonneg (y ^ 2 - y * z), sq_nonneg (z ^ 2 - z * x),
    sq_nonneg (x * y - y * z), sq_nonneg (y * z - z * x), sq_nonneg (z * x - x * y)]

theorem algebra_9