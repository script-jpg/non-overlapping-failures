-- prove the Cauchy-Schwarz inequality
  have CS_ineq (x1 y1 z1 x2 y2 z2 : ℝ) : (x1 * x2 + y1 * y2 + z1 * z2) ^ 2 ≤ (x1 ^ 2 + y1 ^ 2 + z1 ^ 2) * (x2 ^ 2 + y2 ^ 2 + z2 ^ 2) := by
    nlinarith [sq_nonneg (x1 * y2 - y1 * x2), sq_nonneg (y1 * z2 - z1 * y2), sq_nonneg (z1 * x2 - x1 * z2)]

  -- specialize CS_ineq to $((x+y), (y+z), (z+x))$ and $(3, 3, 3)$
  specialize CS_ineq (x + y) (y + z) (z + x) 3 3 3
  simp at CS_ineq

  -- it's equivalent to the goal after taking square root and simplify
  have : (9 / (x + y + z)) ^ 2 ≤ (2 / (x + y) + 2 / (y + z) + 2 / (z + x)) ^ 2 := by
    rw [div_pow, div_pow, h₀.left, h₀.right.left, h₀.right.right]
    field_simp
    linarith only [CS_ineq]

  rw [sq_le_sq₀ (by apply div_nonneg; linarith only [h₀.left]; linarith only [h₀.right.left]; positivity) (by positivity)]
  exact Real.sqrt_le_sqrt this

```