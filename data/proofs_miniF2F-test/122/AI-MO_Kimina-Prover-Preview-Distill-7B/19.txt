-- prove the Cauchy-Schwarz inequality
  have CS_ineq (x₁ y₁ z₁ x₂ y₂ z₂ : ℝ) : (x₁ * x₂ + y₁ * y₂ + z₁ * z₂) ^ 2 ≤ (x₁ ^ 2 + y₁ ^ 2 + z₁ ^ 2) * (x₂ ^ 2 + y₂ ^ 2 + z₂ ^ 2) := by
    nlinarith [sq_nonneg (x₁ * y₂ - y₁ * x₂), sq_nonneg (y₁ * z₂ - z₁ * y₂), sq_nonneg (z₁ * x₂ - x₁ * z₂)]

  -- apply CS_ineq to $(x+y), (y+z), (z+x)$ and $(3/\sqrt{2(x+y)}), (3/\sqrt{2(y+z)}), (3/\sqrt{2(z+x)})$
  -- we get $(x+y) + (y+z) + (z+x) \geq 3*\sqrt{2(x+y)} * 3/\sqrt{2(x+y)} = 9$
  have h₁ : 9 ≤ (x + y) + (y + z) + (z + x) := by
    specialize CS_ineq (3 / √(2 * (x + y))) (3 / √(2 * (y + z))) (3 / √(2 * (z + x))) √(2 * (x + y)) √(2 * (y + z)) √(2 * (z + x))
    iterate 3 rw [div_mul_cancel₀ _ (by positivity : √(2 * (x + y)) ≠ 0)]
    iterate 6 rw [mul_pow]
    iterate 3 rw [Real.sq_sqrt (by positivity)]
    congr
   . ring
   . nlinarith [Real.sq_sqrt (by positivity : 0 ≤ 2 * (x + y)), Real.sq_sqrt (by positivity : 0 ≤ 2 * (y + z)), Real.sq_sqrt (by positivity : 0 ≤ 2 * (z + x))]

  -- rewrite h₁ and use the fact that $9 = 3*3$ and $3 > 0$
  -- we get $3 ≤ (x+y)+(y+z)+(z+x)$ and $9/(x+y+z) ≤ 2/(x+y) + 2/(y+z) + 2/(z+x)$
  rw [show (x + y) + (y + z) + (z + x) = 2 * (x + y + z) by ring] at h₁
  rw [div_le_div_iff_of_pos_right (by positivity : 0 < x + y + z)]
  linarith

```