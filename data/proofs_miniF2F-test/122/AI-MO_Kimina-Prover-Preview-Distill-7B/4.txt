-- Simplify the inequality to a sum of squares form.
  have : 9 / (x + y + z) ≤ 2 / (x + y) + 2 / (y + z) + 2 / (z + x) ↔
      0 ≤ (x + y) * (y + z) * (z + x) * (18 - 4 * (x + y + z) ^ 2) / ((x + y) * (y + z) * (z + x) * (x + y + z) ^ 2) := by
    field_simp
    constructor
    · intro h
      ring_nf at h ⊢
      exact h
    · intro h
      ring_nf at h ⊢
      exact h
  rw [this]

  -- Prove the non-negativity of the simplified expression.
  suffices 0 ≤ (x + y) * (y + z) * (z + x) * (18 - 4 * (x + y + z) ^ 2) / ((x + y) * (y + z) * (z + x) * (x + y + z) ^ 2) by
    exact this

  -- Since the denominator is positive, it suffices to prove the non-negativity of the numerator.
  suffices 0 ≤ (x + y) * (y + z) * (z + x) * (18 - 4 * (x + y + z) ^ 2) by
    exact div_nonneg this (by positivity)

  -- Expand the expression and prove it is a sum of squares.
  have : (x + y) * (y + z) * (z + x) * (18 - 4 * (x + y + z) ^ 2) =
      4 * (x - y) ^ 2 * (y - z) ^ 2 * (z - x) ^ 2 + (x + y) ^ 2 * (y + z) ^ 2 * (z + x) ^ 2 := by ring
  rw [this]
  positivity
```