-- the first and ninth terms of an arithmetic sequence are $\frac23$ and $\frac45$, respectively. What is the fifth term? Show that it is \frac{11}{15}.

  -- Let the first term be $a_1 = a$ and the common difference be $d$.
  let a := a 1
  let d := a 2 - a 1

  -- By the definition of an arithmetic sequence, we have $a_3 - a_2 = a_2 - a_1$, $a_4 - a_3 = a_3 - a_2$, and so on.
  have h₀ (n : ℕ) : a (n + 2) - a (n + 1) = a (n + 1) - a n := by
    exact h₀ n

  -- Therefore, $a_4 = 2a_2 - a_1$ and $a_5 = 2a_3 - a_2$.
  have h₁ (n : ℕ) : a (n + 2) = 2 * a (n + 1) - a n := by
    rw [show n + 1 + 1 = n + 2 by omega, ← h₀ n]
    linarith

  -- We have $a_5 = 2a_3 - a_2$.
  have h₃ : a 3 = 2 * a 2 - a 1 := h₁ 1

  -- We have $a_4 = 2a_2 - a_1$.
  have h₂ : a 4 = 2 * a 3 - a 2 := h₁ 2

  -- We have $a_5 = 2a_3 - a_2$.
  have h₄ : a 5 = 2 * a 4 - a 3 := h₁ 3

  -- By the property of an arithmetic sequence, we have $a_9 = 2a_5 - a_1$.
  have h₅ : a 9 = 2 * a 5 - a 1 := by
    rw [show 5 + 4 = 9 by omega, ← h₁ 4]
    linarith

  -- We substitute $a_1 = \frac23$ into the equation.
  rw [h₁] at h₃
  rw [h₃, h₂, h₄] at h₅

  -- We solve the equation.
  linarith

```