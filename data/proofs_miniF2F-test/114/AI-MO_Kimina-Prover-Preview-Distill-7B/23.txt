-- We have that $p(n) = n^2 - n + 41$ and $p(n+1) = (n+1)^2 - (n+1) + 41$.

  have h₂ : p n = n ^ 2 - n + 41 := h₀ n
  have h₃ : p (n + 1) = (n + 1) ^ 2 - (n + 1) + 41 := h₀ (n + 1)

  -- Show that $p(n)$ and $p(n+1)$ share a common factor greater than $1$ if and only if $n \geq 41$.
  -- We have that $p(n) = n^2 - n + 41$ and $p(n+1) = (n+1)^2 - (n+1) + 41$.
  -- So the common factor $d$ satisfies $d \mid n^2 - n + 41$ and $d \mid (n+1)^2 - (n+1) + 41$.
  -- Expanding the second expression, we get $d \mid n^2 + n + 41$.
  -- Subtracting the first expression, we get $d \mid (n^2 + n + 41) - (n^2 - n + 41) = 2n$.
  -- So $d \mid 2n$ and $d \mid n^2 - n + 41$.
  -- If $d \mid 2n$ and $d \mid n^2 - n + 41$, then $d \mid n^2 - n + 41 - n(2n) = 41 - n^2$.
  -- So $d \mid 41 - n^2$ and $d \mid 2n$.
  -- This implies $d \mid 41 - n^2 + n(2n) = n^2 + 41$.
  -- So $d \mid n^2 + 41$ and $d \mid 2n$.
  -- If $d \mid 2n$ and $d \mid n^2 + 41$, then $d \mid n^2 + 41 - 2n(2n) = 41 - 3n^2$.
  -- So $d \mid 41 - 3n^2$ and $d \mid 2n$.
  -- This implies $d \mid 41 - 3n^2 + 3n(2n) = 41 + 2n^2$.
  -- So $d \mid 41 + 2n^2$ and $d \mid 2n$.
  -- If $d \mid 2n$ and $d \mid 41 + 2n^2$, then $d \mid 2(41 + 2n^2) - n(2n)$
  -- $= 82 + 4n^2 - 2n^2 = 82 + 2n^2$.
  -- So $d \mid 82 + 2n^2$ and $d \mid 2n$.
  -- This implies $d \mid 82 + 2n^2 - n(2n)$ $= 82$.
  -- So $d \mid 82$ and $d \mid 2n$.
  -- If $d \mid 82$ and $d \mid 2n$, then $d \mid 82 - 41 \cdot 2 = 0$.
  -- So $d \mid 0$ and $d \mid 2n$.
  -- This implies $d \mid 2n$ but $d > 2n$ which is a contradiction unless $n = 0$ or $n = 41$.
  -- If $n = 0$, then $p(n) = 41$ and $p(n+1) = 41$ so $\gcd(p(n), p(n+1)) = 41$.
  -- If $n = 41$, then $p(n) = 41 \cdot 41$ and $p(n+1) = 41 \cdot 42$ so $\gcd(p(n), p(n+1)) = 41$.
  -- For $1 < n < 41$, $\gcd(p(n), p(n+1)) = 1$.
  -- Therefore, the smallest positive integer $n$ for which $p(n)$ and $p(n+1)$ share a common factor greater than $1$ is $41$.

  rw [h₂, h₃] at h₁
  by_contra!
  interval_cases n <;> norm_num at h₁
```