-/
theorem lean_workbook_plus_43781  (n : ℕ)
  (p : ℕ → ℕ)
  (h₀ : ∀ x, p x = x^2 - x + 41)
  (h₁ : 1 < Nat.gcd (p n) (p (n + 1))) :
  41 ≤ n   := by
  /-
  To show that the smallest positive integer \( n \) for which \( p(n) \) and \( p(n+1) \) share a common factor greater than 1 is 41, we start by analyzing the polynomial \( p(n) = n^2 - n + 41 \). We need to find the smallest \( n \) such that \( p(n) \) and \( p(n+1) \) are not coprime.
  Given the polynomial \( p(n) = n^2 - n + 41 \), we can factorize it to:
  \[ p(n) = (n - 1)(n - 41) \]
  For \( p(n) \) and \( p(n+1) \) to share a common factor, \( n \) must be such that \( n - 1 \) and \( n - 41 \) are not coprime. This means \( n \) must be a common divisor of \( n - 1 \) and \( n - 41 \).
  The smallest positive integer \( n \) that satisfies this condition is 41. We verify this by checking the polynomial at \( n = 41 \):
  \[ p(41) = 41^2 - 41 + 41 = 1681 - 41 + 41 = 1681 \]
  \[ p(42) = 42^2 - 42 + 41 = 1764 - 42 + 41 = 1763 \]
  Since \( 1763 \) is not coprime with \( 1761 \), we conclude that \( n = 41 \) is the smallest such integer.
  -/
  -- Simplify the given hypotheses and the goal using basic arithmetic and logical simplifications.
  simp_all only [Nat.gcd_eq_right, Nat.gcd_eq_left, Nat.gcd_one_right, Nat.gcd_one_left,
    Nat.gcd_zero_right, Nat.gcd_zero_left, Nat.gcd_self, Nat.gcd_zero_left, Nat.gcd_zero_right,
    Nat.gcd_one_left, Nat.gcd_one_right]
  -- Use contradiction to show that n must be at least 41.
  apply le_of_not_lt
  intro h
  -- If n < 41, then n can be one of the values that does not satisfy the condition.
  interval_cases n <;> simp_all [Nat.gcd_eq_right, Nat.gcd_eq_left, Nat.gcd_one_right, Nat.gcd_one_left,
    Nat.gcd_zero_right, Nat.gcd_zero_left, Nat.gcd_self, Nat.gcd_zero_left, Nat.gcd_zero_right,
    Nat.gcd_one_left, Nat.gcd_one_right]
```