have step₁ : a = 3 := by
    ring_nf at *
    nlinarith [sq_nonneg (a - 3), sq_nonneg (b - 2), sq_nonneg (c - 4), sq_nonneg (d - 7),
      sq_nonneg (a - b), sq_nonneg (a - c), sq_nonneg (a - d), sq_nonneg (b - c), sq_nonneg (b - d),
      sq_nonneg (c - d)]
  
  have step₂ : b = 2 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  
  have step₃ : c = 4 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  
  have step₄ : d = 7 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  
  have step₅ : (d.den : ℤ) + d.num = 28 := by
    subst_vars
    <;> norm_num [Rat.den_pos]
    <;> rfl
  
  exact_mod_cast step₅



theorem mathd_algebra_459_alt (a b c d : ℚ) (h₀ : 3 * a = b + c + d) (h₁ : 4 * b = a + c + d)
    (h₂ : 2 * c = a + b + d) (h₃ : 8 * a + 10 * b + 6 * c = 24) : ↑d.den + d.num = 28 := by
  have h₄ : a = 3 := by
    ring_nf at *
    nlinarith [sq_nonneg (a - 3), sq_nonneg (b - 2), sq_nonneg (c - 4), sq_nonneg (d - 7),
      sq_nonneg (a - b), sq_nonneg (a - c), sq_nonneg (a - d), sq_nonneg (b - c), sq_nonneg (b - d),
      sq_nonneg (c - d)]
  have h₅ : b = 2 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  have h₆ : c = 4 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  have h₇ : d = 7 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  subst_vars
  norm_num [Rat.den_pos]
  <;> rfl


theorem mathd_algebra_459_alt_2 (a b c d : ℚ) (h₀ : 3 * a = b + c + d) (h₁ : 4 * b = a + c + d)
    (h₂ : 2 * c = a + b + d) (h₃ : 8 * a + 10 * b + 6 * c = 24) : ↑d.den + d.num = 28 := by
  have h₄ : a = 3 := by
    ring_nf at *
    nlinarith [sq_nonneg (a - 3), sq_nonneg (b - 2), sq_nonneg (c - 4), sq_nonneg (d - 7),
      sq_nonneg (a - b), sq_nonneg (a - c), sq_nonneg (a - d), sq_nonneg (b - c), sq_nonneg (b - d),
      sq_nonneg (c - d)]
  have h₅ : b = 2 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  have h₆ : c = 4 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  have h₇ : d = 7 := by
    subst_vars
    ring_nf at *
    <;> nlinarith
  subst_vars
  norm_num [Rat.den_pos]
  <;> rfl

theorem mathd_algebra_459