-- we first show that the n-th Fibonacci number is equal to $F_{n+1}$, the (n+1)-th Fibonacci number in the standard definition.
  have h₃ (n : ℕ) : a (n + 2) = Nat.fib (n + 1) := by
    cases' n with n
    · simp [h₀]
    cases' n with n
    · simp [h₁]
    cases' n with n
    · simp only [Nat.fib]
      rw [h₂, Nat.fib]
      ring
    cases' n with n
    · simp only [Nat.fib]
      rw [h₂, Nat.fib]
      ring
    cases' n with n
    · simp only [Nat.fib]
      rw [h₂, Nat.fib]
      ring
    linarith

  -- We now calculate $F_{101} \bmod 4$.
  have h₄ : a 100 = Nat.fib 100 := by
    rw [h₃]
    ring
  rw [h₄]

  -- To compute $F_{100} \bmod 4$, we need to find the period with which the Fibonacci numbers appear modulo 4.
  -- To this end, we first compute the first 102 Fibonacci numbers modulo 4.
  have h₅ : Nat.fib_mod 102 4 = Nat.fib_mod 1 4 := by
    -- the sequence is periodic, and the period is 102.
    rfl

  -- Using the periodicity we deduce that $F_{100} \bmod 4 = F_2 \bmod 4 = 1$.
  have h₆ : Nat.fib_mod 100 4 = Nat.fib_mod 2 4 := by
    apply Nat.fib_mod periodic
    rfl

  have h₇ : Nat.fib_mod 2 4 = 1 := by
    norm_num [Nat.fib_mod]

  have h₈ : Nat.fib_mod 100 4 = 1 := by
    rw [h₆, h₇]

  -- Since $100 = 3 \cdot 33 + 1$, we have $F_{100} = F_1 \cdot F_{99} + F_2 \cdot F_{98}$
  have h₉ : Nat.fib 100 = Nat.fib 1 * Nat.fib 99 + Nat.fib 2 * Nat.fib 98 := by
    rw [h₄, Nat.fib]
    rw [h₄, Nat.fib]
    rw [h₂]
    linarith

  -- Since $99 = 3 \cdot 33$, we have $F_{99} = F_3 \cdot F_{96} + F_4 \cdot F_{95}$
  have h₁₀ : Nat.fib 99 = Nat.fib 3 * Nat.fib 96 + Nat.fib 4 * Nat.fib 95 := by
    rw [Nat.fib]
    rw [Nat.fib]
    rw [h₂]
    linarith

  -- Since $96 = 3 \cdot 32$, we have $F_{96} = F_3 \cdot F_{93} + F_4 \cdot F_{92}$
  have h₁₁ : Nat.fib 96 = Nat.fib 3 * Nat.fib 93 + Nat.fib 4 * Nat.fib 92 := by
    rw [Nat.fib]
    rw [Nat.fib]
    rw [h₂]
    linarith

  -- Continuing in the same way, we find that $F_{100} = F_1 + F_2 + F_3 + F_4 + F_5 + F_6 + F_7 + F_8 + F_9 + F_{10} + F_{11} + F_{12} + F_{13} + F_{14} + F_{15} + F_{16} + F_{17} + F_{18} + F_{19} + F_{20} + F_{21} + F_{22} + F_{23} + F_{24} + F_{25} + F_{26} + F_{27} + F_{28} + F_{29} + F_{30} + F_{31} + F_{32} + F_{33} + F_{34} + F_{35} + F_{36} + F_{37} + F_{38} + F_{39} + F_{40} + F_{41} + F_{42} + F_{43} + F_{44} + F_{45} + F_{46} + F_{47} + F_{48} + F_{49} + F_{50} + F_{51} + F_{52} + F_{53} + F_{54} + F_{55} + F_{56} + F_{57} + F_{58} + F_{59} + F_{60} + F_{61} + F_{62} + F_{63} + F_{64} + F_{65} + F_{66} + F_{67} + F_{68} + F_{69} + F_{70} + F_{71} + F_{72} + F_{73} + F_{74} + F_{75} + F_{76} + F_{77} + F_{78} + F_{79} + F_{80} + F_{81} + F_{82} + F_{83} + F_{84} + F_{85} + F_{86} + F_{87} + F_{88} + F_{89} + F_{90} + F_{91} + F_{92} + F_{93} + F_{94} + F_{95} + F_{96} + F_{97} + F_{98} + F_{99} + F_{100}$
  have h₁₂ : Nat.fib 100 = Nat.fib 1 + Nat.fib 2 + Nat.fib 3 + Nat.fib 4 + Nat.fib 5 + Nat.fib 6 + Nat.fib 7 + Nat.fib 8 + Nat.fib 9 + Nat.fib 10 + Nat.fib 11 + Nat.fib 12 + Nat.fib 13 + Nat.fib 14 + Nat.fib 15 + Nat.fib 16 + Nat.fib 17 + Nat.fib 18 + Nat.fib 19 + Nat.fib 20 + Nat.fib 21 + Nat.fib 22 + Nat.fib 23 + Nat.fib 24 + Nat.fib 25 + Nat.fib 26 + Nat.fib 27 + Nat.fib 28 + Nat.fib 29 + Nat.fib 30 + Nat.fib 31 + Nat.fib 32 + Nat.fib 33 + Nat.fib 34 + Nat.fib 35 + Nat.fib 36 + Nat.fib 37 + Nat.fib 38 + Nat.fib 39 + Nat.fib 40 + Nat.fib 41 + Nat.fib 42 + Nat.fib 43 + Nat.fib 44 + Nat.fib 45 + Nat.fib 46 + Nat.fib 47 + Nat.fib 48 + Nat.fib 49 + Nat.fib 50 + Nat.fib 51 + Nat.fib 52 + Nat.fib 53 + Nat.fib 54 + Nat.fib 55 + Nat.fib 56 + Nat.fib 57 + Nat.fib 58 + Nat.fib 59 + Nat.fib 60 + Nat.fib 61 + Nat.fib 62 + Nat.fib 63 + Nat.fib 64 + Nat.fib 65 + Nat.fib 66 + Nat.fib 67 + Nat.fib 68 + Nat.fib 69 + Nat.fib 70 + Nat.fib 71 + Nat.fib 72 + Nat.fib 73 + Nat.fib 74 + Nat.fib 75 + Nat.fib 76 + Nat.fib 77 + Nat.fib 78 + Nat.fib 79 + Nat.fib 80 + Nat.fib 81 + Nat.fib 82 + Nat.fib 83 + Nat.fib 84 + Nat.fib 85 + Nat.fib 86 + Nat.fib 87 + Nat.fib 88 + Nat.fib 89 + Nat.fib 90 + Nat.fib 91 + Nat.fib 92 + Nat.fib 93 + Nat.fib 94 + Nat.fib 95 + Nat.fib 96 + Nat.fib 97 + Nat.fib 98 + Nat.fib 99 + Nat.fib 100 := by
    rw [h₉, h₁₀, h₁₁]
    ring_nf

  -- We find that $F_1 \bmod 4 = 1$, $F_2 \bmod 4 = 1$, $F_3 \bmod 4 = 2$, $F_4 \bmod 4 = 3$, $F_5 \bmod 4 = 1$, $F_6 \bmod 4 = 0$, $F_7 \bmod 4 = 1$, $F_8 \bmod 4 = 1$, $F_9 \bmod 4 = 2$, $F_{10} \bmod 4 = 3$, $F_{11} \bmod 4 = 1$, $F_{12} \bmod 4 = 0$, $F_{13} \bmod 4 = 1$, $F_{14} \bmod 4 = 1$, $F_{15} \bmod 4 = 2$, $F_{16} \bmod 4 = 3$, $F_{17} \bmod 4 = 1$, $F_{18} \bmod 4 = 0$, $F_{19} \bmod 4 = 1$, $F_{20} \bmod 4 = 1$, $F_{21} \bmod 4 = 2$, $F_{22} \bmod 4 = 3$, $F_{23} \bmod 4 = 1$, $F_{24} \bmod 4 = 0$, $F_{25} \bmod 4 = 1$, $F_{26} \bmod 4 = 1$, $F_{27} \bmod 4 = 2$, $F_{28} \bmod 4 = 3$, $F_{29} \bmod 4 = 1$, $F_{30} \bmod 4 = 0$, $F_{31} \bmod 4 = 1$, $F_{32} \bmod 4 = 1$, $F_{33} \bmod 4 = 2$, $F_{34} \bmod 4 = 3$, $F_{35} \bmod 4 = 1$, $F_{36} \bmod 4 = 0$, $F_{37} \bmod 4 = 1$, $F_{38} \bmod 4 = 1$, $F_{39} \bmod 4 = 2$, $F_{40} \bmod 4 = 3$, $F_{41} \bmod 4 = 1$, $F_{42} \bmod 4 = 0$, $F_{43} \bmod 4 = 1$, $F_{44} \bmod 4 = 1$, $F_{45} \bmod 4 = 2$, $F_{46} \bmod 4 = 3$, $F_{47} \bmod 4 = 1$, $F_{48} \bmod 4 = 0$, $F_{49} \bmod 4 = 1$, $F_{50} \bmod 4 = 1$, $F_{51} \bmod 4 = 2$, $F_{52} \bmod 4 = 3$, $F_{53} \bmod 4 = 1$, $F_{54} \bmod 4 = 0$, $F_{55} \bmod 4 = 1$, $F_{56} \bmod 4 = 1$, $F_{57} \bmod 4 = 2$, $F_{58} \bmod 4 = 3$, $F_{59} \bmod 4 = 1$, $F_{60} \bmod 4 = 0$, $F_{61} \bmod 4 = 1$, $F_{62} \bmod 4 = 1$, $F_{63} \bmod 4 = 2$, $F_{64} \bmod 4 = 3$, $F_{65} \bmod 4 = 1$, $F_{66} \bmod 4 = 0$, $F_{67} \bmod 4 = 1$, $F_{68} \bmod 4 = 1$, $F_{69} \bmod 4 = 2$, $F_{70} \bmod 4 = 3$, $F_{71} \bmod 4 = 1$, $F_{72} \bmod 4 = 0$, $F_{73} \bmod 4 = 1$, $F_{74} \bmod 4 = 1$, $F_{75} \bmod 4 = 2$, $F_{76} \bmod 4 = 3$, $F_{77} \bmod 4 = 1$, $F_{78} \bmod 4 = 0$, $F_{79} \bmod 4 = 1$, $F_{80} \bmod 4 = 1$, $F_{81} \bmod 4 = 2$, $F_{82} \bmod 4 = 3$, $F_{83} \bmod 4 = 1$, $F_{84} \bmod 4 = 0$, $F_{85} \bmod 4 = 1$, $F_{86} \bmod 4 = 1$, $F_{87} \bmod 4 = 2$, $F_{88} \bmod 4 = 3$, $F_{89} \bmod 4 = 1$, $F_{90} \bmod 4 = 0$, $F_{91} \bmod 4 = 1$, $F_{92} \bmod 4 = 1$, $F_{93} \bmod 4 = 2$, $F_{94} \bmod 4 = 3$, $F_{95} \bmod 4 = 1$, $F_{96} \bmod 4 = 0$, $F_{97} \bmod 4 = 1$, $F_{98} \bmod 4 = 1$, $F_{99} \bmod 4 = 2$, $F_{100} \bmod 4 = 3$
  have h₁₃ : a 1 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₁₄ : a 2 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₁₅ : a 3 % 4 = 2 := by
    norm_num [Nat.fib_mod, h₃]
  have h₁₆ : a 4 % 4 = 3 := by
    norm_num [Nat.fib_mod, h₃]
  have h₁₇ : a 5 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₁₈ : a 6 % 4 = 0 := by
    norm_num [Nat.fib_mod, h₃]
  have h₁₉ : a 7 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₀ : a 8 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₁ : a 9 % 4 = 2 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₂ : a 10 % 4 = 3 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₃ : a 11 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₄ : a 12 % 4 = 0 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₅ : a 13 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]
  have h₂₆ : a 14 % 4 = 1 := by
    norm_num [Nat.fib_mod, h₃]