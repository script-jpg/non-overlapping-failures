-- We first observe the pattern of the Fibonacci sequence modulo 4.
  -- The first 8 terms are:
  -- a(1) ≡ 1 (mod 4)
  -- a(2) ≡ 1 (mod 4)
  -- a(3) ≡ 2 (mod 4)
  -- a(4) ≡ 3 (mod 4)
  -- a(5) ≡ 1 (mod 4)
  -- a(6) ≡ 0 (mod 4)
  -- a(7) ≡ 1 (mod 4)
  -- a(8) ≡ 1 (mod 4)
  --...
  -- We can see that every 12 terms, the sequence repeats itself.
  have h₃ : a 12 % 4 = a 1 % 4 := by
    simp [h₀, h₁, h₂]

  have h₄ : a 13 % 4 = a 2 % 4 := by
    simp [h₀, h₁, h₂]

  have h₅ : a 14 % 4 = a 3 % 4 := by
    simp [h₀, h₁, h₂]

  have h₆ : a 15 % 4 = a 4 % 4 := by
    simp [h₀, h₁, h₂]

  have h₇ : a 16 % 4 = a 5 % 4 := by
    simp [h₀, h₁, h₂]

  have h₈ : a 17 % 4 = a 6 % 4 := by
    simp [h₀, h₁, h₂]

  have h₉ : a 18 % 4 = a 7 % 4 := by
    simp [h₀, h₁, h₂]

  have h₁₀ : a 19 % 4 = a 8 % 4 := by
    simp [h₀, h₁, h₂]

  have h₁₁ : a 20 % 4 = a 9 % 4 := by
    simp [h₀, h₁, h₂]

  have h₁₂ : a 21 % 4 = a 10 % 4 := by
    simp [h₀, h₁, h₂]

  have h₁₃ : a 22 % 4 = a 11 % 4 := by
    simp [h₀, h₁, h₂]

  have h₁₄ : a 23 % 4 = a 12 % 4 := by
    simp [h₀, h₁, h₂]

  -- We can prove the pattern continues indefinitely by induction.
  have h₁₅ : ∀ n, a (12 * n + 1) % 4 = a 1 % 4 := by
    intro n
    induction n with
    | zero =>
      simp
    | succ n ih =>
      have h₁₆ : 12 * (n + 1) + 1 = 12 * n + 1 + 12 := by
        ring
      rw [h₁₆]
      have h₁₇ : a (12 * n + 1 + 12) % 4 = a (12 * n + 1 + 11) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₁₇]
      have h₁₈ : a (12 * n + 1 + 11) % 4 = a (12 * n + 1 + 10) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₁₈]
      have h₁₉ : a (12 * n + 1 + 10) % 4 = a (12 * n + 1 + 9) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₁₉]
      have h₂₀ : a (12 * n + 1 + 9) % 4 = a (12 * n + 1 + 8) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₀]
      have h₂₁ : a (12 * n + 1 + 8) % 4 = a (12 * n + 1 + 7) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₁]
      have h₂₂ : a (12 * n + 1 + 7) % 4 = a (12 * n + 1 + 6) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₂]
      have h₂₃ : a (12 * n + 1 + 6) % 4 = a (12 * n + 1 + 5) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₃]
      have h₂₄ : a (12 * n + 1 + 5) % 4 = a (12 * n + 1 + 4) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₄]
      have h₂₅ : a (12 * n + 1 + 4) % 4 = a (12 * n + 1 + 3) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₅]
      have h₂₆ : a (12 * n + 1 + 3) % 4 = a (12 * n + 1 + 2) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₆]
      have h₂₇ : a (12 * n + 1 + 2) % 4 = a (12 * n + 1 + 1) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₇]
      have h₂₈ : a (12 * n + 1 + 1) % 4 = a (12 * n + 1) % 4 := by
        simp [h₀, h₁, h₂]
      rw [h₂₈]
      exact ih

  have h₁₆ : a 1 % 4 = 1 := by
    simp [h₀]

  have h₁₇ : ∀ n, a (12 * n + 13) % 4 = a 2 % 4 := by
    intro n
    have h₁₈ : 12 * n + 13 = 12 * (n + 1) + 1 + 2 := by
      ring
    rw [h₁₈]
    have h₁₉ : a (12 * (n + 1) + 1 + 2) % 4 = a (12 * (n + 1) + 1 + 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₁₉]
    have h₂₀ : a (12 * (n + 1) + 1 + 1) % 4 = a (12 * (n + 1) + 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₀]
    have h₂₁ : a (12 * (n + 1) + 1) % 4 = a (12 * n + 1 + 12) % 4 := by
      ring_nf
    rw [h₂₁]
    have h₂₂ : a (12 * n + 1 + 12) % 4 = a (12 * n + 1 + 11) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₂]
    have h₂₃ : a (12 * n + 1 + 11) % 4 = a (12 * n + 1 + 10) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₃]
    have h₂₄ : a (12 * n + 1 + 10) % 4 = a (12 * n + 1 + 9) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₄]
    have h₂₅ : a (12 * n + 1 + 9) % 4 = a (12 * n + 1 + 8) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₅]
    have h₂₆ : a (12 * n + 1 + 8) % 4 = a (12 * n + 1 + 7) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₆]
    have h₂₇ : a (12 * n + 1 + 7) % 4 = a (12 * n + 1 + 6) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₇]
    have h₂₈ : a (12 * n + 1 + 6) % 4 = a (12 * n + 1 + 5) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₈]
    have h₂₉ : a (12 * n + 1 + 5) % 4 = a (12 * n + 1 + 4) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₉]
    have h₃₀ : a (12 * n + 1 + 4) % 4 = a (12 * n + 1 + 3) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₀]
    have h₃₁ : a (12 * n + 1 + 3) % 4 = a (12 * n + 1 + 2) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₁]
    have h₃₂ : a (12 * n + 1 + 2) % 4 = a (12 * n + 1 + 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₂]
    have h₃₃ : a (12 * n + 1 + 1) % 4 = a (12 * n + 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₃]
    have h₃₄ : a (12 * n + 1) % 4 = a (12 * (n - 1) + 13) % 4 := by
      ring_nf
    rw [h₃₄]
    obtain ⟨n', hn'⟩ := show ∃ n', n' = n - 1 by exact ⟨n - 1, rfl⟩
    rw [hn']
    exact h₁₅ n'

  have h₁₈ : a 2 % 4 = 1 := by
    simp [h₁]

  have h₁₉ : ∀ n, a (12 * n + 25) % 4 = a 3 % 4 := by
    intro n
    have h₂₀ : 12 * n + 25 = 12 * (n + 2) + 1 := by
      ring
    rw [h₂₀]
    have h₂₁ : a (12 * (n + 2) + 1) % 4 = a (12 * (n + 2)) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₁]
    have h₂₂ : a (12 * (n + 2)) % 4 = a (12 * (n + 2) - 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₂]
    have h₂₃ : a (12 * (n + 2) - 1) % 4 = a (12 * (n + 1) + 1) % 4 := by
      ring_nf
    rw [h₂₃]
    have h₂₄ : a (12 * (n + 1) + 1) % 4 = a (12 * (n + 1)) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₄]
    have h₂₅ : a (12 * (n + 1)) % 4 = a (12 * (n + 1) - 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₅]
    have h₂₆ : a (12 * (n + 1) - 1) % 4 = a (12 * n + 12) % 4 := by
      ring_nf
    rw [h₂₆]
    have h₂₇ : a (12 * n + 12) % 4 = a (12 * n + 11) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₇]
    have h₂₈ : a (12 * n + 11) % 4 = a (12 * n + 10) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₈]
    have h₂₉ : a (12 * n + 10) % 4 = a (12 * n + 9) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₉]
    have h₃₀ : a (12 * n + 9) % 4 = a (12 * n + 8) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₀]
    have h₃₁ : a (12 * n + 8) % 4 = a (12 * n + 7) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₁]
    have h₃₂ : a (12 * n + 7) % 4 = a (12 * n + 6) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₂]
    have h₃₃ : a (12 * n + 6) % 4 = a (12 * n + 5) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₃]
    have h₃₄ : a (12 * n + 5) % 4 = a (12 * n + 4) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₄]
    have h₃₅ : a (12 * n + 4) % 4 = a (12 * n + 3) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₅]
    have h₃₆ : a (12 * n + 3) % 4 = a (12 * n + 2) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₆]
    have h₃₇ : a (12 * n + 2) % 4 = a (12 * n + 1) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₇]
    have h₃₈ : a (12 * n + 1) % 4 = a (12 * n) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₃₈]
    have h₃₉ : a (12 * n) % 4 = a (12 * (n - 1) + 12) % 4 := by
      ring_nf
    rw [h₃₉]
    obtain ⟨n', hn'⟩ := show ∃ n', n' = n - 1 by exact ⟨n - 1, rfl⟩
    rw [hn']
    exact h₁₅ n'

  have h₁₉ : a 3 % 4 = 2 := by
    simp [h₀, h₁, h₂]

  have h₂₀ : ∀ n, a (12 * n + 37) % 4 = a 4 % 4 := by
    intro n
    have h₂₁ : 12 * n + 37 = 12 * (n + 3) + 1 := by
      ring
    rw [h₂₁]
    have h₂₂ : a (12 * (n + 3) + 1) % 4 = a (12 * (n + 3)) % 4 := by
      simp [h₀, h₁, h₂]
    rw [h₂₂]
    have h₂₃ : a (12 * (n + 3)) % 4 = a (12 * (n + 3) -