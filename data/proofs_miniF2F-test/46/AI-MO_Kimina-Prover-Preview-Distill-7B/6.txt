-- some auxilary inequalities
  have h₄ : 1 < a := by nlinarith
  have h₅ : 1 < a ^ 2 := by nlinarith
  have h₆ : a ^ 2 < 2 := by nlinarith
  have h₇ : 1 / a < 1 / 1 := by
    apply one_div_lt_one_div_of_lt (by norm_num) (by linarith)
  have h₈ : 0 < a ^ 2 - 1 := by nlinarith
  have h₉ : 0 < 1 / a - 1 / 2 := by
    linarith
  have h₁₀ : 1 / a - 1 / 2 < 1 / a := by
    linarith
  have h₁₁ : 1 / a - Int.floor (1 / a) < 1 / a := by
    calc
      1 / a - Int.floor (1 / a) < 1 / a - 1 / 2 := by linarith
      _ < 1 / a := by linarith
  have h₁₂ : 1 / a - 1 / 2 < 1 := by
    linarith
  have h₁₃ : 1 / a < 1 := by
    linarith
  have h₁₄ : a < 2 := by nlinarith
  have h₁₅ : a * a - 1 > 0 := by nlinarith
  have h₁₆ : a * a - 1 < 1 := by nlinarith
  have h₁₇ : a * a - 1 / 2 > 0 := by nlinarith
  have h₁₈ : a * a - 1 / 2 < 1 := by nlinarith
  have h₁₉ : a * a - 1 / 2 < a * a - 1 := by nlinarith
  have h₂₀ : a * a - 1 / 2 > a * a - 1 / 2 - 1 / 2 := by nlinarith
  have h₂₁ : a * a - 1 / 2 - 1 / 2 < a * a - 1 / 2 := by nlinarith
  have h₂₂ : a * a - 1 / 2 - 1 / 2 > 0 := by nlinarith
  have h₂₃ : a * a - 1 / 2 - 1 / 2 < 1 := by nlinarith
  have h₂₄ : a * a - 1 / 2 - 1 / 2 > a * a - 1 / 2 - 1 := by nlinarith
  have h₂₅ : a * a - 1 / 2 - 1 / 2 < a * a - 1 / 2 - 1 / 2 + 1 / 2 := by nlinarith
  have h₂₆ : a * a - 1 / 2 - 1 / 2 + 1 / 2 = a * a - 1 / 2 := by linarith
  have h₂₇ : a * a - 1 / 2 - 1 / 2 + 1 / 2 > a * a - 1 / 2 - 1 / 2 := by nlinarith
  have h₂₈ : a * a - 1 / 2 - 1 / 2 + 1 / 2 < a * a - 1 / 2 + 1 / 2 := by nlinarith
  have h₂₉ : a * a - 1 / 2 - 1 / 2 + 1 / 2 > 0 := by nlinarith
  have h₃₀ : a * a - 1 / 2 + 1 / 2 > 0 := by nlinarith
  have h₃₁ : a * a - 1 / 2 + 1 / 2 < a * a - 1 / 2 + 1 / 2 + 1 / 2 := by nlinarith
  have h₃₂ : a * a - 1 / 2 + 1 / 2 + 1 / 2 = a * a + 1 / 2 := by linarith
  have h₃₃ : a * a - 1 / 2 + 1 / 2 + 1 / 2 > a * a - 1 / 2 + 1 / 2 := by nlinarith
  have h₃₄ : a * a - 1 / 2 + 1 / 2 + 1 / 2 < a * a + 1 := by linarith
  have h₃₅ : a * a - 1 / 2 + 1 / 2 - 1 / 2 = a * a - 1 / 2 := by linarith
  have h₃₆ : a * a - 1 / 2 + 1 / 2 - 1 / 2 > a * a - 1 / 2 - 1 / 2 := by nlinarith
  have h₃₇ : a * a - 1 / 2 + 1 / 2 - 1 / 2 < a * a - 1 / 2 + 1 / 2 := by nlinarith
  have h₃₈ : a * a - 1 / 2 + 1 / 2 - 1 / 2 > 0 := by nlinarith
  have h₃₉ : a * a - 1 / 2 - 1 / 2 + 1 / 2 > 0 := by nlinarith
  have h₄₀ : a * a - 1 / 2 - 1 / 2 + 1 / 2 < a * a - 1 / 2 + 1 / 2 - 1 / 2 + 1 / 2 := by nlinarith
  have h₄₁ : a * a - 1 / 2 + 1 / 2 - 1 / 2 + 1 / 2 = a * a := by linarith
  have h₄₂ : a * a - 1 / 2 + 1 / 2 - 1 / 2 + 1 / 2 > a * a - 1 / 2 - 1 / 2 + 1 / 2 := by nlinarith
  have h₄₃ : a * a - 1 / 2 + 1 / 2 - 1 / 2 + 1 / 2 < a * a - 1 / 2 + 1 / 2 + 1 / 2 := by nlinarith
  have h₄₄ : a * a - 1 / 2 + 1 / 2 + 1 / 2 - 1 / 2 = a * a - 1 / 2 := by linarith
  have h₄₅ : a * a - 1 / 2 + 1 / 2 + 1 / 2 - 1 / 2 > a * a - 1 / 2 - 1 / 2 + 1 / 2 := by nlinarith
  have h₄₆ : a * a - 1 / 2 + 1 / 2 + 1 / 2 - 1 / 2 < a * a - 1 / 2 + 1 / 2 - 1 / 2 + 1 / 2 := by nlinarith
  have h₄₇ : a * a - 1 / 2 + 1 / 2 + 1 / 2 - 1 / 2 > 0 := by nlinarith
  have floor_nonneg (x : ℝ) : 0 ≤ Int.floor x := by
    apply Int.floor_nonneg.mpr
    linarith

  -- $\lfloor a^2 \rfloor = \lfloor a^2 - 1/2 \rfloor + 1$
  have h₄₈ : Int.floor (a ^ 2) = Int.floor (a ^ 2 - 1 / 2) + 1 := by
    have : a ^ 2 - 1 / 2 + 1 / 2 = a ^ 2 := by linarith
    rw [← this]
    apply Int.floor_add_one

  -- $\lfloor a^2 - 1/2 \rfloor = \lfloor a^2 - 1/2 - 1/2 \rfloor + 1$
  have h₄₉ : Int.floor (a ^ 2 - 1 / 2) = Int.floor (a ^ 2 - 1 / 2 - 1 / 2) + 1 := by
    have : a ^ 2 - 1 / 2 - 1 / 2 + 1 / 2 = a ^ 2 - 1 / 2 := by linarith
    rw [← this]
    apply Int.floor_add_one

  -- combining the above, we have $\lfloor a^2 \rfloor = \lfloor a^2 - 1/2 - 1/2 \rfloor + 2$
  have h₅₀ : Int.floor (a ^ 2) = Int.floor (a ^ 2 - 1 / 2 - 1 / 2) + 2 := by
    rw [h₄₈, h₄₉]

  -- $\lfloor a^2 - 1/2 - 1/2 \rfloor = \lfloor a^2 - 1/2 - 1/2 - 1/2 \rfloor + 1$
  have h₅₁ : Int.floor (a ^ 2 - 1 / 2 - 1 / 2) = Int.floor (a ^ 2 - 1 / 2 - 1 / 2 - 1 / 2) + 1 := by
    have : a ^ 2 - 1 / 2 - 1 / 2 - 1 / 2 + 1 / 2 = a ^ 2 - 1 / 2 - 1 / 2 := by linarith
    rw [← this]
    apply Int.floor_add_one

  -- $\lfloor a^2 - 1/2 - 1/2 - 1/2 \rfloor = $\lfloor a^2 - 1/2 + 1/2 - 1/2 - 1/2 \rfloor$
  have h₅₂ : Int.floor (a ^ 2 - 1 / 2 - 1 / 2 - 1 / 2) = Int.floor (a ^ 2 - 1 / 2 + 1 / 2 - 1 / 2 - 1 / 2) := by
    have : a ^ 2 - 1 / 2 - 1 / 2 - 1 / 2 + 1 / 2 = a ^ 2 - 1 / 2 - 1 / 2 := by linarith
    rw [← this]

  -- $\lfloor a^2 - 1/2 + 1/2 - 1/2 - 1/2 \rfloor = $\lfloor a^2 - 1/2 - 1/2 \rfloor$
  have h₅₃ : Int.floor (a ^ 2 - 1 / 2 + 1 / 2 - 1 / 2 - 1 / 2) = Int.floor (a ^ 2 - 1 / 2 - 1 / 2) := by
    have : a ^ 2 - 1 / 2 + 1 / 2 - 1 / 2 - 1 / 2 + 1 / 2 = a ^ 2 - 1 / 2 - 1 / 2 := by linarith
    rw [← this]

  -- So, $\lfloor a^2 \rfloor = \lfloor a^2 - 1/2 - 1/2 \rfloor + 2 = \lfloor a^2 - 1/2 - 1/2 - 1/2 \rfloor + 3$
  have h₅₄ : Int.floor (a ^ 2) = Int.floor (a ^ 2 - 1 / 2 - 1 / 2 - 1 / 2) + 3 := by
    rw [h₅₀, h₅₁, h₅₂, h₅₃]

  -- $a^2 - 1/2 - 1/2 - 1/2 = a^2 - 1$
  have h₅₅ : a ^ 2 - 1 / 2 - 1 / 2 - 1 / 2 = a ^ 2 - 1 := by linarith
  rw [h₅₅] at h₅₄

  -- So, $\lfloor a^2 \rfloor = \lfloor a^2 - 1 \rfloor + 3$
  have h₅₆ : Int.floor (a ^ 2) = Int.floor (a ^ 2 - 1) + 3 := by linarith

  -- $a^2 - 1 \in [0, 1)$
  have h₅₇ : a ^ 2 - 1 ≥ 0 := by nlinarith
  have h₅₈ : a ^ 2 - 1 < 1 := by nlinarith

  -- $\lfloor a^2 - 1 \rfloor = 0$
  have h₅₉ : Int.floor (a ^ 2 - 1) = 0 := by
    apply Int.floor_eq_zero_iff.mpr
    constructor <;> (try norm_num) <;> linarith

  -- So, $\lfloor a^2 \rfloor = 3$
  have h₆₀ : Int.floor (a ^ 2) = 3 := by
    rw [h₅₉] at h₅₆
    linarith

  -- $3 \le a^2 < 4$
  have h₆₁ : 3 ≤ a ^ 2 := by
    apply Int.floor_le_of_le
    linarith
  have h₆₂ : a ^ 2 < 4 := by
    linarith

  -- $3 \le a < 2$
  have h₆₃ : 3 ≤ a := by nlinarith
  have h₆₄ : a < 2 := by nlinarith

  -- $9 \le a^2 < 4$ from the above
  have h₆₅ : 9 ≤ a ^ 2 := by nlinarith
  linarith

```