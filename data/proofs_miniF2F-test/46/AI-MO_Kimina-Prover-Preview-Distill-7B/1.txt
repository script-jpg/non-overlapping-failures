-- some auxilary inequalities
  have h₄ : 1 < a ^ 2 := by nlinarith
  have h₅ : 1 < a := by nlinarith
  have h₆ : 0 < Int.floor (a ^ 2) := by
    have : 2 < Int.floor (a ^ 2) := by exact Int.lt_floor.mpr h₂
    omega
  have h₇ : 0 < Int.floor (1 / a) := by
    have : 1 < Int.floor (1 / a) := by exact Int.lt_floor.mpr h₄
    omega

  -- $a^2$ is irrational, since $2<a^2<3$. Hence $\lfloor a^2 \rfloor = 2$ and $\langle a^2 \rangle = a^2 - 2$
  have h₈ : Int.floor (a ^ 2) = 2 := by
    have h₈ : a ^ 2 < 3 := by exact h₃
    have h₉ : 2 < a ^ 2 := by exact h₂
    apply Int.floor_eq_iff.mpr
    constructor <;> (simp; nlinarith)

  have h₉ : a ^ 2 - 2 = 1 / a - Int.floor (1 / a) := by rw [← h₁, h₈]

  -- $a^{-1}$ is irrational, since $1<a^{-1} < \sqrt{3}/2$. Hence $\lfloor a^{-1} \rfloor = 0$ and $\langle a^{-1} \rangle = a^{-1}$
  have h₁₀ : Int.floor (1 / a) = 0 := by
    have h₁₀ : 1 < 1 / a := by
      apply one_lt_one_div (by linarith) h₅
    have h₁₁ : 1 / a < 1 / 2 := by
      apply one_lt_one_div (by linarith) (by nlinarith)
    apply Int.floor_eq_iff.mpr
    constructor <;> (simp; linarith)

  have h₁₁ : 1 / a = a ^ 2 - 2 := by
    rw [h₁₀] at h₉
    linarith

  -- from $1/a = a^2 - 2$, we deduce that $a^3-2a^2-1=0$
  have h₁₂ : a ^ 3 - 2 * a ^ 2 - 1 = 0 := by
    calc
      _ = a * (1 / a) - 2 * a ^ 2 - 1 := by field_simp
      _ = a * (a ^ 2 - 2) - 2 * a ^ 2 - 1 := by rw [h₁₁]
      _ = _ := by ring

  -- from $a^3-2a^2-1=0$ we deduce $a^3 = 2a^2+1$, and $a^4 = 2a^3+a^2 = 5a^2+2a$
  have h₁₃ : a ^ 3 = 2 * a ^ 2 + 1 := by linarith
  have h₁₄ : a ^ 4 = 5 * a ^ 2 + 2 * a := by
    calc
      _ = a * a ^ 3 := by ring
      _ = a * (2 * a ^ 2 + 1) := by rw [h₁₃]
      _ = 2 * a ^ 3 + a := by ring
      _ = 2 * (2 * a ^ 2 + 1) + a := by rw [h₁₃]
      _ = _ := by ring

  -- from $a^4 = 5a^2+2a$ we deduce $a^5 = 10a^2+5a$ and $a^6 = 17a^2+8a$
  have h₁₅ : a ^ 5 = 10 * a ^ 2 + 5 * a := by
    calc
      _ = a * a ^ 4 := by ring
      _ = a * (5 * a ^ 2 + 2 * a) := by rw [h₁₄]
      _ = 5 * a ^ 3 + 2 * a ^ 2 := by ring
      _ = 5 * (2 * a ^ 2 + 1) + 2 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  have h₁₆ : a ^ 6 = 17 * a ^ 2 + 8 * a := by
    calc
      _ = a * a ^ 5 := by ring
      _ = a * (10 * a ^ 2 + 5 * a) := by rw [h₁₅]
      _ = 10 * a ^ 3 + 5 * a ^ 2 := by ring
      _ = 10 * (2 * a ^ 2 + 1) + 5 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  -- from $a^6 = 17a^2+8a$ we deduce $a^7 = 34a^2+17a$ and $a^8 = 61a^2+34a$
  have h₁₇ : a ^ 7 = 34 * a ^ 2 + 17 * a := by
    calc
      _ = a * a ^ 6 := by ring
      _ = a * (17 * a ^ 2 + 8 * a) := by rw [h₁₆]
      _ = 17 * a ^ 3 + 8 * a ^ 2 := by ring
      _ = 17 * (2 * a ^ 2 + 1) + 8 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  have h₁₈ : a ^ 8 = 61 * a ^ 2 + 34 * a := by
    calc
      _ = a * a ^ 7 := by ring
      _ = a * (34 * a ^ 2 + 17 * a) := by rw [h₁₇]
      _ = 34 * a ^ 3 + 17 * a ^ 2 := by ring
      _ = 34 * (2 * a ^ 2 + 1) + 17 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  -- from $a^8 = 61a^2+34a$ we deduce $a^9 = 122a^2+61a$ and $a^{10} = 233a^2+122a$
  have h₁₉ : a ^ 9 = 122 * a ^ 2 + 61 * a := by
    calc
      _ = a * a ^ 8 := by ring
      _ = a * (61 * a ^ 2 + 34 * a) := by rw [h₁₈]
      _ = 61 * a ^ 3 + 34 * a ^ 2 := by ring
      _ = 61 * (2 * a ^ 2 + 1) + 34 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  have h₂₀ : a ^ 10 = 233 * a ^ 2 + 122 * a := by
    calc
      _ = a * a ^ 9 := by ring
      _ = a * (122 * a ^ 2 + 61 * a) := by rw [h₁₉]
      _ = 122 * a ^ 3 + 61 * a ^ 2 := by ring
      _ = 122 * (2 * a ^ 2 + 1) + 61 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  -- from $a^{10} = 233a^2+122a$ we deduce $a^{11} = 466a^2+233a$ and $a^{12} = 934a^2+466a$
  have h₂₁ : a ^ 11 = 466 * a ^ 2 + 233 * a := by
    calc
      _ = a * a ^ 10 := by ring
      _ = a * (233 * a ^ 2 + 122 * a) := by rw [h₂₀]
      _ = 233 * a ^ 3 + 122 * a ^ 2 := by ring
      _ = 233 * (2 * a ^ 2 + 1) + 122 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  have h₂₂ : a ^ 12 = 934 * a ^ 2 + 466 * a := by
    calc
      _ = a * a ^ 11 := by ring
      _ = a * (466 * a ^ 2 + 233 * a) := by rw [h₂₁]
      _ = 466 * a ^ 3 + 233 * a ^ 2 := by ring
      _ = 466 * (2 * a ^ 2 + 1) + 233 * a ^ 2 := by rw [h₁₃]
      _ = _ := by ring

  -- from $a^3 = 2a^2+1$ we know $a^2 = 2a^3-1$
  have h₂₃ : a ^ 2 = 2 * a ^ 3 - 1 := by
    calc
      _ = (2 * a ^ 2 + 1) - 1 := by ring
      _ = _ := by rw [h₁₃]; ring

  -- substitude $a^2 = 2a^3-1$ into $a^{12} = 934a^2+466a$, we can find out $a^{12}-466a = 934(2a^3-1)+466a = 1868a^3-934+466a = 1868(2a^3-1)+1868+466a = 3736a^3-1868+466a$
  have h₂₄ : a ^ 12 - 466 * a = 3736 * a ^ 3 + 466 * a - 1868 := by
    calc
      _ = 934 * a ^ 2 + 466 * a - 466 * a := by ring
      _ = 934 * (2 * a ^ 3 - 1) + 466 * a - 466 * a := by rw [h₂₃]
      _ = _ := by ring

  -- substitude $a^2 = 2a^3-1$ into $a^8 = 61a^2+34a$, we can find out $a^8-34a = 61(2a^3-1)+34a-34a = 122a^3-61+34a-34a = 122a^3-61$
  have h₂₅ : a ^ 8 - 34 * a = 122 * a ^ 3 - 61 := by
    calc
      _ = 61 * a ^ 2 + 34 * a - 34 * a := by ring
      _ = 61 * (2 * a ^ 3 - 1) + 34 * a - 34 * a := by rw [h₂₃]
      _ = _ := by ring

  -- substitude $a^2 = 2a^3-1$ into $a^4 = 5a^2+2a$, we can find out $a^4-2a = 5(2a^3-1)+2a-2a = 10a^3-5+2a-2a = 10a^3-5$
  have h₂₆ : a ^ 4 - 2 * a = 10 * a ^ 3 - 5 := by
    calc
      _ = 5 * a ^ 2 + 2 * a - 2 * a := by ring
      _ = 5 * (2 * a ^ 3 - 1) + 2 * a - 2 * a := by rw [h₂₃]
      _ = _ := by ring

  -- from $a^3 = 2a^2+1$ and $a^2 = 2a^3-1$, we can deduce $a^3 = 4a + 3$
  have h₂₇ : a ^ 3 = 4 * a + 3 := by
    calc
      _ = 2 * a ^ 2 + 1 := by rw [h₁₃]
      _ = 2 * (2 * a ^ 3 - 1) + 1 := by rw [h₂₃]
      _ = _ := by ring

  -- substitude $a^3 = 4a+3$ into $a^{12}-466a=3736a^3+466a-1868$, we can find out $a^{12} = 15213a+3736*4a+3736-1868 = 15213a+14944a+3736-1868 = 30157a+1868$
  have h₂₈ : a ^ 12 = 30157 * a + 1868 := by
    calc
      _ = 3736 * a ^ 3 + 466 * a - 1868 := by rw [← h₂₄]
      _ = 3736 * (4 * a + 3) + 466 * a - 1868 := by rw [h₂₇]
      _ = _ := by ring

  -- substitude $a^3 = 4a+3$ into $a^8-34a=122a^3-61$, we can find out $a^8 = 122*(4a+3)-61+34a = 488a+366-61+34a = 522a+305$
  have h₂₉ : a ^ 8 = 522 * a + 305 := by
    calc
      _ = 122 * a ^ 3 - 61 := by rw [← h₂₅]
      _ = 122 * (4 * a + 3) - 61 := by rw [h₂₇]
      _ = _ := by ring

  -- substitude $a^3 = 4a+3$ into $a^4-2a=10a^3-5$, we can find out $a^4 = 10*(4a+3)-5+2a = 40a+30-5+2a = 42a+25$
  have h₃₀ : a ^ 4 = 42 * a + 25 := by
    calc
      _ = 10 * a ^ 3 - 5 := by rw [← h₂₆]
      _ = 10 * (4 * a + 3) - 5 := by rw [h₂₇]
      _ = _ := by ring

  -- then $a^8 * a^4 = (522a+305)(42a+25) = 22224a^2+13050a+305*42a+305*25 = 22224a^2+13050a+12720a+7625 = 22224a^2+25770a+7625$
  have h₃₁ : a ^ 12 = 22224 * a ^ 2 + 25770 * a + 7625 := by
    calc
      _ = a ^ 8 * a ^ 4 := by ring
      _ = (522 * a + 305) * (42 * a + 25) := by rw [h₂₉, h₃₀]
      _ = _ := by ring

  -- from $a^2 = 2a^3-1$, we have $2a^2+1=525a+305$
  have h₃₂ : 2 * a ^ 2 + 1 = 525 * a + 305 := by
    calc
      _ = 2 * (2 * a ^ 3 - 1) + 1 := by rw [h₂₃]
      _ = _ := by ring

  -- substitude $2a^2+1=525a+305$ into $a^{12}=22224a^2+25770a+7625$, we can find out $a^{12} = 22224*(525a+305)-25770a+7625 = 22224*525a