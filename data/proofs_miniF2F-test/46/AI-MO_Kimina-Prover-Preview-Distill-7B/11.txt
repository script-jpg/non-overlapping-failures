-- We shall show that $a = \sqrt{2}$. But $\sqrt{2}$ is irrational. This is a contradiction.
  suffices a = Real.sqrt 2 by
    subst this
    simp
    norm_num

  -- We have $1 < a^2 < 3$.
  have h₄ : 1 < a ^ 2 := by
    apply lt_of_le_of_lt (Int.floor_le (a ^ 2))
    nlinarith

  rw [(by norm_num : (2 : ℝ) = (2 : ℤ)), Int.floor_intCast] at h₁
  rw [(by norm_num : (3 : ℝ) = (3 : ℤ)), Int.floor_intCast] at h₃

  -- We have $\lfloor a^2 \rfloor = 1$.
  have h₅ : Int.floor (a ^ 2) = 1 := by
    apply Int.floor_eq_iff.mpr
    constructor <;> (try norm_num) <;> linarith

  -- We have $\lfloor a^{-1} \rfloor = 0$.
  have h₆ : Int.floor (1 / a) = 0 := by
    apply Int.floor_eq_iff.mpr
    constructor <;> (try norm_num) <;> (try linarith)

  -- We have $a^{-1} = a^2$.
  have h₇ : 1 / a - 0 = a ^ 2 - 1 := by
    rw [h₅, h₆] at h₁
    exact h₁

  -- We have $a^3 = 1$.
  have h₈ : a ^ 3 = 1 := by
    field_simp at h₇
    nlinarith

  -- We have $a = 1$.
  have h₉ : a = 1 := by
    nlinarith

  -- This is a contradiction.
  linarith

```