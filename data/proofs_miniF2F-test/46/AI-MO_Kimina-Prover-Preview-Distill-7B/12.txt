-- some useful bounds on $a^2$
  have r_1 : 1 < a ^ 2 := by nlinarith
  have r_2 : a ^ 2 < 2 := by nlinarith
  have r_3 : 1 / a < 1 / 2 := by
    apply one_div_lt_one_div_of_lt
    · nlinarith
    · nlinarith
  have r_4 : 1 / a > 1 / 3 := by
    apply one_div_lt_one_div_of_lt
    · nlinarith
    · nlinarith

  -- We can bound the floor of $a^2$ and $1/a$ using the bounds on $a^2$
  have r_5 : Int.floor (a ^ 2) = 1 := by
    apply Int.floor_eq_iff.mpr
    constructor
    · exact r_1
    · exact r_2

  have r_6 : Int.floor (1 / a) = 0 := by
    apply Int.floor_eq_iff.mpr
    constructor
    · exact r_3
    · exact r_4

  -- Now we can rewrite the equation and get $a^3$
  have r_7 : 1 / a = a ^ 2 - 1 := by
    rw [r_5, r_6] at h₁
    linarith

  have r_8 : a ^ 3 = a + 1 := by
    field_simp at r_7
    nlinarith

  -- We can now compute $a^6$
  have r_9 : a ^ 6 = a ^ 2 + 2 * a + 1 := by
    nlinarith

  -- We can compute $a^12$
  have r_10 : a ^ 12 = a ^ 4 + 2 * a ^ 2 + 1 := by
    rw [show a ^ 12 = (a ^ 6) ^ 2 by ring]
    rw [r_9]
    ring

  -- We can compute $a^4$
  have r_11 : a ^ 4 = a ^ 2 + 2 * a + 1 := by
    nlinarith

  -- Find the value of $a ^ 12 - 144 * (1 / a)$
  calc
    _ = a ^ 4 + 2 * a ^ 2 + 1 - 144 * (1 / a) := by rw [r_10, r_9]
    _ = a ^ 2 + 2 * a + 1 + 2 * a ^ 2 + 1 - 144 * (1 / a) := by rw [r_11]; ring
    _ = a + 1 + 2 * a ^ 2 + 1 - 144 * (1 / a) := by rw [r_8]; ring
    _ = 2 * a ^ 2 + 1 - 143 * (1 / a) := by ring
    _ = 2 * (a ^ 2 - 1 / a * 1) + 1 := by ring
    _ = 2 * (a ^ 2 - 1 / a * (1 / a)⁻¹) + 1 := by
      congr
      rw [mul_comm, ← mul_assoc, one_div_mul_cancel]
      apply ne_of_gt
      apply one_div_pos_of_pos
      nlinarith
    _ = 2 * (a ^ 2 - 1 / a ^ 2) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a + 1) + 1 := by
      congr
      rw [r_8]
    _ = 2 * (a ^ 2 - 1 / a * 1) + 1 := by
      rw [mul_comm, ← mul_assoc, one_div_mul_cancel]
      apply ne_of_gt
      apply one_div_pos_of_pos
      nlinarith
    _ = 2 * (a ^ 2 - 1 / a * (1 / a)⁻¹) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a ^ 2 - 1 / a ^ 2) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a + 1) + 1 := by
      congr
      exact r_8
    _ = 2 * (a ^ 2 - 1 / a * 1) + 1 := by
      rw [mul_comm, ← mul_assoc, one_div_mul_cancel]
      apply ne_of_gt
      apply one_div_pos_of_pos
      nlinarith
    _ = 2 * (a ^ 2 - 1 / a * (1 / a)⁻¹) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a ^ 2 - 1 / a ^ 2) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * 1) + 1 := by rfl
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (1 / a)⁻¹) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a ^ 2 - 1 / a ^ 3) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹) + 1 := by
      congr
      rw [r_9]
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * 1) + 1 := by rfl
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (1 / a)⁻¹) + 1 := by
      congr
      exact r_6
    _ = 2 * (a ^ 2 - 1 / a ^ 3 * (a ^ 2 - 1 / a ^ 2)⁻¹) + 1 := by
      congr
      rw [← mul_assoc, ← mul_div_assoc, mul_one_div_cancel r_6, mul_zero, one_mul, div_self]
      have : ¬ a = 0 := by nlinarith
      exact (mul_div_mul_right (a ^ 2) (a ^ 2) this).symm
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a + 1)⁻¹) + 1 := by
      congr
      exact r_8
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 3)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * 1) + 1 := by rfl
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (1 / a)⁻¹) + 1 := by
      congr
      exact r_6
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (a ^ 2 - 1 / a ^ 3)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹) + 1 := by
      simp
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * 1) + 1 := by rfl
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (1 / a)⁻¹) + 1 := by
      congr
      exact r_6
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a + 1)⁻¹) + 1 := by
      congr
      exact r_8
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 3)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * 1) + 1 := by rfl
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (1 / a)⁻¹) + 1 := by
      congr
      exact r_6
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (a ^ 2 - 1 / a ^ 3)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * 1) + 1 := by
      simp
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (1 / a)⁻¹) + 1 := by
      congr
      exact r_6
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a + 1)⁻¹) + 1 := by
      congr
      exact r_8
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 3)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * 1) + 1 := by rfl
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (1 / a)⁻¹) + 1 := by
      congr
      exact r_6
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (a ^ 2 - 1 / a ^ 3)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹ * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹)⁻¹) + 1 := by
      congr
      exact r_9
    _ = 2 * (a ^ 2 - 1 / a ^ 2 * (a ^ 2 - 1 / a ^ 2)⁻¹ * 1) + 1 := by
      simp
    _