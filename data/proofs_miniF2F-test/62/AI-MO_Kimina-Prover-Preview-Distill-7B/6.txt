-- Calculate $29^{13} \equiv 1^{13} \equiv 1 \pmod{7}$.
  have h1 : 29 ^ 13 % 7 = 1 := by
    rw [show 29 = 7 * 4 + 1 by norm_num]
    apply Nat.mod_eq_of_modEq
    rw [Nat.modEq_iff_dvd]
    apply Nat.dvd_sub_of_dvd_of_dvd
    · rw [pow_succ]
      apply Nat.dvd_mul_right
    · apply dvd_refl
    · norm_num

  -- Calculate $5^{13} \equiv 5 \pmod{7}$.
  have h2 : 5 ^ 13 % 7 = 5 := by
    -- Obtain $5^2 \equiv 4 \pmod{7}$.
    have h2_1 : 5 ^ 2 % 7 = 4 := by norm_num
    -- Obtain $5^3 \equiv 6 \pmod{7}$.
    have h2_2 : 5 ^ 3 % 7 = 6 := by
      rw [show 5 ^ 3 = 5 ^ 2 * 5 by ring]
      apply Nat.mod_eq_of_modEq
      rw [Nat.modEq_iff_dvd]
      apply Nat.dvd_sub_of_dvd_of_dvd
      · rw [h2_1, pow_succ]
        apply Nat.dvd_mul_right
      · apply dvd_refl
      · norm_num
    -- Obtain $5^4 \equiv 2 \pmod{7}$.
    have h2_3 : 5 ^ 4 % 7 = 2 := by
      rw [show 5 ^ 4 = 5 ^ 3 * 5 by ring]
      apply Nat.mod_eq_of_modEq
      rw [Nat.modEq_iff_dvd]
      apply Nat.dvd_sub_of_dvd_of_dvd
      · rw [h2_2, pow_succ]
        apply Nat.dvd_mul_right
      · apply dvd_refl
      · norm_num
    -- Obtain $5^6 \equiv 1 \pmod{7}$.
    have h2_4 : 5 ^ 6 % 7 = 1 := by
      rw [show 5 ^ 6 = 5 ^ 4 * 5 ^ 2 by ring]
      apply Nat.mod_eq_of_modEq
      rw [Nat.modEq_iff_dvd]
      apply Nat.dvd_sub_of_dvd_of_dvd
      · rw [h2_3, h2_1, pow_succ]
        apply Nat.dvd_mul_right
      · apply dvd_refl
      · norm_num
    -- Calculate $5^{13} = 5^{6*2+1} = 5^{6*2} * 5^1 \equiv 1^2 * 5 \equiv 5 \pmod{7}$.
    rw [show 13 = 6*2 + 1 by norm_num, pow_add, pow_mul]
    apply Nat.mod_eq_of_modEq
    rw [Nat.modEq_iff_dvd]
    apply Nat.dvd_sub_of_dvd_of_dvd
    · rw [h2_4, one_pow]
      apply Nat.dvd_mul_right
    · apply dvd_refl
    · norm_num

  -- Calculate $(29^{13} - 5^{13}) \bmod 7$.
  calc (29 ^ 13 - 5 ^ 13) % 7 = (29 ^ 13 % 7 - 5 ^ 13 % 7) % 7 := by rw [Nat.sub_mod]
                      _ = (1 - 5) % 7 := by rw [h1, h2]
                      _ = 3 := by rw [Nat.sub_mod, Nat.mod_eq_of_modEq]; norm_num; rw [Nat.modEq_iff_dvd]; norm_num

```