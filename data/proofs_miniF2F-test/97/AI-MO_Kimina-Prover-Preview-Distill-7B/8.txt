-- Note that this is equivalent to saying that $n = 3^{17} + 3^{10} = 2727729$.
  have hn : n = 2727729 := by simp [h₀]

  -- We will show that $A = 1$, $B = 2$, $C = 9$.
  have hA : A = 1 := by
    suffices 1 = 1 by
      rw [this]
      calc
        1 = 1 * (100 * A + 10 * B + C) := by ring
        _ = 100 * 1 + 10 * 2 + 9 := by norm_num
        _ = 100 * A + 10 * B + C := by rw [hA, hB, hC]
    apply Nat.eq_of_le_of_lt_succ
    have : A ≤ 9 := by
      have : A ∈ Finset.Icc 0 9 := by
        have : {A, B, C} ⊆ Finset.Icc 0 9 := by
          intro x hx
          simp at hx
          rcases hx with (rfl | rfl | rfl)
          all_goals simp [hn, hn]
        simp [Finset.subset_def] at this
        exact this.left
      simp at this
      omega
    have : A > 0 := by
      have : A ∈ Finset.Icc 0 9 := by
        have : {A, B, C} ⊆ Finset.Icc 0 9 := by
          intro x hx
          simp at hx
          rcases hx with (rfl | rfl | rfl)
          all_goals simp [hn, hn]
        simp [Finset.subset_def] at this
        exact this.left
      simp at this
      omega
    omega

  have hB : B = 2 := by
    suffices 2 = 2 by
      rw [this]
      calc
        2 = 2 * (100 * A + 10 * B + C) := by ring
        _ = 100 * 1 + 10 * 2 + 9 := by norm_num
        _ = 100 * A + 10 * B + C := by rw [hA, hB, hC]
    apply Nat.eq_of_le_of_lt_succ
    have : B ≤ 9 := by
      have : B ∈ Finset.Icc 0 9 := by
        have : {A, B, C} ⊆ Finset.Icc 0 9 := by
          intro x hx
          simp at hx
          rcases hx with (rfl | rfl | rfl)
          all_goals simp [hn, hn]
        simp [Finset.subset_def] at this
        exact this.right.left
      simp at this
      omega
    have : B > 0 := by
      have : B ∈ Finset.Icc 0 9 := by
        have : {A, B, C} ⊆ Finset.Icc 0 9 := by
          intro x hx
          simp at hx
          rcases hx with (rfl | rfl | rfl)
          all_goals simp [hn, hn]
        simp [Finset.subset_def] at this
        exact this.right.left
      simp at this
      omega
    omega

  have hC : C = 9 := by
    suffices 9 = 9 by
      rw [this]
      calc
        9 = 9 * (100 * A + 10 * B + C) := by ring
        _ = 100 * 1 + 10 * 2 + 9 := by norm_num
        _ = 100 * A + 10 * B + C := by rw [hA, hB, hC]
    apply Nat.eq_of_le_of_lt_succ
    have : C ≤ 9 := by
      have : C ∈ Finset.Icc 0 9 := by
        have : {A, B, C} ⊆ Finset.Icc 0 9 := by
          intro x hx
          simp at hx
          rcases hx with (rfl | rfl | rfl)
          all_goals simp [hn, hn]
        simp [Finset.subset_def] at this
        exact this.right.right
      simp at this
      omega
    have : C > 0 := by
      have : C ∈ Finset.Icc 0 9 := by
        have : {A, B, C} ⊆ Finset.Icc 0 9 := by
          intro x hx
          simp at hx
          rcases hx with (rfl | rfl | rfl)
          all_goals simp [hn, hn]
        simp [Finset.subset_def] at this
        exact this.right.right
      simp at this
      omega
    omega

  -- So $100A + 10B + C = 129$.
  rw [hA, hB, hC]
```