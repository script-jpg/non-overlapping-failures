-- Let $n = 3^{17} + 3^{10}$. It is known that $11$ divides into $n+1$. If $n$ can be written in base $10$ as $ABCACCBAB$, where $A,B,C$ are distinct digits such that $A$ and $C$ are odd and $B$ is not divisible by $3$, find $100A + 10B + C$. Show that it is 129.
  -- We substitute $n = 3^{17} + 3^{10}$.
  subst h₀
  have hn : Nat.digits 10 (3 ^ 17 + 3 ^ 10) = [3, 0, 3, 4, 4, 3, 3, 0, 3] := by native_decide
  -- Show that $n$ is equal to $330344303$.
  have h₇ : n = 330344303 := by
    rw [hn] at h₆
    norm_num at h₆
    exact h₆
  -- Show that $A = 3$.
  have hA : A = 3 := by
    -- We know that $A$, $B$ and $C$ are distinct.
    have hA' : A ≠ B := by
      exact h₂.ne h₀.symm
    have hB' : B ≠ C := by
      exact h₂.ne h₁.symm
    have hC' : C ≠ A := by
      exact h₂.ne h₀
    -- We know that $A$, $B$ and $C$ are digits.
    have hA'' : A ∈ Finset.Icc 0 9 := by
      exact h₃.left h₆
    have hB'' : B ∈ Finset.Icc 0 9 := by
      exact h₃.right.left h₆
    have hC'' : C ∈ Finset.Icc 0 9 := by
      exact h₃.right.right h₆
    simp at hA'' hB'' hC''
    -- We know that $A$ and $C$ are odd.
    have hA''' : Odd A := by
      exact h₄.left
    have hC''' : Odd C := by
      exact h₄.right
    -- We know that $B$ is not divisible by $3$.
    have hB''' : ¬3 ∣ B := by
      exact h₅
    -- $A$ is the first digit of $n$ in base $10$, hence $A$ is $3$.
  subst hA
  -- $B$ is the second digit of $n$ in base $10$, hence $B$ is $3$.
  have hB : B = 3 := by
    rw [h₇] at h₆
    norm_num at h₆
    tauto
  -- $C$ is the third digit of $n$ in base $10$, hence $C$ is $0$.
  have hC : C = 0 := by
    rw [h₇] at h₆
    norm_num at h₆
    tauto
  -- We check that $A=3$, $B=3$ and $C=0$ satisfies all the conditions.
  subst hB hC
  norm_num at h₇
  subst h₇
  norm_num

```