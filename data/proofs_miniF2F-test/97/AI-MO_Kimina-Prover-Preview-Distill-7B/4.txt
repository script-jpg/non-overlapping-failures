-- Let $n = 3^{17} + 3^{10}$. It is known that $11$ divides into $n+1$. If $n$ can be written in base $10$ as $ABCACCBAB$, where $A,B,C$ are distinct digits such that $A$ and $C$ are odd and $B$ is not divisible by $3$, find $100A + 10B + C$. Show that it is 129.
  -- We substitute $n = 3^{17} + 3^{10}$.
  subst h₀
  simp only [Nat.reducePow] at h₁ h₆
  ring_nf at h₆
  specialize h₆ (by omega)
  -- We can find $n \bmod 1000$.
  have h : 3 ^ 17 ≡ 3 ^ 10 [MOD 1000] := by replace h₁ : 3 ^ 17 ≡ 3 ^ 10 + 1 [MOD 1000] := by simp [h₁]
  replace h : 3 ^ 17 ≡ 469 [MOD 1000] := by replace h : 3 ^ 17 % 1000 = 469 := by rw [Nat.modEq_iff_dvd] at h; omega
  replace h : 3 ^ 17 ≡ 469 [MOD 1000] := by assumption
  have h₇ : 3 ^ 10 = 59049 := by simp
  -- We can find $n \bmod 1000$.
  have h₈ : 3 ^ 17 + 3 ^ 10 ≡ 469 + 59049 [MOD 1000] := by exact Nat.ModEq.add h h₇
  simp only [Nat.reduceAdd] at h₈
  have h₈ : 3 ^ 17 + 3 ^ 10 ≡ 95 [MOD 1000] := by exact h₈
  have h₉ : n ≡ 95 [MOD 1000] := by simp [h₈]
  -- So $A = 9$.
  have hA : A = 9 := by
    simp only [Nat.reduceMod] at h₆ h₉
    rw [h₆] at h₉
    omega
  -- So $B = 5$.
  have hB : B = 5 := by
    simp only [Nat.reduceMod] at h₆ h₉
    rw [h₆] at h₉
    omega
  -- So $C = 9$.
  have hC : C = 9 := by
    simp only [Nat.reduceMod] at h₆ h₉
    rw [h₆] at h₉
    omega
  -- But $A = C$ is impossible.
  simp [hA, hC] at h₂

```