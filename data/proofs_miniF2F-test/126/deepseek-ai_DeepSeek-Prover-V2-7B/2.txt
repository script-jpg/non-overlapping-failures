rcases h₀ with ⟨ha, hb, hc, hd⟩
  have h₅ : a * c + b * d = (b + d + a - c) * (b + d + c - a) := h₄
  have h₆ : b + d + a - c ≤ a + b + c + d := by omega
  have h₇ : b + d + c - a ≤ a + b + c + d := by omega
  have h₈ : a * b + c * d = a * b + c * d := rfl
  have h₉ : a * b + c * d ≥ 4 := by
    nlinarith [mul_pos ha hb, mul_pos hc hd, mul_pos ha hc, mul_pos hb hd]
  have h₁₀ : a * b + c * d ≥ 4 := by omega
  have h₁₁ : ¬Nat.Prime (a * b + c * d) := by
    intro h
    have h₁₂ := h.eq_one_or_self_of_dvd 2
    have h₁₃ : a * b + c * d ≠ 2 := by
      intro h₁₄
      have h₁₅ : a * b + c * d = 2 := h₁₄
      nlinarith [mul_pos ha hb, mul_pos hc hd, mul_pos ha hc, mul_pos hb hd]
    have h₁₄ : a * b + c * d ≠ 1 := by
      intro h₁₅
      have h₁₆ : a * b + c * d = 1 := h₁₅
      nlinarith [mul_pos ha hb, mul_pos hc hd, mul_pos ha hc, mul_pos hb hd]
    omega
  exact h₁₁

theorem imo_2001_p6_cardano_principe (a b c d : ℕ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d) (h₁ : d < c) (h₂ : c < b)
    (h₃ : b < a) (h₄ : a * c + b * d = (b + d + a - c) * (b + d + c - a)) :
    ¬Nat.Prime (a * b + c * d) := by
  rcases h₀ with ⟨ha, hb, hc, hd⟩
  have h₅ : a * c + b * d = (b + d + a - c) * (b + d + c - a) := h₄
  have h₆ : b + d + a - c ≤ a + b + c + d := by omega
  have h₇ : b + d + c - a ≤ a + b + c + d := by omega
  have h₈ : a * b + c * d = a * b + c * d := rfl
  have h₉ : a * b + c * d ≥ 4 := by
    nlinarith [mul_pos ha hb, mul_pos hc hd, mul_pos ha hc, mul_pos hb hd]
  have h₁₀ : a * b + c * d ≥ 4 := by omega
  have h₁₁ : ¬Nat.Prime (a * b + c * d) := by
    intro h
    have h₁₂ := h.eq_one_or_self_of_dvd 2
    have h₁₃ : a * b + c * d ≠ 2 := by
      intro h₁₄
      have h₁₅ : a * b + c * d = 2 := h₁₄
      nlinarith [mul_pos ha hb, mul_pos hc hd, mul_pos ha hc, mul_pos hb hd]
    have h₁₄ : a * b + c * d ≠ 1 := by
      intro h₁₅
      have h₁₆ : a * b + c * d = 1 := h₁₅
      nlinarith [mul_pos ha hb, mul_pos hc hd, mul_pos ha hc,