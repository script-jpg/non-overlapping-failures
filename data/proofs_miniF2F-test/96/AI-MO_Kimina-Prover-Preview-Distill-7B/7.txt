-- We can use the AM-GM inequality to solve this problem.

  -- From AM-GM, we have
  -- $A + M + C = 12$
  -- $\leq 3 \cdot \sqrt[3]{A \cdot M \cdot C}$
  -- which implies $\sqrt[3]{A \cdot M \cdot C} \leq 4$ and $A \cdot M \cdot C \leq 64$.

  -- We can also use the AM-GM inequality to bound $A \cdot M + M \cdot C + A \cdot C$.

  -- $A \cdot M + M \cdot C + A \cdot C$
  -- $= M \cdot (A + C) + A \cdot C$
  -- $\leq M \cdot (A + C) + (A + C)^2/4$
  -- $= 12M + 36 - M^2$
  -- which is maximized when $M = 6$, giving $6^2 + 36 = 72$.

  -- $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C \leq 64 + 72 = 136$.

  -- These bounds are not sharp enough to solve the problem.  We need to try other approaches.

  -- We notice that if we fix $A + M + C = 12$, then $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C$ is maximized when $A = M = C = 4$.

  -- This gives $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C = 64 + 16 + 16 + 16 = 112$.

  -- To see why this is true, note that if $A, M, C > 0$ are integers such that $A + M + C = 12$ and $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C$ is maximized, then we must have $A, M, C \geq 3$. Otherwise, if $A < 3$, then $M + C > 9$ and $M \cdot C > 20$, so $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C > 3 \cdot 20 + 3 \cdot 9 > 112$. Now we consider triples $(A, M, C)$ such that $A, M, C \geq 3$ and $A + M + C = 12$. If $A > 6$, then $M < 6$ and $C < 6$, so $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C < 6 \cdot 6 \cdot 6 + 6 \cdot 6 + 6 \cdot 6 + 6 \cdot 6 = 336$. However, if $A, M, C \geq 3$ and $A + M + C = 12$, then $A, M, C \leq 9$, so $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C \leq 9 \cdot 9 \cdot 9 + 9 \cdot 9 + 9 \cdot 9 + 9 \cdot 9 = 112$.

  -- It is easy to check that the maximum value of $112$ is achieved when $A = M = C = 4$.


  have h₁ : a ≤ 12 := by omega
  have h₂ : m ≤ 12 := by omega
  have h₃ : c ≤ 12 := by omega

  -- We consider three cases.

  -- Case 1: One of $A, M, C$ is 0.
  by_cases h : a = 0 ∨ m = 0 ∨ c = 0
  · -- We can use the same technique to bound $A \cdot M + M \cdot C + A \cdot C$ and $A \cdot M \cdot C$ in this case.
    rcases h with h | h | h <;> simp [h] <;> omega

  -- Case 2: One of $A, M, C$ is 1.
  by_cases h : a = 1 ∨ m = 1 ∨ c = 1
  · -- We can use the same technique to bound $A \cdot M + M \cdot C + A \cdot C$ and $A \cdot M \cdot C$ in this case.
    rcases h with h | h | h <;> simp [h] <;> omega

  -- Case 3: One of $A, M, C$ is 2.
  by_cases h : a = 2 ∨ m = 2 ∨ c = 2
  · -- We can use the same technique to bound $A \cdot M + M \cdot C + A \cdot C$ and $A \cdot M \cdot C$ in this case.
    rcases h with h | h | h <;> simp [h] <;> omega

  -- Now we consider the case where $A, M, C \geq 3$.

  -- From AM-GM, we have
  -- $A + M + C = 12$ and $A \cdot M \cdot C \leq 64$.

  -- We can use the AM-GM inequality to bound $A \cdot M + M \cdot C + A \cdot C$.

  -- $A \cdot M + M \cdot C + A \cdot C = M \cdot (A + C) + A \cdot C \leq M \cdot (A + C) + (A + C)^2/4 = 12M + 36 - M^2$ which is maximized when $M = 6$, giving $6^2 + 36 = 72$.

  -- $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C \leq 64 + 72 = 136$.

  -- Now we continue to the last case where $A, M, C \geq 3$.

  -- Now we have $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C = M \cdot (A + C) + A \cdot C$.

  -- If $M > 6$, then $A + C < 6$ and $A \cdot C < 9$, so $M \cdot (A + C) + A \cdot C < 6 \cdot 6 + 9 = 45$.

  -- Thus, we only need to consider the case $M \leq 5$.  We can use the same technique to bound $A \cdot M \cdot C + A \cdot M + M \cdot C + A \cdot C$ when $M = 3, 4, 5$.

  -- $M = 3$: $A + C = 9$ and $A \cdot C \leq 20$ so $M \cdot (A + C) + A \cdot C \leq 36 + 20 = 56$.

  -- $M = 4$: $A + C = 8$ and $A \cdot C \leq 16$ so $M \cdot (A + C) + A \cdot C \leq 32 + 16 = 48$.

  -- $M = 5$: $A + C = 7$ and $A \cdot C \leq 12$ so $M \cdot (A + C) + A \cdot C \leq 35 + 12 = 47$.

  -- Now we consider the case $M = 3, 4, 5$.

  rcases h with h | h | h <;> simp [h] <;> omega

  -- Now we consider the case $M = 6$.

  -- $A + C = 6$ and $A \cdot C \leq 9$ so $M \cdot (A + C) + A \cdot C \leq 36 + 9 = 45$.

  -- Now we consider the case $M = 6$.

  omega
```