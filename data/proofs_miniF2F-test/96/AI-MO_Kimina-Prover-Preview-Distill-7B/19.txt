-- We shall prove that if $a + m + c = 12$ where $a, m, c$ are nonnegtive integers,
  -- then $a \cdot m \cdot c + a \cdot m + m \cdot c + a \cdot c \leq 112$.

  -- Without loss of generality, assume that $a \leq m \leq c$.
  wlog h1 : a ≤ m ∧ m ≤ c
  · -- If otherwise $m > a$ or $c > m$, then we can swap $m$ and $a$ to get $m \leq a$
    -- and then swap $a$ and $c$ to get $a \leq c$. So this case is reduced to the
    -- case when $a \leq m \leq c$.
    set x := a with hx
    set y := c with hy
    set z := m with hz
    have hxyz : x + y + z = a + c + m := by rwa [hx, hy, hz]
    have hxy : x * y * z + x * y + y * z + x * z = a * c * m + a * c + c * m + a * m := by
      rw [hx, hy, hz]; ring
    set h := this (a + c + m) (by omega) (by omega) (by omega) (hxyz)
    have := hxy.trans h
    omega

  -- Now we have $a \leq m \leq c$.
  -- We have $a + m + c = 12$, so $a + m + c \geq 3a$.
  -- Hence $12 \geq 3a$, so $a \leq 4$.
  have ha : a ≤ 4 := by omega

  -- We consider different cases for $a$.
  interval_cases ha
  · -- Let $a = 0$. Then $m + c = 12$. We have $m \leq c$, so $m \leq 6$.
    interval_cases m
    · -- Let $m = 0$. Then $c = 12$.
      simp
      intro h
      omega
    · -- Let $m = 1$. Then $c = 11$.
      simp
      intro h
      omega
    · -- Let $m = 2$. Then $c = 10$.
      simp
      intro h
      omega
    · -- Let $m = 3$. Then $c = 9$.
      simp
      intro h
      omega
    · -- Let $m = 4$. Then $c = 8$.
      simp
      intro h
      omega
    · -- Let $m = 5$. Then $c = 7$.
      simp
      intro h
      omega
    · -- Let $m = 6$. Then $c = 6$.
      simp
      intro h
      omega
  · -- Let $a = 1$. Then $1 + m + c = 12$, so $m + c = 11$.
    have hm : m ≤ 5 := by omega
    -- We have $1 \cdot m \cdot c + 1 \cdot m + m \cdot c + 1 \cdot c = m \cdot c + m + c + c$
    -- Since $m + c = 11$, this is $m \cdot c + 11 + c = m \cdot c + 11 + 11 - m = m \cdot c - m + 22$
    -- This is maximized when $m = 5$, so $m = 5$ and $c = 6$, and the maximum value is $5 \cdot 6 - 5 + 22 = 30 - 5 + 22 = 47$.
    interval_cases m
    · -- Let $m = 0$. Then $c = 11$.
      simp
      intro h
      omega
    · -- Let $m = 1$. Then $c = 10$.
      simp
      intro h
      omega
    · -- Let $m = 2$. Then $c = 9$.
      simp
      intro h
      omega
    · -- Let $m = 3$. Then $c = 8$.
      simp
      intro h
      omega
    · -- Let $m = 4$. Then $c = 7$.
      simp
      intro h
      omega
    · -- Let $m = 5$. Then $c = 6$.
      simp
      intro h
      omega
  · -- Let $a = 2$. Then $2 + m + c = 12$, so $m + c = 10$.
    have hm : m ≤ 4 := by omega
    -- We have $2 \cdot m \cdot c + 2 \cdot m + m \cdot c + 2 \cdot c = 2 \cdot m \cdot c + 3 \cdot m + 2 \cdot c = 2 \cdot m \cdot c + 3 \cdot m + 2 \cdot (10 - m) = 2 \cdot m \cdot c + 3 \cdot m + 20 - 2 \cdot m = 2 \cdot m \cdot c + m + 20$
    -- This is maximized when $m = 4$, so $m = 4$ and $c = 6$, and the maximum value is $2 \cdot 4 \cdot 6 + 4 + 20 = 48 + 4 + 20 = 72$.
    interval_cases m
    · -- Let $m = 0$. Then $c = 10$.
      simp
      intro h
      omega
    · -- Let $m = 1$. Then $c = 9$.
      simp
      intro h
      omega
    · -- Let $m = 2$. Then $c = 8$.
      simp
      intro h
      omega
    · -- Let $m = 3$. Then $c = 7$.
      simp
      intro h
      omega
    · -- Let $m = 4$. Then $c = 6$.
      simp
      intro h
      omega
  · -- Let $a = 3$. Then $3 + m + c = 12$, so $m + c = 9$.
    have hm : m ≤ 3 := by omega
    -- We have $3 \cdot m \cdot c + 3 \cdot m + m \cdot c + 3 \cdot c = 3 \cdot m \cdot c + 4 \cdot m + 3 \cdot c = 3 \cdot m \cdot c + 4 \cdot m + 3 \cdot (9 - m) = 3 \cdot m \cdot c + 4 \cdot m + 27 - 3 \cdot m = 3 \cdot m \cdot c + m + 27$
    -- This is maximized when $m = 3$, so $m = 3$ and $c = 6$, and the maximum value is $3 \cdot 3 \cdot 6 + 3 + 27 = 54 + 3 + 27 = 84$.
    interval_cases m
    · -- Let $m = 0$. Then $c = 9$.
      simp
      intro h
      omega
    · -- Let $m = 1$. Then $c = 8$.
      simp
      intro h
      omega
    · -- Let $m = 2$. Then $c = 7$.
      simp
      intro h
      omega
    · -- Let $m = 3$. Then $c = 6$.
      simp
      intro h
      omega
  · -- Let $a = 4$. Then $4 + m + c = 12$, so $m + c = 8$.
    have hm : m ≤ 4 := by omega
    -- We have $4 \cdot m \cdot c + 4 \cdot m + m \cdot c + 4 \cdot c = 4 \cdot m \cdot c + 5 \cdot m + 4 \cdot c = 4 \cdot m \cdot c + 5 \cdot m + 4 \cdot (8 - m) = 4 \cdot m \cdot c + 5 \cdot m + 32 - 4 \cdot m = 4 \cdot m \cdot c + m + 32$
    -- This is maximized when $m = 4$, so $m = 4$ and $c = 4$, and the maximum value is $4 \cdot 4 \cdot 4 + 4 + 32 = 64 + 4 + 32 = 100$.
    interval_cases m
    · -- Let $m = 0$. Then $c = 8$.
      simp
      intro h
      omega
    · -- Let $m = 1$. Then $c = 7$.
      simp
      intro h
      omega
    · -- Let $m = 2$. Then $c = 6$.
      simp
      intro h
      omega
    · -- Let $m = 3$. Then $c = 5$.
      simp
      intro h
      omega
    · -- Let $m = 4$. Then $c = 4$.
      simp
      intro h
      omega

```