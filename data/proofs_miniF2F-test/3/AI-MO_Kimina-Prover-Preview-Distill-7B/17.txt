-- We want to calculate the product $1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999$
  have h1 : 1 * 3 * 5 * 7 * 9 * 11 * 13 * 15 * 17 * 19 * 21 * 23 * 25 * 27 * 29 * 31 * 33 * 35 * 37 * 39 * 41 * 43 * 45 * 47 * 49 * 51 * 53 * 55 * 57 * 59 * 61 * 63 * 65 * 67 * 69 * 71 * 73 * 75 * 77 * 79 * 81 * 83 * 85 * 87 * 89 * 91 * 93 * 95 * 97 * 99 = 384? :=
    rfl

  -- We calculate the product $1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999$ by the product $(1 \cdot 2 \cdot 3 \cdot 4 \cdots 10000) / (2 \cdot 4 \cdot 6 \cdot 8 \cdots 10000)$
  have h2 : 1 * 3 * 5 * 7 * 9 * 11 * 13 * 15 * 17 * 19 * 21 * 23 * 25 * 27 * 29 * 31 * 33 * 35 * 37 * 39 * 41 * 43 * 45 * 47 * 49 * 51 * 53 * 55 * 57 * 59 * 61 * 63 * 65 * 67 * 69 * 71 * 73 * 75 * 77 * 79 * 81 * 83 * 85 * 87 * 89 * 91 * 93 * 95 * 97 * 99 * 10000 = 10000! := by
    rw [Finset.prod_eq_factorial]
    rfl

  -- We calculate the product $1 \cdot 2 \cdot 3 \cdot 4 \cdots 10000$ by $10000!$
  have h3 : 2 * 4 * 6 * 8 * 10 * 12 * 14 * 16 * 18 * 20 * 22 * 24 * 26 * 28 * 30 * 32 * 34 * 36 * 38 * 40 * 42 * 44 * 46 * 48 * 50 * 52 * 54 * 56 * 58 * 60 * 62 * 64 * 66 * 68 * 70 * 72 * 74 * 76 * 78 * 80 * 82 * 84 * 86 * 88 * 90 * 92 * 94 * 96 * 98 * 10000 = 2 ^ 5000 * 5000! := by
    -- We have the product $(2 \cdot 4 \cdot 6 \cdot 8 \cdots 10000) = 2^{5000} \cdot 5000!$. This is because we can take the product $2 \cdot 4 \cdot 6 \cdot 8 \cdots 10000$ and factor out a 2 from each term to get $2^{5000} \cdot 1 \cdot 2 \cdot 3 \cdot 4 \cdots 5000 = 2^{5000} \cdot 5000!$.
    rw [Finset.prod_eq_factorial]
    congr
    ext n
    simp
    number_nf
    omega

  -- We want to calculate the product $1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999$ and show it is equal to $\frac{10000!}{2^{5000} \cdot 5000!}$
  show Finset.prod (Finset.filter (fun x => ¬Even x) (Finset.range 10000)) (id : ℕ → ℕ) = 10000! / (2 ^ 5000 * 5000!)
  -- We start by expanding the product $1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999$ as the product $(1 \cdot 2 \cdot 3 \cdot 4 \cdots 10000) / (2 \cdot 4 \cdot 6 \cdot 8 \cdots 10000)$
  rw [← h2]
  -- We have the product $2 \cdot 4 \cdot 6 \cdots 10000 = 2^{5000} \cdot 5000!$. Substituting this into our equation gives us that the product $1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999 = \frac{10000!}{2^{5000} \cdot 5000!}$.
  rw [h3]
  -- We finish by simplifying $\frac{10000!}{2^{5000} \cdot 5000!}$ to show that it is indeed the product $1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999$
  symm
  rw [Nat.factorial_succ]
  rw [Nat.div_mul_cancel]
  · rfl
  · -- We show that $2^{5000} \cdot 5000! \cdot (2 \cdot 4 \cdot 6 \cdot 8 \cdots 10000) = 10000! \cdot (1 \cdot 3 \cdot 5 \cdot 7 \cdots 9999)$
    rw [Finset.prod_eq_factorial]
    congr
    ext n
    simp
    number_nf
    omega
  · -- We show that $2^{5000} \cdot 5000! \neq 0$
    positivity
```