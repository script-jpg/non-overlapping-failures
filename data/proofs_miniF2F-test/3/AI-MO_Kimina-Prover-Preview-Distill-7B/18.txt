-- Let $P$ be the product of all positive odd integers less than $10000$.

  let P : ℕ := Finset.prod (Finset.filter (fun x => ¬Even x) (Finset.range 10000)) (id : ℕ → ℕ)

  -- We can write $P$ as $\dfrac{10000!}{2^{5000} \cdot 5000!}$.

  have hP : P = 10000! / (2 ^ 5000 * 5000!) := by

    -- Let $S$ be the set of all positive odd integers less than $10000$.

    let S : Finset ℕ := Finset.filter (fun x => ¬Even x) (Finset.range 10000)

    -- Let $T$ be the set of all positive even integers less than $10000$.

    let T : Finset ℕ := Finset.filter (fun x => Even x) (Finset.range 10000)

    -- Let $n$ be the number of elements in $S$.

    let n : ℕ := S.card

    -- Let $a$ be the product of all elements in $S$.

    let a : ℕ := Finset.prod S (id : ℕ → ℕ)

    -- Let $b$ be the product of all elements in $T$.

    let b : ℕ := Finset.prod T (id : ℕ → ℕ)

    -- Let $c$ be the product of all elements in $S$.

    let c : ℕ := Finset.prod S (id : ℕ → ℕ)

    -- Let $d$ be the product of all elements in $T$.

    let d : ℕ := Finset.prod T (id : ℕ → ℕ)

    -- We have $a = P$.

    have ha : a = P := by

      simp [a, S, P]

      rfl

    -- We have $b$ = the product of all positive even integers less than $10000$.

    have hb : b = ∏ x ∈ T, x := by

      simp [b, T]

    -- We have $S$ and $T$ are disjoint and their union is $Finset.range 10000$.

    have hST : S ∪ T = Finset.range 10000 := by

      simp [S, T]

      ext x

      simp

      omega

    -- We have $S$ and $T$ are disjoint.

    have hST' : Disjoint S T := by

      simp [S, T]

      ext x

      simp

      omega

    -- We have $n = 5000$.

    have hn : n = 5000 := by

      simp [n, S]

      decide

    -- We have $P \cdot b = 10000!$.

    have hPb : P * b = 10000! := by

      rw [←Finset.prod_union_of_disjoint hST', ha, hb]

      simp [hST]

    -- We have $b = 2^{5000} \cdot c$.

    have hbc : b = 2 ^ 5000 * c := by

      rw [Finset.prod_filter]

      simp

      rfl

    -- We have $P = \dfrac{10000!}{2^{5000} \cdot c}$.

    rw [hPb, hbc]

    rw [←Nat.mul_div_assoc]

    rw [hn]

    rfl

    -- We have $c$ is not zero.

    simp [c, S]

    exact Nat.not_eq_zero_of_ne_nil_iff.mpr rfl

  -- Show that $P$ is equal to $\dfrac{10000!}{2^{5000} \cdot 5000!}$.

  exact hP.symm
```