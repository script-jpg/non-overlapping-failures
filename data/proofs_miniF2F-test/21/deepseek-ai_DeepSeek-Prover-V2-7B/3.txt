intro h
  have h1 := h
  rw [← Int.emod_add_ediv x 3] at h1
  rw [← Int.emod_add_ediv y 3] at h1
  ring_nf at h1
  have h2 : x % 3 = 0 ∨ x % 3 = 1 ∨ x % 3 = 2 := by omega
  have h3 : y % 3 = 0 ∨ y % 3 = 1 ∨ y % 3 = 2 := by omega
  rcases h2 with (h2 | h2 | h2) <;> rcases h3 with (h3 | h3 | h3) <;> simp [h2, h3, Int.pow_succ, Int.mul_emod, Int.add_emod, Int.emod_emod] at h1 <;>
  (try omega) <;>
  (try {
    have h4 : x % 3 = 0 ∨ x % 3 = 1 ∨ x % 3 = 2 := by omega
    have h5 : y % 3 = 0 ∨ y % 3 = 1 ∨ y % 3 = 2 := by omega
    rcases h4 with (h4 | h4 | h4) <;> rcases h5 with (h5 | h5 | h5) <;>
    simp [h4, h5, Int.pow_succ, Int.mul_emod, Int.add_emod, Int.emod_emod] at h1 <;>
    omega
  }) <;>
  omega
```