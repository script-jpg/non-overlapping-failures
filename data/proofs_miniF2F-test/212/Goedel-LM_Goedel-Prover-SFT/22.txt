/-
  Given an odd integer \( a \) and a natural number \( b \) such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. Since \( a \) is odd, \( a^2 \equiv 1 \mod 8 \).
  2. Since \( 4 \mid b \), \( b \) is even, and thus \( b^2 \equiv 0 \mod 8 \).
  3. Adding \( a^2 \) and \( b^2 \) gives \( 1 + 0 = 1 \).
  Thus, \( a^2 + b^2 \equiv 1 \mod 8 \).
  -/
  -- Since a is odd, a^2 modulo 8 is 1.
  have h₂ : a ^ 2 % 8 = 1 := by
    have h₂ : Odd a := h₀
    have h₃ : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
      cases' h₂ with k hk
      omega
    rcases h₃ with (h₃ | h₃ | h₃ | h₃) <;>
      simp [h₃, pow_two, Int.add_emod, Int.mul_emod]
  -- Since 4 divides b, b is even, so b^2 modulo 8 is 0.
  have h₃ : b ^ 2 % 8 = 0 := by
    have h₃ : 4 ∣ b := h₁
    have h₄ : b % 4 = 0 := by
      omega
    have h₅ : b ^ 2 % 8 = 0 := by
      have h₆ : b % 8 = 0 ∨ b % 8 = 4 ∨ b % 8 = 8 := by
        omega
      rcases h₆ with (h₆ | h₆ | h₆) <;>
        simp [h₆, pow_two, Int.add_emod, Int.mul_emod]
    exact h₅
  -- Adding a^2 and b^2 gives 1 modulo 8.
  omega
```