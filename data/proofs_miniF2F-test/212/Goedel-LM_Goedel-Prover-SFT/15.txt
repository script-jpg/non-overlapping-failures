/-
  Given an odd integer \( a \) and a natural number \( b \) such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. Since \( a \) is odd, we can express \( a \) in the form \( 2k + 1 \) for some integer \( k \).
  2. Given \( 4 \mid b \), we know that \( b \) is divisible by 4.
  3. We can use the properties of modular arithmetic to simplify the expression \( a^2 + b^2 \mod 8 \).
  4. Substituting \( a = 2k + 1 \) and \( b = 4m \) for some integer \( m \), we get:
     \[
     a^2 + b^2 = (2k + 1)^2 + (4m)^2
     \]
  5. Expanding and simplifying:
     \[
     (2k + 1)^2 = 4k^2 + 4k + 1
     \]
     \[
     (4m)^2 = 16m^2
     \]
     \[
     a^2 + b^2 = 4k^2 + 4k + 1 + 16m^2
     \]
  6. Since \( 4k^2 + 4k \) is always even, we can write:
     \[
     4k^2 + 4k = 4(k^2 + k)
     \]
  7. We need to show that \( 4(k^2 + k) + 1 \equiv 1 \mod 8 \).
  8. Notice that \( k^2 + k \) is always odd (since \( k^2 + k = k(k + 1) \) and \( k \) and \( k + 1 \) are consecutive integers, one of them must be even and the other odd).
  9. Therefore, \( 4(k^2 + k) + 1 \equiv 4 \cdot 1 + 1 \equiv 5 \equiv 1 \mod 8 \).
  -/
  -- Since a is odd, we can express a in the form 2k + 1 for some integer k.
  have h₂ : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
    cases' h₀ with k hk
    omega
  -- Since b is divisible by 4, we can write b as 4m for some integer m.
  have h₃ : b % 8 = 0 ∨ b % 8 = 4 := by
    cases' h₁ with m hm
    omega
  -- We use the properties of modular arithmetic to simplify the expression a^2 + b^2 mod 8.
  rcases h₂ with (h₂ | h₂ | h₂ | h₂) <;> rcases h₃ with (h₃ | h₃) <;> simp [h₂, h₃, pow_two, Int.add_emod, Int.mul_emod]
  <;> omega
```