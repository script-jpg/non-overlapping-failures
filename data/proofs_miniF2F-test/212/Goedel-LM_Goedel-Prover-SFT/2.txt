/-
  Given an odd integer \( a \) and a natural number \( b \) such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. **Simplify the expression modulo 8**:
     - Since \( a \) is odd, \( a \mod 8 \) can be 1, 3, 5, or 7.
     - Since \( 4 \mid b \), \( b \mod 8 \) can be 0, 4, or 8.
  2. **Analyze the squares modulo 8**:
     - The squares of \( a \mod 8 \) are \( 1^2, 3^2, 5^2, 7^2 \), which are 1, 9, 25, and 49 modulo 8, respectively.
     - The squares of \( b \mod 8 \) are \( 0^2, 4^2, 8^2 \), which are 0, 16, and 64 modulo 8, respectively.
  3. **Combine the results**:
     - \( a^2 + b^2 \mod 8 \) is the sum of the squares modulo 8.
     - By examining the possible values of \( a \mod 8 \) and \( b \mod 8 \), we find that \( a^2 + b^2 \mod 8 \) is always 1.
  -/
  -- Simplify the expression modulo 8
  have h₂ : (a ^ 2 + b ^ 2) % 8 = 1 := by
    -- Since a is odd, a % 8 can be 1, 3, 5, or 7
    have h₃ : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
      cases' h₀ with k hk
      omega
    -- Since 4 divides b, b % 8 can be 0, 4, or 8
    have h₄ : b % 8 = 0 ∨ b % 8 = 4 ∨ b % 8 = 8 := by
      omega
    -- Analyze the squares modulo 8
    rcases h₃ with (h₃ | h₃ | h₃ | h₃) <;>
      rcases h₄ with (h₄ | h₄ | h₄) <;>
        simp [h₃, h₄, pow_two, Int.add_emod, Int.mul_emod]
  -- The final result is 1 modulo 8
  exact h₂
```