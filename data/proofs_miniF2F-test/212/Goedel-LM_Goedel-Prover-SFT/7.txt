/-
  Given that \( a \) is an odd integer and \( b \) is a natural number such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. Since \( a \) is odd, we can express \( a \) as \( 2k + 1 \) for some integer \( k \).
  2. Given \( 4 \mid b \), we can write \( b \) as \( 4m \) for some integer \( m \).
  3. Substitute \( a = 2k + 1 \) and \( b = 4m \) into \( a^2 + b^2 \).
  4. Calculate \( a^2 \) and \( b^2 \):
     \[
     a^2 = (2k + 1)^2 = 4k^2 + 4k + 1
     \]
     \[
     b^2 = (4m)^2 = 16m^2
     \]
  5. Add \( a^2 \) and \( b^2 \):
     \[
     a^2 + b^2 = (4k^2 + 4k + 1) + 16m^2
     \]
  6. Since \( 4 \mid b \), we can use the fact that \( b^2 \) is always \( 0 \mod 8 \) when \( b \) is even.
  7. Therefore, \( a^2 + b^2 \equiv 1 \mod 8 \).
  -/
  -- Since a is odd, we can express a as 2k + 1 for some integer k.
  have h₂ : a ^ 2 % 8 = 1 := by
    -- The possible values of a^2 modulo 8 for an odd integer a are 1, 9, 25, or 41.
    have : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
      cases' h₀ with k hk
      omega
    -- Therefore, a^2 modulo 8 is 1.
    rcases this with (h | h | h | h) <;> simp [h, pow_two, Int.mul_emod]
  -- Since b is even, b^2 modulo 8 is 0.
  have h₃ : b ^ 2 % 8 = 0 := by
    -- The possible values of b^2 modulo 8 for an even number b are 0, 4, or 16.
    have : b % 8 = 0 ∨ b % 8 = 2 ∨ b % 8 = 4 ∨ b % 8 = 6 := by
      cases' h₁ with m hm
      omega
    -- Therefore, b^2 modulo 8 is 0.
    rcases this with (h | h | h | h) <;> simp [h, pow_two, Int.mul_emod]
  -- Adding a^2 and b^2 modulo 8, we get 1 + 0 ≡ 1 (mod 8).
  omega
```