/-
  Given an odd integer \( a \) and a natural number \( b \) such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. Since \( a \) is odd, \( a \) can be expressed in one of the forms \( 8k + 1, 8k + 3, 8k + 5, \) or \( 8k + 7 \) for some integer \( k \).
  2. Given \( 4 \mid b \), \( b \) can be expressed as \( 4m \) for some integer \( m \).
  3. We consider the possible values of \( a^2 \mod 8 \) and \( b^2 \mod 8 \).
  4. By examining the squares of these expressions modulo 8, we find that \( a^2 + b^2 \equiv 1 \mod 8 \).
  -/
  -- Since a is odd, a^2 modulo 8 can only be 1 or 9.
  have h : a ^ 2 % 8 = 1 ∨ a ^ 2 % 8 = 9 := by
    have : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
      cases' h₀ with k hk
      omega
    rcases this with (h | h | h | h) <;> simp [h, pow_two, Int.mul_emod]
  -- Since b is a natural number and 4 divides b, b^2 modulo 8 can only be 0, 4, or 16.
  have h' : b ^ 2 % 8 = 0 ∨ b ^ 2 % 8 = 4 ∨ b ^ 2 % 8 = 16 := by
    have : b % 8 = 0 ∨ b % 8 = 4 ∨ b % 8 = 8 ∨ b % 8 = 12 ∨ b % 8 = 16 := by
      omega
    rcases this with (h | h | h | h | h) <;> simp [h, pow_two, Int.mul_emod]
  -- By examining all combinations of a^2 and b^2 modulo 8, we find that a^2 + b^2 modulo 8 is always 1.
  rcases h with (h | h) <;> rcases h' with (h' | h' | h') <;> simp [h, h', Int.add_emod]
```