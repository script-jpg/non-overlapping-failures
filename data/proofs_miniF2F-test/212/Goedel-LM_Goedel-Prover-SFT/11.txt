/-
  Given an odd integer \( a \) and a natural number \( b \) such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. Since \( a \) is odd, \( a^2 \) modulo 8 is either 1 or 9, which simplifies to 1 modulo 8.
  2. Since \( 4 \mid b \), \( b \) is a multiple of 4. We consider the possible values of \( b \mod 8 \):
     - \( b \equiv 0 \mod 8 \) (since \( 4 \mid b \))
     - \( b \equiv 4 \mod 8 \)
     - \( b \equiv 8 \mod 8 \)
  3. We analyze \( b^2 \mod 8 \):
     - \( b \equiv 0 \mod 8 \) implies \( b^2 \equiv 0^2 \equiv 0 \mod 8 \)
     - \( b \equiv 4 \mod 8 \) implies \( b^2 \equiv 4^2 \equiv 16 \equiv 0 \mod 8 \)
     - \( b \equiv 8 \mod 8 \) implies \( b^2 \equiv 8^2 \equiv 64 \equiv 0 \mod 8 \)
  4. Combining these results, \( a^2 + b^2 \equiv 1 + 0 \equiv 1 \mod 8 \).
  -/
  -- Since a is odd, a^2 modulo 8 is either 1 or 9, which simplifies to 1 modulo 8.
  have h₂ : a ^ 2 % 8 = 1 := by
    have h₂ : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
      cases' h₀ with k hk
      omega
    rcases h₂ with (h₂ | h₂ | h₂ | h₂) <;> simp [h₂, pow_two, Int.mul_emod]
  -- Since 4 divides b, b modulo 8 can only be 0, 4, or 8.
  have h₃ : b ^ 2 % 8 = 0 := by
    have h₃ : b % 8 = 0 ∨ b % 8 = 4 ∨ b % 8 = 8 := by
      omega
    rcases h₃ with (h₃ | h₃ | h₃) <;> simp [h₃, pow_two, Int.mul_emod]
  -- Combining the results, a^2 + b^2 modulo 8 is 1.
  omega
```