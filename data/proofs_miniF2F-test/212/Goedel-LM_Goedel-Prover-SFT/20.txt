/-
  Given an odd integer \( a \) and a natural number \( b \) such that \( 4 \mid b \), we need to show that \( a^2 + b^2 \equiv 1 \mod 8 \).
  1. Since \( a \) is odd, we can express \( a \) as \( 2k + 1 \) for some integer \( k \).
  2. We also know that \( b \) is divisible by 4, so \( b \) can be written as \( 4m \) for some integer \( m \).
  3. We need to compute \( a^2 + b^2 \mod 8 \).
  4. Substituting \( a = 2k + 1 \) and \( b = 4m \), we get:
     \[
     a^2 + b^2 = (2k + 1)^2 + (4m)^2
     \]
  5. Expanding \( (2k + 1)^2 \) and \( (4m)^2 \):
     \[
     (2k + 1)^2 = 4k^2 + 4k + 1
     \]
     \[
     (4m)^2 = 16m^2
     \]
  6. Adding these together:
     \[
     a^2 + b^2 = 4k^2 + 4k + 1 + 16m^2
     \]
  7. Since \( 4k^2 + 4k \) is even, we only need to consider the parity of \( 1 \) and \( 16m^2 \).
  8. The sum \( 1 + 16m^2 \) is odd, and since \( 16m^2 \) is even, \( a^2 + b^2 \) is odd.
  9. Since \( a \) is odd, \( a^2 \) is odd, and \( b^2 \) is even, \( a^2 + b^2 \) is odd.
  10. Therefore, \( a^2 + b^2 \equiv 1 \mod 8 \).
  -/
  have h₂ : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by
    -- Since a is odd, a modulo 8 can only be one of these values.
    cases' h₀ with k hk
    omega
  have h₃ : b % 8 = 0 ∨ b % 8 = 4 ∨ b % 8 = 8 ∨ b % 8 = 12 := by
    -- Since b is divisible by 4, b modulo 8 can only be one of these values.
    cases' Nat.mod_eq_of_lt (Nat.mod_lt b (by norm_num)) with m hm
    omega
  rcases h₂ with (h₂ | h₂ | h₂ | h₂) <;> rcases h₃ with (h₃ | h₃ | h₃ | h₃) <;>
    simp [h₂, h₃, pow_two, Int.add_emod, Int.mul_emod]
  <;>
  omega
```