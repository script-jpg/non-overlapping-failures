have h₂ : a ^ 2 % 8 = 1 := by
    -- 4 ∣ b → b = 4k for some k
    rcases h₁ with ⟨k, rfl⟩
    -- We have $a^2 + 16k^2 \equiv 1 \mod 8$.
    rw [Int.add_emod, Int.mul_emod]
    simp
    -- $a^2 \equiv 1 \mod 8$ if $a$ is odd
    rcases h₀ with ⟨n, rfl⟩
    rw [Int.add_emod, Int.mul_emod, Int.mul_emod]
    simp
    -- Odd * Odd = Odd, so $a^2$ is odd.
    use 2 * n ^ 2 + n
    ring

  -- 4 ∣ b → b^2 = 16k^2 → b^2 = 0 mod 8
  have h₃ : b ^ 2 % 8 = 0 := by
    rcases h₁ with ⟨k, rfl⟩
    rw [Int.add_emod, Int.mul_emod, Int.mul_emod]
    simp

  -- → a^2 + b^2 = 1 mod 8
  rw [Int.add_emod, h₂, h₃]
  simp
```