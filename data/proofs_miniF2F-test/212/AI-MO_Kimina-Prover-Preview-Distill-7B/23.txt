have h₂ : a ^ 2 % 8 = 1 := by
    -- This is well known that the square of an odd number is congruent to 1 modulo 8.
    -- Odd numbers are of the form 2k+1. Squaring them gives 4k^2 + 4k + 1 = 4k(k+1) + 1.
    -- Since k(k+1) is always even, 4k(k+1) is divisible by 8, so the square is congruent to 1 modulo 8.
    rcases h₀ with ⟨k, hk⟩
    rw [hk]
    ring_nf
    rw [show (4 * k ^ 2 + 4 * k) = 4 * (k ^ 2 + k) by ring]
    have : 8 ∣ 4 * (k ^ 2 + k) := by
      rw [show k ^ 2 + k = k * (k + 1) by ring]
      have : 2 ∣ k * (k + 1) := by
        -- The product of two consecutive numbers is always even.
        by_cases hk : k % 2 = 0
        · rw [show k = 2 * m by omega] at hk
          rw [hk]
          ring_nf
        · have : k % 2 = 1 := by omega
          have : (k + 1) % 2 = 0 := by omega
          rw [show k + 1 = 2 * m by omega] at this
          rw [this]
          ring_nf
      rw [show 8 = 4 * 2 by omega]
      apply mul_dvd_mul
      exact this
      rfl
    omega

  have h₃ : b ^ 2 % 8 = 0 := by
    -- This can be deduced from the fact that b is divisible by 4, so b^2 is divisible by 16,
    -- and thus b^2 ≡ 0 (mod 8).
    rcases h₁ with ⟨k, hk⟩
    rw [hk]
    ring_nf
    rw [show 4 * k = 2 * (2 * k) by ring]
    omega

  -- Thus, adding the two congruences, we get $a^2 + b^2 \equiv 1 + 0 \equiv 1 \mod 8$, as desired.
  omega
```