have h₂ : a ^ 2 % 8 = 1 := by
    -- - Show that if $a$ is odd, then $a^2 \equiv 1 \mod 8$.
    obtain ⟨k, hk⟩ := h₀
    have : a % 8 = 1 ∨ a % 8 = 3 ∨ a % 8 = 5 ∨ a % 8 = 7 := by omega
    rcases this with (ha | ha | ha | ha)
    · rw [show a ^ 2 % 8 = 1 ^ 2 % 8 by rw [Int.pow_emod, ha]]
      decide
    · rw [show a ^ 2 % 8 = 3 ^ 2 % 8 by rw [Int.pow_emod, ha]]
      decide
    · rw [show a ^ 2 % 8 = 5 ^ 2 % 8 by rw [Int.pow_emod, ha]]
      decide
    · rw [show a ^ 2 % 8 = 7 ^ 2 % 8 by rw [Int.pow_emod, ha]]
      decide

  -- - Show that if $4 \mid b$, then $b^2 \equiv 0 \mod 8$.
  have h₃ : b ^ 2 % 8 = 0 := by
    obtain ⟨c, hc⟩ := h₁
    rw [←hc, show (4 * c) ^ 2 = 16 * (c ^ 2) by ring]
    rw [Int.pow_emod, show (16 % 8 = 0) by decide]
    rw [Int.mul_emod, show (0 * (c ^ 2) % 8 = 0) by simp]

  -- - Combine the above results to get $a^2 + b^2 \equiv 1 \mod 8$.
  rw [Int.add_emod, h₂, h₃]
  decide
```