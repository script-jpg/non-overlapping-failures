have h₂ : a ^ 2 % 8 = 1 := by
    -- 4 ∣ b, so b is even and b = 2k for some k
    rcases h₁ with ⟨k, rfl⟩
    -- b = 2k, so b^2 = 4k^2
    have h : (2 * k) ^ 2 = 4 * k ^ 2 := by ring
    rw [h]
    -- 8 ∣ b^2
    have h : 8 ∣ 4 * k ^ 2 := by
      use k ^ 2
      ring
    -- a is odd, so a = 2j + 1 for some j
    rcases h₀ with ⟨j, rfl⟩
    -- a = 2j + 1, so a^2 = 4j(j+1) + 1
    have h : (2 * j + 1) ^ 2 = 4 * (j * (j + 1)) + 1 := by ring
    rw [h]
    -- j(j+1) is even, so 8 ∣ a^2
    have h : 8 ∣ 4 * (j * (j + 1)) := by
      obtain ⟨i, hi⟩ := Int.even_mul_succ_self j
      omega
    nth_rw 2 [← zero_add 1]
    rw [← Int.add_one_mul]
    exact Int.ModEq.add (id (Int.ModEq.symm h)) rfl

  have h₃ : b ^ 2 % 8 = 0 := by
    rcases h₁ with ⟨k, rfl⟩
    have h : (2 * k) ^ 2 = 4 * k ^ 2 := by ring
    rw [h]
    obtain ⟨i, hi⟩ := h₁
    have h : 8 * i * k ^ 2 = 8 * (i * k ^ 2) := by ring
    rw [h]
    apply Int.ModEq.mul_left
    exact Int.modEq_iff_dvd.mpr rfl

  omega
```