-- The first lemma is a corollary of Fermat's Little Theorem.
  have lm (x : ℕ) : x ^ p % p = x % p := by
    have := Nat.modEq_of_dvd (Nat.Prime.dvd_pow_self h₁ (by omega))
    omega

  -- Using the above lemma, prove the main theorem.
  induction a with
  | zero => omega
  | succ a ih =>
    cases a with
    | zero =>
      simp [Nat.pow_succ, Nat.pow_zero, h₁]
    | succ a =>
      have : (a + 1) ^ p % p = (a ^ p + 1) % p := by
        rw [Nat.add_mod, ih, Nat.pow_mod]
      omega

```