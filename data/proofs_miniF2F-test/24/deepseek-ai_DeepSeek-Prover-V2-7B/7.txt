have h₁ : Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) + Real.cos (3 * Real.pi / 7) = 1 / 2 := by
    have h₂ : Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) + Real.cos (3 * Real.pi / 7) = 1 / 2 := by
      have h₃ : 0 < Real.pi := Real.pi_pos
      have h₄ : 0 < 7 := by norm_num
      have h₅ : Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) + Real.cos (3 * Real.pi / 7) = 1 / 2 := by
        -- Use the sum-to-product and product-to-sum identities to simplify the expression.
        have h₆ : Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) = 2 * Real.sin (3 * Real.pi / 14) * Real.sin (Real.pi / 14) := by
          rw [Real.sin_sub_sin] <;> ring_nf <;>
          norm_num <;>
          ring_nf <;>
          field_simp <;>
          ring_nf <;>
          norm_num <;>
          linarith [Real.pi_pos]
        have h₇ : Real.cos (3 * Real.pi / 7) = Real.cos (Real.pi - 4 * Real.pi / 7) := by ring_nf
        rw [h₇] at *
        have h₈ : Real.cos (Real.pi - 4 * Real.pi / 7) = -Real.cos (4 * Real.pi / 7) := by
          rw [Real.cos_pi_sub]
        rw [h₈] at *
        have h₉ : -Real.cos (4 * Real.pi / 7) + Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) = 1 / 2 := by
          have h₁₀ : Real.cos (4 * Real.pi / 7) = Real.cos (Real.pi / 7 + 3 * Real.pi / 7) := by ring_nf
          rw [h₁₀]
          have h₁₁ : Real.cos (Real.pi / 7 + 3 * Real.pi / 7) = Real.cos (Real.pi / 7) * Real.cos (3 * Real.pi / 7) - Real.sin (Real.pi / 7) * Real.sin (3 * Real.pi / 7) := by
            rw [Real.cos_add]
          rw [h₁₁]
          have h₁₂ : Real.cos (3 * Real.pi / 7) = 4 * Real.cos (Real.pi / 7) ^ 3 - 3 * Real.cos (Real.pi / 7) := by
            rw [show 3 * Real.pi / 7 = 3 * (Real.pi / 7) by ring]
            rw [Real.cos_three_mul]
          have h₁₃ : Real.sin (3 * Real.pi / 7) = 3 * Real.sin (Real.pi / 7) - 4 * Real.sin (Real.pi / 7) ^ 3 := by
            rw [show 3 * Real.pi / 7 = 3 * (Real.pi / 7) by ring]
            rw [Real.sin_three_mul]
          rw [h₁₂, h₁₃]
          have h₁₄ : Real.sin (Real.pi / 7) > 0 := by
            apply Real.sin_pos_of_pos_of_lt_pi
            linarith [Real.pi_pos]
            linarith [Real.pi_pos]
          have h₁₅ : Real.cos (Real.pi / 7) > 0 := by
            exact Real.cos_pos_of_mem_Ioo ⟨by linarith [Real.pi_pos], by linarith