have h : Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) + Real.cos (3 * Real.pi / 7) = 1 / 2 := by
    have h1 : Real.cos (Real.pi / 7) - Real.cos (2 * Real.pi / 7) + Real.cos (3 * Real.pi / 7) = (2 * Real.sin (Real.pi / 14) * Real.sin (Real.pi / 14)) / 2 := by
      rw [Real.cos_sub_cos, Real.cos_sub_cos]
      ring_nf
      rw [← Real.sin_sq_add_cos_sq (Real.pi / 14), ← Real.sin_sq_add_cos_sq (Real.pi / 14)]
      ring_nf
      linarith
    have h2 : (2 * Real.sin (Real.pi / 14) * Real.sin (Real.pi / 14)) / 2 = 1 / 2 := by
      have h2_1 : Real.sin (Real.pi / 14) * Real.sin (Real.pi / 14) = Real.sin_sq (Real.pi / 14) := by
        rw [← Real.sin_sq]
      have h2_2 : Real.sin_sq (Real.pi / 14) = 1 / 8 * (1 - Real.cos (Real.pi / 7)) := by
        have h2_2_1 : Real.sin_sq (Real.pi / 14) = (1 - Real.cos (2 * (Real.pi / 14))) / 2 := by
          rw [Real.sin_sq_eq_half_sub]
          ring_nf
        have h2_2_2 : 2 * (Real.pi / 14) = Real.pi / 7 := by
          ring_nf
        rw [h2_2_2] at h2_2_1
        linarith
      rw [h2_1, h2_2]
      ring_nf
      linarith
    rw [h1, h2]
  exact h
```