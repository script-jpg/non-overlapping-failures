-- We have $\sum_{k=0}^{n-1} 2^k = 2^n - 1$.
  have h (n : ℕ) : ∑ k in Finset.range n, 2 ^ k = 2 ^ n - 1 := by
    induction' n with n ih
    · simp
    · rw [Finset.sum_range_succ, ih]
      ring

  -- So, $\sum_{k=0}^{100} 2^k = 2^{101} - 1$.
  have h' : ∑ k in Finset.range 101, 2 ^ k = 2 ^ 101 - 1 := by
    rw [h]

  -- We also have $2^3 \equiv 1 \pmod{7}$.
  have h'' : 2 ^ 3 ≡ 1 [MOD 7] := by
    rfl

  -- This means $2^{3m} \equiv 1 \pmod{7}$ for all $m \geq 0$.
  have h''' (m : ℕ) : 2 ^ (3 * m) ≡ 1 [MOD 7] := by
    induction' m with m ih
    · simp
    · calc 2 ^ (3 * (m + 1))
         _ = 2 ^ (3 * m) * 2 ^ 3 := by ring
         _ ≡ 1 * 1 [MOD 7] := by
            rw [Nat.ModEq.mul]
            exact ih
            exact h''
         _ ≡ 1 [MOD 7] := by simp

  -- We have $2^{101} = 2^{3 \cdot 33 + 2} = 2^{3 \cdot 33} \cdot 2^2$.
  have h'''' : 2 ^ 101 = 2 ^ (3 * 33) * 2 ^ 2 := by ring

  -- So, $2^{101} \equiv 1 \cdot 2^2 \equiv 4 \pmod{7}$.
  have h''''' : 2 ^ 101 ≡ 4 [MOD 7] := by
    rw [h'''', Nat.ModEq.mul]
    have : 2 ^ (3 * 33) ≡ 1 [MOD 7] := h''' 33
    have : 2 ^ 2 ≡ 4 [MOD 7] := by
      exact rfl
    exact Nat.ModEq.trans this (Nat.ModEq.mul this this)

  -- That's equivalent to $2^{101} - 1 \equiv 4 - 1 \equiv 3 \pmod{7}$.
  have h'''''' : (2 ^ 101 - 1) ≡ 3 [MOD 7] := by
    calc (2 ^ 101 - 1) ≡ 4 - 1 [MOD 7] := Nat.ModEq.sub h''''' rfl
                 _ ≡ 3 [MOD 7] := by simp

  -- So, the remainder when $1 + 2 + 2^2 + 2^3 + \dots + 2^{100}$ is divided by 7 is 3.
  exact h''''''.symm
```