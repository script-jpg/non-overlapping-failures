-- We have $\sum_{k=0}^{n} 2^k = 2^{n+1} - 1$.
  have hsum : ∀ n, (∑ k in Finset.range (n + 1), 2 ^ k) = 2 ^ (n + 1) - 1 := by
    intro n
    induction n with
    | zero => simp
    | succ n ih =>
      rw [Finset.sum_range_succ, ih, pow_succ]
      ring

  -- So, $\sum_{k=0}^{100} 2^k = 2^{101} - 1$.
  specialize hsum 100
  -- And $2^{101} \equiv 2^{3 \cdot 33 + 2} \equiv (2^3)^{33} \cdot 2^2 \equiv 1^{33} \cdot 4 \equiv 4 \pmod 7$.
  have : 2 ^ 101 % 7 = 4 := by
    rw [show 101 = 3 * 33 + 2 by norm_num, pow_add, pow_mul]
    simp
    norm_num

  -- Hence, $\sum_{k=0}^{100} 2^k \equiv 4 - 1 \equiv 3 \pmod 7$.
  rw [hsum]
  omega
```