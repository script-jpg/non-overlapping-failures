-- We have $\sum_{k=0}^{100} 2^k = 2^{101} - 1$. This is a geometric series with first term $a = 1$ and common ratio $r = 2$. The sum of the first $n+1$ terms of a geometric series is given by $\frac{r^{n+1} - a^{n+1}}{r - a}$ where $r \neq a$. Here, $n = 100$, so we have $\frac{2^{101} - 1^{101}}{2 - 1} = 2^{101} - 1$.

  have : ∑ k in Finset.range 101, 2 ^ k = 2 ^ 101 - 1 := by
    have : ∀ n, ∑ k in Finset.range n, 2 ^ k = 2 ^ n - 1 := by
      intro n
      induction n with
      | zero => simp
      | succ n ih =>
        rw [Finset.sum_range_succ, ih]
        ring
    exact this 101

  rw [this]

  -- We have $2^3 \equiv 1 \pmod{7}$. This means $2^3 = 7q + 1$ for some integer $q$. Thus, $2^3 - 1 = 7q$ and $2^3 - 1 \equiv 0 \pmod{7}$.

  have : 2 ^ 3 - 1 = 7 := by norm_num

  -- Because $101 = 3 \cdot 33 + 2$, we have $2^{101} = 2^{3 \cdot 33 + 2} = 2^{3 \cdot 33} \cdot 2^2 = (2^3)^{33} \cdot 2^2$.

  have : 2 ^ 101 = (2 ^ 3) ^ 33 * 2 ^ 2 := by
    rw [(by norm_num : 101 = 3 * 33 + 2), pow_add, pow_mul]

  rw [this]

  -- We have $2^{101} - 1 = (2^3)^{33} \cdot 2^2 - 1 \equiv 1^{33} \cdot 4 - 1 \equiv 4 - 1 \equiv 3 \pmod{7}$.

  have : (2 ^ 3) ^ 33 * 2 ^ 2 - 1 = 7 * ((2 ^ 3) ^ 33 - 1) + 3 := by
    rw [(by omega : ((2 ^ 3) ^ 33 - 1) = ((2 ^ 3) ^ 33 - 1) * 1)]
    ring
  rw [this]
  exact ⟨((2 ^ 3) ^ 33 - 1), by omega⟩
```