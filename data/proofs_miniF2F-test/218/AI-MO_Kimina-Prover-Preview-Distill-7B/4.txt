-- We have $\sum_{k=0}^{n} 2^k = 2^{n+1} - 1$.
  have h (n : ℕ) : (∑ k in Finset.range (n + 1), 2 ^ k) = 2 ^ (n + 1) - 1 := by
    induction n with
    | zero => simp
    | succ n ih =>
      rw [Finset.sum_range_succ, ih, pow_succ]
      ring

  -- So, $\sum_{k=0}^{100} 2^k = 2^{101} - 1$.
  specialize h 100
  rw [h]

  -- Notice that $2^3 \equiv 1 \pmod{7}$, so $2^{3n} \equiv 1 \pmod{7}$.
  have : 2 ^ 3 % 7 = 1 := by norm_num
  have : 2 ^ 96 % 7 = 1 := by
    calc 2 ^ 96 % 7
      _ = (2 ^ 3) ^ 32 % 7 := by rw [← pow_mul, mul_comm]
      _ = 1 ^ 32 % 7 := by rw [this]
      _ = 1 := by norm_num

  -- Also, $2^{101} = 2^{96} \cdot 2^5$, so $2^{101} \equiv 2^5 \pmod{7}$.
  have : 2 ^ 101 % 7 = 2 ^ 5 % 7 := by
    calc 2 ^ 101 % 7
      _ = (2 ^ 96 * 2 ^ 5) % 7 := by rw [← pow_add]
      _ = (2 ^ 96 % 7 * 2 ^ 5 % 7) % 7 := by rw [Nat.mul_mod]
      _ = (2 ^ 5 % 7) := by rw [this]

  -- Thus, $2^{101} - 1 \equiv 2^5 - 1 \equiv 32 - 1 \equiv 22 \equiv 1 \pmod{7}$.
  calc (2 ^ 101 - 1) % 7
    _ = (2 ^ 101 % 7 - 1 % 7) % 7 := by rw [Nat.sub_mod]
    _ = (2 ^ 5 % 7 - 1 % 7) % 7 := by rw [this]
    _ = (32 - 1) % 7 := by norm_num
    _ = 31 % 7 := by norm_num
    _ = 3 := by norm_num
```