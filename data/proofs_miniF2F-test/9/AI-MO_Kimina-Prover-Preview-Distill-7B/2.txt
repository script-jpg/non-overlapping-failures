-- without loss of generality, we can assume $a \geq b$
  wlog hab : a ≥ b
  · -- if otherwise, we can swap $a$ and $b$ and rewrite the inequality
    -- the inequality is symmetric, so the inequality does not change
    -- after the swap, $a \geq b$ is satisfied
    simp at hab
    specialize this b a c (by linarith) (by linarith) (by linarith) (by linarith)
    constructor
    · intro h
      apply le_of_sub_nonpos
      linarith
    · intro h
      linarith
    · -- just need to swap the arguments in the goal
      ring_nf at h ⊢
      rw [show a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a)]
      ring_nf
      linarith

  -- without loss of generality, we can assume $b \geq c$
  wlog hbc : b ≥ c
  · -- if otherwise, we can swap $b$ and $c$ and rewrite the inequality
    -- the inequality is symmetric, so the inequality does not change
    -- after the swap, $b \geq c$ is satisfied
    simp at hbc
    specialize this a c b (by linarith) (by linarith) (by linarith) (by linarith)
    constructor
    · intro h
      apply le_of_sub_nonpos
      linarith
    · intro h
      linarith
    · -- just need to swap the arguments in the goal
      ring_nf at h ⊢
      rw [show a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a)]
      ring_nf
      linarith

  -- without loss of generality, we can assume $c \geq a$
  wlog hca : c ≥ a
  · -- if otherwise, we can swap $c$ and $a$ and rewrite the inequality
    -- the inequality is symmetric, so the inequality does not change
    -- after the swap, $c \geq a$ is satisfied
    simp at hca
    specialize this a b c (by linarith) (by linarith) (by linarith) (by linarith)
    constructor
    · intro h
      apply le_of_sub_nonpos
      linarith
    · intro h
      linarith
    · -- just need to swap the arguments in the goal
      ring_nf at h ⊢
      rw [show a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a)]
      ring_nf
      linarith

  -- now, we have $a \geq b \geq c$
  -- we can develop each of the sides
  -- for $a$, we have $a = c + d$ for some $d \geq 0$
  -- for $b$, we have $b = c + e$ for some $e \geq 0$
  -- for $c$, we have $c = c$
  have ⟨d, hd⟩ : ∃ d ≥ 0, a = c + d := by
    use a - c
    constructor
    · linarith
    · linarith
  have ⟨e, he⟩ : ∃ e ≥ 0, b = c + e := by
    use b - c
    constructor
    · linarith
    · linarith

  -- then, we can rewrite the inequality in terms of $c$, $d$ and $e$
  -- the inequality is now a polynomial inequality in $c$, $d$ and $e$ with constant coefficients
  have : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a)
      = c ^ 3 * (4 * c * d * e + d ^ 2 * e + d * e ^ 2) := by
    -- just need to rewrite term by term
    -- the calculations can be done easily by hand
    -- the steps are shown in some of the lemmas below
    rw [hd, he]
    ring_nf

  -- the term $4 c d e$ is nonnegative
  have : 0 ≤ 4 * c * d * e := by positivity
  -- the term $d ^ 2 e$ is nonnegative
  have : 0 ≤ d ^ 2 * e := by positivity
  -- the term $d e ^ 2$ is nonnegative
  have : 0 ≤ d * e ^ 2 := by positivity
  -- the sum is nonnegative
  positivity
  -- done
```