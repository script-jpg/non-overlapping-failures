nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
    mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃), mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₃),
    mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), sq_nonneg (a + b - c), sq_nonneg (b + c - a),
    sq_nonneg (c + a - b), mul_nonneg (sub_nonneg.mpr h₁.le) (sub_nonneg.mpr h₂.le),
    mul_nonneg (sub_nonneg.mpr h₂.le) (sub_nonneg.mpr h₃.le), mul_nonneg (sub_nonneg.mpr h₃.le)
    (sub_nonneg.mpr h₁.le), mul_nonneg (sq_nonneg (a - b)) (sq_nonneg (b - c)),
    mul_nonneg (sq_nonneg (b - c)) (sq_nonneg (c - a)), mul_nonneg (sq_nonneg (c - a))
    (sq_nonneg (a - b)), mul_nonneg (sq_nonneg (a - b)) (sq_nonneg (a + b - c)),
    mul_nonneg (sq_nonneg (b - c)) (sq_nonneg (b + c - a)), mul_nonneg (sq_nonneg (c - a))
    (sq_nonneg (c + a - b))]

theorem imo_1983_p6_eq (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : (a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0) ↔ a = b ∨ b = c ∨ c = a := by
  constructor
  · intro h
    have h₄ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := by linarith
    have h₅ : 0 < a * b := mul_pos h₀.1 h₀.2.1
    have h₆ : 0 < b * c := mul_pos h₀.2.1 h₀.2.2
    have h₇ : 0 < c * a := mul_pos h₀.2.2 h₀.1
    -- Use the fact that the expression equals zero to derive the equality conditions
    apply or_iff_not_imp_left.mpr
    intro h₈
    apply or_iff_not_imp_left.mpr
    intro h₉
    -- Use the fact that the expression equals zero to derive the equality conditions
    apply Eq.symm
    apply mul_left_cancel₀ (sub_ne_zero.mpr h₈)
    apply mul_left_cancel₀ (sub_ne_zero.mpr h₉)
    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
      mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
      mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁)]
  · rintro (rfl | rfl | rfl) <;>
    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
      mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
      mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁)]

theorem imo_1983_p6_eq' (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : (a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0) ↔ a = b ∨ b = c ∨ c = a := by
  constructor
  · intro h
    have h₄ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := by linarith
    have h₅ : 0 < a * b := mul_pos h₀.1 h₀.2.1
    have h₆ : 0 < b * c := mul_pos h₀.2.1 h₀.2.2
    have h₇ : 0 < c * a := mul_pos h₀.2.2 h₀.1
    -- Use the fact that the expression equals zero to derive the equality conditions
    apply or_iff_not_imp_left.mpr
    intro h₈
    apply or_iff_not_imp_left.mpr
    intro h₉
    -- Use the fact that the expression equals zero to derive the equality conditions
    apply Eq.symm
    apply mul_left_cancel₀ (sub_ne_zero.mpr h₈)
    apply mul_left_cancel₀ (sub_ne_zero.mpr h₉)
    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
      mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
      mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁)]
  · rintro (rfl | rfl | rfl) <;>
    nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
      mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
      mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁)]