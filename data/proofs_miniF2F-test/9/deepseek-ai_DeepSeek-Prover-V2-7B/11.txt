nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
    mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
    mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃), mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₃),
    mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), sq_nonneg (a + b - c), sq_nonneg (b + c - a),
    sq_nonneg (c + a - b), mul_nonneg (sub_nonneg.mpr h₁.le) (sub_nonneg.mpr h₂.le),
    mul_nonneg (sub_nonneg.mpr h₂.le) (sub_nonneg.mpr h₃.le), mul_nonneg (sub_nonneg.mpr h₃.le) (sub_nonneg.mpr h₁.le),
    mul_nonneg (sub_nonneg.mpr h₁.le) (sub_nonneg.mpr h₂.le), mul_nonneg (sub_nonneg.mpr h₂.le) (sub_nonneg.mpr h₃.le),
    mul_nonneg (sub_nonneg.mpr h₃.le) (sub_nonneg.mpr h₁.le)]


theorem imo_1983_p6_eq (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 ↔ a = b ∧ b = c := by
  constructor
  · intro h
    have h₄ : 0 < a * b := mul_pos h₀.1 h₀.2.1
    have h₅ : 0 < b * c := mul_pos h₀.2.1 h₀.2.2
    have h₆ : 0 < c * a := mul_pos h₀.2.2 h₀.1
    have h₇ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := h
    have h₈ : a = b := by
      nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃), mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂)]
    have h₉ : b = c := by
      nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃), mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂)]
    exact ⟨h₈, h₉⟩
  · rintro ⟨h₄, h₅⟩
    simp_all only [h₄, h₅, mul_comm, mul_assoc, mul_left_comm, sub_self, zero_mul, add_zero]
    <;> ring_nf
    <;> nlinarith

theorem imo_1983_p6_strict (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 ↔ a = b ∧ b = c := by
  constructor
  · intro h
    have h₄ : 0 < a * b := mul_pos h₀.1 h₀.2.1
    have h₅ : 0 < b * c := mul_pos h₀.2.1 h₀.2.2
    have h₆ : 0 < c * a := mul_pos h₀.2.2 h₀.1
    have h₇ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := h
    have h₈ : a = b := by
      nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃), mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂)]
    have h₉ : b = c := by
      nlinarith [sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃), mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂)]
    exact ⟨h₈, h₉⟩
  · rintro ⟨h₄, h₅⟩
    simp_all only [h₄, h₅, mul_comm, mul_assoc, mul_left_comm, sub_self, zero_mul, add_zero]
    <;> ring_nf
    <;> nlinarith

theorem imo_1983_p6_strict_ineq (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) > 0 ↔ a ≠ b ∨ b ≠ c := by
  constructor
  · intro h
    by_contra! h₄
    have h₅ : a = b := by tauto
    have h₆ : b = c := by tauto
    have h₇ : a = c := by linarith
    have h₈ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := by
      simp_all only [h₅, h₆, h₇, mul_comm, mul_assoc, mul_left_comm, sub_self, zero_mul, add_zero]
      <;> ring_nf
      <;> nlinarith
    linarith
  · rintro (h | h)
    ·
      nlinarith [sq_pos_of_ne_zero (sub_ne_zero_of_ne h),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]
    ·
      nlinarith [sq_pos_of_ne_zero (sub_ne_zero_of_ne h),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]

theorem imo_1983_p6_strict_ineq_general (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) > 0 ↔ a ≠ b ∨ b ≠ c := by
  constructor
  · intro h
    by_contra! h₄
    have h₅ : a = b := by tauto
    have h₆ : b = c := by tauto
    have h₇ : a = c := by linarith
    have h₈ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := by
      simp_all only [h₅, h₆, h₇, mul_comm, mul_assoc, mul_left_comm, sub_self, zero_mul, add_zero]
      <;> ring_nf
      <;> nlinarith
    linarith
  · rintro (h | h)
    ·
      nlinarith [sq_pos_of_ne_zero (sub_ne_zero_of_ne h),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]
    ·
      nlinarith [sq_pos_of_ne_zero (sub_ne_zero_of_ne h),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]

theorem imo_1983_p6_strict_ineq_general_2 (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) > 0 ↔ a ≠ b ∨ b ≠ c := by
  constructor
  · intro h
    by_contra! h₄
    have h₅ : a = b := by tauto
    have h₆ : b = c := by tauto
    have h₇ : a = c := by linarith
    have h₈ : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) = 0 := by
      simp_all only [h₅, h₆, h₇, mul_comm, mul_assoc, mul_left_comm, sub_self, zero_mul, add_zero]
      <;> ring_nf
      <;> nlinarith
    linarith
  · rintro (h | h)
    ·
      nlinarith [sq_pos_of_ne_zero (sub_ne_zero_of_ne h),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]
    ·
      nlinarith [sq_pos_of_ne_zero (sub_ne_zero_of_ne h),
        mul_pos h₀.1 h₀.2.1, mul_pos h₀.2.1 h₀.2.2, mul_pos h₀.2.2 h₀.1,
        mul_pos (sub_pos.mpr h₁) (sub_pos.mpr h₂), mul_pos (sub_pos.mpr h₂) (sub_pos.mpr h₃),
        mul_pos (sub_pos.mpr h₃) (sub_pos.mpr h₁), sq_nonneg (a - b), sq_nonneg (b - c), sq_nonneg (c - a)]

theorem imo_1983_p6_strict_ineq_general_3 (a b c : ℝ) (h₀ : 0 < a ∧ 0 < b ∧ 0 < c) (h₁ : c < a + b) (h₂ : b < a + c)
    (h₃ : a < b + c) : a ^ 2 * b * (a - b) + b ^ 2 * c * (b - c) + c ^ 2 * a * (c - a) > 0 ↔ a ≠ b ∨ b ≠ c := by
  constructor
  · intro h
    by_contra! h₄
    have h₅ : a =