/-
  Given real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we need to show that \(ab + |a - b| \leq 1\). We will consider two cases based on the relationship between \(a\) and \(b\):
  1. **Case 1: \(a \geq b\)**
     - Since \(a \geq b\), we have \(|a - b| = a - b\).
     - The inequality becomes \(ab + (a - b) \leq 1\).
     - Simplifying, we get \(ab + a - b \leq 1\).
     - Using the fact that \(a^2 + b^2 = 1\), we can derive additional constraints to show this inequality holds.
  2. **Case 2: \(a < b\)**
     - Since \(a < b\), we have \(|a - b| = b - a\).
     - The inequality becomes \(ab + (b - a) \leq 1\).
     - Simplifying, we get \(ab + b - a \leq 1\).
     - Using the fact that \(a^2 + b^2 = 1\), we can derive additional constraints to show this inequality holds.
  -/
  -- Consider two cases based on the relationship between a and b
  cases' le_total a b with h₁ h₁
  -- Case 1: a ≥ b
  -- Since a ≥ b, |a - b| = a - b
  simp_all only [abs_of_nonpos, sub_nonpos, sub_nonneg]
  -- Simplify the inequality: ab + (a - b) ≤ 1
  nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), sq_nonneg (a - b + 1),
    sq_nonneg (a - b - 1)]
  -- Use non-linear arithmetic to verify the inequality
  -- Case 2: a < b
  -- Since a < b, |a - b| = b - a
  simp_all only [abs_of_nonneg, sub_nonneg, sub_nonpos]
  -- Simplify the inequality: ab + (b - a) ≤ 1
  nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), sq_nonneg (a - b + 1),
    sq_nonneg (a - b - 1)]
```