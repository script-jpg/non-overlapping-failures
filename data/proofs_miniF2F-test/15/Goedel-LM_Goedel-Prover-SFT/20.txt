/-
  Given real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we need to show that \(ab + |a - b| \leq 1\).
  1. **Case Analysis on Absolute Value**: We consider two cases for the absolute value \(|a - b|\):
     - Case 1: \(a - b \geq 0\) (i.e., \(|a - b| = a - b\)).
     - Case 2: \(a - b < 0\) (i.e., \(|a - b| = -(a - b) = b - a\)).
  2. **Case 1: \(a - b \geq 0\)**:
     - Here, \(|a - b| = a - b\).
     - We need to show \(ab + (a - b) \leq 1\).
     - Using the given condition \(a^2 + b^2 = 1\), we can derive the inequality using non-linear arithmetic.
  3. **Case 2: \(a - b < 0\)**:
     - Here, \(|a - b| = b - a\).
     - We need to show \(ab + (b - a) \leq 1\).
     - Using the given condition \(a^2 + b^2 = 1\), we can derive the inequality using non-linear arithmetic.
  -/
  -- Consider two cases for the absolute value |a - b|
  cases' le_total 0 (a - b) with h h <;>
  -- Simplify the absolute value based on the sign of a - b
  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
  -- Use non-linear arithmetic to prove the inequality
  nlinarith [sq_nonneg (a - b), hâ‚€, sq_nonneg (a + b)]
```