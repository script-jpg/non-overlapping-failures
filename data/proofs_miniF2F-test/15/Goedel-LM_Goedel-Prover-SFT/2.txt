/-Let $a$ and $b$ be real numbers such that $a^2+b^2=1$. We need to show that $ab+\lvert a-b\rvert \leq 1$.
  
  To prove this, we consider the absolute value of the difference $a - b$, which can be split into two cases: $a - b$ is non-negative or negative.
  
  1. **Case 1: $a - b \geq 0$**
     - In this case, the absolute value simplifies to $a - b$.
     - We need to show that $ab + (a - b) \leq 1$.
     - Using the given condition $a^2 + b^2 = 1$, we can derive the inequality by considering the squares and the properties of real numbers.
  
  2. **Case 2: $a - b < 0$**
     - In this case, the absolute value simplifies to $b - a$.
     - We need to show that $ab + (b - a) \leq 1$.
     - Similarly, using the given condition $a^2 + b^2 = 1$, we can derive the inequality by considering the squares and the properties of real numbers.
  -/
  -- Consider the two cases for the absolute value of (a - b)
  cases' le_total 0 (a - b) with h h <;>
    -- Simplify the absolute value based on the sign of (a - b)
    simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
    -- Use non-linear arithmetic to prove the inequality in each case
    nlinarith [sq_nonneg (a + b), sq_nonneg (a - b), hâ‚€]
```