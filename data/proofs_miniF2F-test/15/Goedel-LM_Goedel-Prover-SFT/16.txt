/-
  Given real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we need to show that \(ab + |a - b| \leq 1\). We start by considering the absolute value of \(a - b\). Using the properties of absolute values, we can split the proof into two cases based on the sign of \(a - b\).
  1. **Case 1: \(a - b \geq 0\)**
     - In this case, \(|a - b| = a - b\). Substituting this into the inequality, we get:
       \[
       ab + (a - b) \leq 1
       \]
     - Rearranging terms, we have:
       \[
       ab + a - b \leq 1 \implies a(b + 1) - b \leq 1 \implies a(b + 1) \leq b + 1
       \]
     - Since \(a^2 + b^2 = 1\), we can use this to bound \(a\) and \(b\). By the Cauchy-Schwarz inequality, we have:
       \[
       (a^2 + b^2)(1 + 1^2) \geq (a + b)^2 \implies 2 \geq (a + b)^2 \implies a + b \leq \sqrt{2}
       \]
     - Combining this with the fact that \(a(b + 1) \leq b + 1\), we can conclude that \(ab + |a - b| \leq 1\).
  2. **Case 2: \(a - b \leq 0\)**
     - In this case, \(|a - b| = -(a - b) = b - a\). Substituting this into the inequality, we get:
       \[
       ab + (b - a) \leq 1
       \]
     - Rearranging terms, we have:
       \[
       ab + b - a \leq 1 \implies b(a + 1) - a \leq 1 \implies b(a + 1) \leq a + 1
       \]
     - Similarly, using the Cauchy-Schwarz inequality, we have:
       \[
       (a^2 + b^2)(1 + 1^2) \geq (a + b)^2 \implies 2 \geq (a + b)^2 \implies a + b \leq \sqrt{2}
       \]
     - Combining this with the fact that \(b(a + 1) \leq a + 1\), we can conclude that \(ab + |a - b| \leq 1\).
  In both cases, we have shown that \(ab + |a - b| \leq 1\).
  -/
  -- Consider the two cases for the absolute value of (a - b)
  cases' abs_cases (a - b) with h₁ h₁ <;>
  -- Use non-linear arithmetic to solve the inequalities
  nlinarith [h₀, sq_nonneg (a + b), sq_nonneg (a - b), sq_nonneg (a + b - 2)]
```