/-
  Given real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we aim to show that \(ab + |a - b| \leq 1\). We consider different cases based on the signs of \(a - b\) and \(a + b\).
  1. **Case 1: \(a - b \geq 0\) and \(a + b \geq 0\)**
     - Here, \(|a - b| = a - b\) and \(|a + b| = a + b\).
     - The inequality becomes \(ab + (a - b) \leq 1\).
  2. **Case 2: \(a - b \geq 0\) and \(a + b \leq 0\)**
     - Here, \(|a - b| = a - b\) and \(|a + b| = -(a + b)\).
     - The inequality becomes \(ab + (a - b) \leq 1\).
  3. **Case 3: \(a - b \leq 0\) and \(a + b \geq 0\)**
     - Here, \(|a - b| = -(a - b)\) and \(|a + b| = a + b\).
     - The inequality becomes \(ab + (b - a) \leq 1\).
  4. **Case 4: \(a - b \leq 0\) and \(a + b \leq 0\)**
     - Here, \(|a - b| = -(a - b)\) and \(|a + b| = -(a + b)\).
     - The inequality becomes \(ab + (b - a) \leq 1\).
  In all cases, we use the given condition \(a^2 + b^2 = 1\) and the non-negativity of squares to derive the desired inequality. Specifically, we use the fact that the square of any real number is non-negative, and combine these facts with the given condition to conclude that the inequality holds.
  -/
  -- Consider different cases based on the signs of `a - b` and `a + b`.
  cases' le_total 0 (a - b) with h h <;> cases' le_total 0 (a + b) with h' h' <;>
    -- Simplify the absolute values based on the signs and use the given condition `a^2 + b^2 = 1`.
    simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos] <;>
    -- Use non-linear arithmetic to derive the inequality.
    nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), hâ‚€]
```