/-
  Given real numbers \(a\) and \(b\) such that \(a^2 + b^2 = 1\), we need to show that \(ab + |a - b| \leq 1\).
  1. **Case 1: \(a - b \geq 0\)**
     - Since \(a - b \geq 0\), the absolute value \(|a - b| = a - b\).
     - The inequality becomes \(ab + (a - b) \leq 1\).
     - Rearrange to \(ab + a - b \leq 1\).
     - Use the fact that \(a^2 + b^2 = 1\) and the non-negativity of squares to derive the inequality.
  2. **Case 2: \(a - b < 0\)**
     - Since \(a - b < 0\), the absolute value \(|a - b| = -(a - b) = b - a\).
     - The inequality becomes \(ab + (b - a) \leq 1\).
     - Rearrange to \(ab + b - a \leq 1\).
     - Use the fact that \(a^2 + b^2 = 1\) and the non-negativity of squares to derive the inequality.
  -/
  -- Consider two cases based on whether a - b is non-negative or negative.
  cases' le_total 0 (a - b) with h₁ h₁
  -- Case 1: a - b ≥ 0
  -- Since a - b ≥ 0, |a - b| = a - b.
  -- Substitute |a - b| with a - b in the inequality.
  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos]
  -- Use non-linear arithmetic to prove the inequality.
  nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), sq_nonneg (a + b - 1)]
  -- Case 2: a - b < 0
  -- Since a - b < 0, |a - b| = -(a - b) = b - a.
  -- Substitute |a - b| with b - a in the inequality.
  simp_all only [abs_of_nonneg, abs_of_nonpos, sub_nonneg, sub_nonpos]
  -- Use non-linear arithmetic to prove the inequality.
  nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), sq_nonneg (a + b - 1)]
```