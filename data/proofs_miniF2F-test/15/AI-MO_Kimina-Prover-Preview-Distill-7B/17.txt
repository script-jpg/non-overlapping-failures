-- -- Let $a$ and $b$ be real numbers such that $a^2+b^2=1$. Show that $ab+\lvert a-b\rvert \leq 1$.
  -- First, we consider the case when $a \geq b$.
  rcases le_or_lt a b with h | h

  -- -- When $a \geq b$, $\lvert a - b \rvert = a - b$.
  · rw [abs_of_nonneg (by linarith)]
    nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), h₀]

  -- -- Consider the case when $a < b$.
  · rw [abs_of_neg (by linarith)]
    nlinarith [sq_nonneg (a - b), sq_nonneg (a + b), h₀]

```