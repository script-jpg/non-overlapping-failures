-- -- Let $a$ and $b$ be real numbers such that $a^2+b^2=1$. Show that $ab+\lvert a-b\rvert \leq 1$.
  -- First, we consider the case when $ab \geq 0$.
  by_cases h : a * b ≥ 0
  · -- In this case, $\lvert a - b \rvert = |a - b|$, and
    rw [abs_of_nonneg h]
    -- the inequality $ab + |a - b| \leq 1$ can be rewritten as $(a - b)^2 \leq 1$.
    nlinarith [sq_nonneg (a - b), h₀]
  · -- Next, we consider the case when $ab < 0$.
    have h : a * b < 0 := by push_neg at h; exact h
    -- In this case, $\lvert a - b \rvert = |b - a|$, and
    rw [abs_of_neg (sub_neg.mpr h)]
    -- the inequality $ab + |a - b| \leq 1$ can be rewritten as $(a + b)^2 \leq 1$.
    nlinarith [sq_nonneg (a + b), h₀]

```