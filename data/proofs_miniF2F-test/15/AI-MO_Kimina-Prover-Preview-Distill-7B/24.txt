-- We have $(a-b)^2 \geq 0$.
  have h₁ : (a - b) ^ 2 ≥ 0 := by
    exact sq_nonneg (a - b)

  -- We have $(a+b)^2 \leq 4$.
  have h₂ : (a + b) ^ 2 ≤ 4 := by
    have h₂ : (a + b) ^ 2 ≤ (a ^ 2 + b ^ 2) * 2 := by
      rw [sq, sq]
      linarith only [sq_nonneg (a - b)]
    rw [h₀] at h₂
    linarith only [h₂]

  -- We have $|ab + |a-b|| \leq 1$.
  have h₃ : abs (a * b + abs (a - b)) ≤ 1 := by
    cases' le_or_lt 0 (a * b + abs (a - b)) with h h <;> simp [h] <;> linarith only [h₁, h₂]

  -- We have $ab + |a-b| \leq 1$.
  cases' le_or_lt 0 (a * b + abs (a - b)) with h h <;> simp [h] <;> linarith only [h₃]

```