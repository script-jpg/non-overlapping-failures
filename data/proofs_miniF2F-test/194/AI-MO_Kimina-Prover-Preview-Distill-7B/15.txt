-- All roots are positive integers, so we have $a = - (r_1 + r_2 + r_3 + r_4 + r_5 + r_6)$, $b = r_1r_2 + r_1r_3 + \cdots + r_5r_6$.
  have n_roots : ∀ n : ℕ, n ≤ 6 → ∃ r : ℕ, r ≤ 6 ∧ f r = 0 ∧ 0 < r ∧ ↑(Int.floor r) = r := by
    intro n hn
    induction' n with n ih
    · use 0
      exact ⟨by linarith, by linarith⟩
    · induction' n with n hn
      · obtain ⟨r, hr, hrpos, hrfloor⟩ := ih (by linarith)
        use r + 1
        exact ⟨by linarith, by linarith⟩
      · obtain ⟨r, hr, hrpos, hrfloor⟩ := ih (by linarith)
        use r + 1
        exact ⟨by linarith, by linarith⟩
  obtain ⟨r0, h0, r0pos, hr0floor⟩ := n_roots 0 (by linarith)
  obtain ⟨r1, h1, r1pos, hr1floor⟩ := n_roots 1 (by linarith)
  obtain ⟨r2, h2, r2pos, hr2floor⟩ := n_roots 2 (by linarith)
  obtain ⟨r3, h3, r3pos, hr3floor⟩ := n_roots 3 (by linarith)
  obtain ⟨r4, h4, r4pos, hr4floor⟩ := n_roots 4 (by linarith)
  obtain ⟨r5, h5, r5pos, hr5floor⟩ := n_roots 5 (by linarith)
  obtain ⟨r6, h6, r6pos, hr6floor⟩ := n_roots 6 (by linarith)

  -- We have $r_1r_2r_3r_4r_5r_6 = 16$ and $r_i \le 6$ for all $i$.
  have hr0 : r0 = 1 := by
    simp [h0] at h6
    norm_cast at h6
    have : r0 ≤ 6 := by omega
    interval_cases r0
    · simp [hr6floor] at h6
    · simp [hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith
  have hr1 : r1 = 1 := by
    simp [h1] at h6
    norm_cast at h6
    have : r1 ≤ 6 := by omega
    interval_cases r1
    · simp [hr6floor] at h6
    · simp [hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith
  have hr2 : r2 = 2 := by
    simp [h2] at h6
    norm_cast at h6
    have : r2 ≤ 6 := by omega
    interval_cases r2
    · simp [hr6floor] at h6
    · simp [hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith
  have hr3 : r3 = 2 := by
    simp [h3] at h6
    norm_cast at h6
    have : r3 ≤ 6 := by omega
    interval_cases r3
    · simp [hr6floor] at h6
    · simp [hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith
  have hr4 : r4 = 2 := by
    simp [h4] at h6
    norm_cast at h6
    have : r4 ≤ 6 := by omega
    interval_cases r4
    · simp [hr6floor] at h6
    · simp [hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr5floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith
  have hr5 : r5 = 2 := by
    simp [h5] at h6
    norm_cast at h6
    have : r5 ≤ 6 := by omega
    interval_cases r5
    · simp [hr6floor] at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr6floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith
  have hr6 : r6 = 4 := by
    simp [h6]
    norm_cast
    have : r6 ≤ 6 := by omega
    interval_cases r6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor] at h6
      norm_num at h6
    · simp [hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
      norm_num at h6
    all_goals linarith

  -- We have $r_1 + r_2 + r_3 + r_4 + r_5 + r_6 = 10$ and $r_1r_2r_3r_4r_5 + r_1r_2r_3r_4r_6 + r_1r_2r_3r_4r_5 + r_1r_2r_3r_5r_6 + r_1r_2r_4r_5r_6 + r_1r_3r_4r_5r_6 + r_2r_3r_4r_5r_6 = -b$.
  simp [h0, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h6
  ring_nf at h6
  simp [h1, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h5
  ring_nf at h5
  simp [h2, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h4
  ring_nf at h4
  simp [h3, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h3
  ring_nf at h3
  simp [h4, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h2
  ring_nf at h2
  simp [h5, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h1
  ring_nf at h1
  simp [h6, hr0floor, hr1floor, hr2floor, hr3floor, hr4floor, hr5floor, hr6floor] at h0
  ring_nf at h0
  linarith
```