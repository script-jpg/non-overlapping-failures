-- 由 AM-GM 不等式得
  -- $a^2 / b + b \geq 2a$
  have t₀ {a b : ℝ} (h : 0 < a) (h₁ : 0 < b) : a ^ 2 / b + b ≥ 2 * a := by
    have t : a ^ 2 / b + b - 2 * a ≥ 0 := by
      calc
        _ = (a ^ 2 + b ^ 2 - 2 * a * b) / b := by
          field_simp
          ring_nf
        _ = (b - a) ^ 2 / b := by ring_nf
        _ ≥ 0 := by
          apply div_nonneg
          · apply pow_two_nonneg
          · linarith
    linarith

  -- $b^2 / c + c \geq 2b$
  have t₁ {b c : ℝ} (h : 0 < b) (h₁ : 0 < c) : b ^ 2 / c + c ≥ 2 * b := by
    have t : b ^ 2 / c + c - 2 * b ≥ 0 := by
      calc
        _ = (b ^ 2 + c ^ 2 - 2 * b * c) / c := by
          field_simp
          ring_nf
        _ = (c - b) ^ 2 / c := by ring_nf
        _ ≥ 0 := by
          apply div_nonneg
          · apply pow_two_nonneg
          · linarith
    linarith

  -- $c^2 / d + d \geq 2c$
  have t₂ {c d : ℝ} (h : 0 < c) (h₁ : 0 < d) : c ^ 2 / d + d ≥ 2 * c := by
    have t : c ^ 2 / d + d - 2 * c ≥ 0 := by
      calc
        _ = (c ^ 2 + d ^ 2 - 2 * c * d) / d := by
          field_simp
          ring_nf
        _ = (d - c) ^ 2 / d := by ring_nf
        _ ≥ 0 := by
          apply div_nonneg
          · apply pow_two_nonneg
          · linarith
    linarith

  -- $d^2 / a + a \geq 2d$
  have t₃ {d a : ℝ} (h : 0 < d) (h₁ : 0 < a) : d ^ 2 / a + a ≥ 2 * d := by
    have t : d ^ 2 / a + a - 2 * d ≥ 0 := by
      calc
        _ = (d ^ 2 + a ^ 2 - 2 * d * a) / a := by
          field_simp
          ring_nf
        _ = (a - d) ^ 2 / a := by ring_nf
        _ ≥ 0 := by
          apply div_nonneg
          · apply pow_two_nonneg
          · linarith
    linarith

  -- 因此 $a^2 / b + b^2 / c + c^2 / d + d^2 / a \geq a + b + c + d$
  have t₄ : a ^ 2 / b + b ^ 2 / c + c ^ 2 / d + d ^ 2 / a ≥ a + b + c + d := by
    have ⟨ha, hb, hc, hd⟩ := h₀
    linarith [t₀ ha hb, t₁ hb hc, t₂ hc hd, t₃ hd ha]

  exact t₄
```