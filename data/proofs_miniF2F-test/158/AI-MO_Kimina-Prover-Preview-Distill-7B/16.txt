-- 证明四个正实数的平方和除以轮换变量的和大于等于变量的和
  -- 令 s1 = a ^ 2 / b，s2 = b ^ 2 / c，s3 = c ^ 2 / d，s4 = d ^ 2 / a
  let s1 := a ^ 2 / b
  let s2 := b ^ 2 / c
  let s3 := c ^ 2 / d
  let s4 := d ^ 2 / a

  -- 原不等式等价于 s1 + s2 + s3 + s4 ≥ a + b + c + d
  suffices s1 + s2 + s3 + s4 ≥ a + b + c + d by
    exact this

  -- 将代数式变形为部分分式之和的形式
  have h1 : a ^ 2 / b + b ^ 2 / c + c ^ 2 / d + d ^ 2 / a - (a + b + c + d) =
      (a - b) ^ 2 / (a * b) + (b - c) ^ 2 / (b * c) + (c - d) ^ 2 / (c * d) + (d - a) ^ 2 / (d * a) := by
    field_simp
    ring

  -- 证明平方非负
  have h2 : (a - b) ^ 2 ≥ 0 := by exact sq_nonneg (a - b)
  have h3 : (b - c) ^ 2 ≥ 0 := by exact sq_nonneg (b - c)
  have h4 : (c - d) ^ 2 ≥ 0 := by exact sq_nonneg (c - d)
  have h5 : (d - a) ^ 2 ≥ 0 := by exact sq_nonneg (d - a)

  -- 各分母正
  have h6 : a * b > 0 := by exact mul_pos h₀.1 h₀.2.1
  have h7 : b * c > 0 := by exact mul_pos h₀.2.1 h₀.2.2.1
  have h8 : c * d > 0 := by exact mul_pos h₀.2.2.1 h₀.2.2.2
  have h9 : d * a > 0 := by exact mul_pos h₀.2.2.2 h₀.1

  -- 各分式的和非负
  have h10 : (a - b) ^ 2 / (a * b) + (b - c) ^ 2 / (b * c) + (c - d) ^ 2 / (c * d) + (d - a) ^ 2 / (d * a) ≥ 0 := by
    apply add_nonneg
    apply add_nonneg
    apply add_nonneg
    · apply div_nonneg h2 (by linarith)
    · apply div_nonneg h5 (by linarith)
    · apply div_nonneg h4 (by linarith)
    · apply div_nonneg h3 (by linarith)

  -- 只需证明部分分式之和非负
  linarith

```