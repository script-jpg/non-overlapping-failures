/-
  Given two different positive numbers \(a\) and \(b\), each of which differs from their reciprocals by 1, we need to show that \(a + b = \sqrt{5}\).
  1. From the given conditions, we have:
     \[
     |a - \frac{1}{a}| = 1 \quad \text{and} \quad |b - \frac{1}{b}| = 1
     \]
  2. Since \(a\) and \(b\) are positive, we can use the properties of absolute values to split these into two cases:
     \[
     a - \frac{1}{a} = 1 \quad \text{or} \quad a - \frac{1}{a} = -1
     \]
     Similarly, \(b - \frac{1}{b} = 1\) or \(b - \frac{1}{b} = -1\).
  3. Solving these equations, we find:
     \[
     a = \frac{1}{a} + 1 \quad \text{or} \quad a = \frac{1}{a} - 1
     \]
     and similarly for \(b\):
     \[
     b = \frac{1}{b} + 1 \quad \text{or} \quad b = \frac{1}{b} - 1
     \]
  4. Given \(a \neq b\), we can deduce that the only consistent solution is:
     \[
     a = \frac{1}{a} + 1 \quad \text{and} \quad b = \frac{1}{b} - 1
     \]
  5. Adding these two equations, we get:
     \[
     a + b = \left(\frac{1}{a} + 1\right) + \left(\frac{1}{b} - 1\right) = \frac{1}{a} + \frac{1}{b}
     \]
  6. Since \(a\) and \(b\) are positive, we can use the fact that the sum of two reciprocals of positive numbers is greater than 2, and the only solution that satisfies the given conditions is \(a + b = \sqrt{5}\).
  -/
  -- We need to show that a + b = sqrt(5).
  have h₀ : a + b = Real.sqrt 5 := by
    -- We will use the properties of absolute values to split into cases.
    have h₄ : a + b = Real.sqrt 5 := by
      -- Consider the cases for the signs of a - 1/a and b - 1/b.
      cases' abs_cases (a - 1 / a) with ha ha <;> cases' abs_cases (b - 1 / b) with hb hb <;>
        -- Simplify the expressions using the properties of absolute values.
        field_simp [abs_of_nonneg, abs_of_nonpos, h₀.1.ne', h₀.2.ne', h₁] at ha hb <;>
          -- Use linear arithmetic to solve for a + b.
          nlinarith [sq_sqrt (show 0 ≤ 5 by norm_num), sq_nonneg (a - b), ha, hb]
    -- The result follows from the derived equation.
    exact h₄
  -- The final result is obtained.
  exact h₀
```