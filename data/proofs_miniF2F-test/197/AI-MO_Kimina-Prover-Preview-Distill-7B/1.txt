-- We consider the equation $x - 1/x = 1$ and show that it has two solutions, $a$ and $b$.
  -- Clear denominators in the equation to get $x^2 - 1 = x$.
  have h₀a : a^2 - 1 = a := by
    apply_fun (· * a) at h₂
    case eq_or_eq_neg_of_abs_eq h₂ with
    | inl h₂ => linarith
    | inr h₂ => linarith
  -- We show that $a$ is positive and hence $a = \sqrt 5 / 2 + 3 / 2$.
  have h₀apos : 0 < a := h₀.1
  rw [show 0 ≤ a by positivity] at h₂
  apply_fun (· + 1) at h₂
  rw [show a ^ 2 = (a ^ 2 - 1) + 1 by ring] at h₂
  rw [h₀a] at h₂
  have h₁ : (a - 1/2) ^ 2 = (Real.sqrt 5 / 2) ^ 2 := by
    field_simp
    linarith
  rw [sq_eq_sq_iff_abs_eq_abs, abs_of_nonneg (show 0 ≤ Real.sqrt 5 / 2 by positivity)] at h₁
  have h₄ : a = Real.sqrt 5 / 2 + 3 / 2 := by
    cases h₁ with
    | inl h₁ => linarith
    | inr h₁ => linarith
  -- Now we consider the equation for $b$.
  have h₀b : b ^ 2 - 1 = b := by
    apply_fun (· * b) at h₃
    case eq_or_eq_neg_of_abs_eq h₃ with
    | inl h₃ => linarith
    | inr h₃ => linarith
  -- We show that $b$ is positive and hence $b = \sqrt 5 / 2 - 3 / 2$.
  have h₀bpos : 0 < b := h₀.2
  rw [show 0 ≤ b by positivity] at h₃
  apply_fun (· + 1) at h₃
  rw [show b ^ 2 = (b ^ 2 - 1) + 1 by ring] at h₃
  rw [h₀b] at h₃
  have h₁ : (b - 1/2) ^ 2 = (Real.sqrt 5 / 2) ^ 2 := by
    field_simp
    linarith
  rw [sq_eq_sq_iff_abs_eq_abs, abs_of_nonneg (show 0 ≤ Real.sqrt 5 / 2 by positivity)] at h₁
  have h₅ : b = Real.sqrt 5 / 2 - 3 / 2 := by
    cases h₁ with
    | inl h₁ => linarith
    | inr h₁ => linarith
  -- We check that $a + b = \sqrt 5$.
  rw [h₄, h₅]
  ring
```