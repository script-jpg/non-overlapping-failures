-- We have $a>0$, $b>0$, and both $a$ and $b$ differ from their reciprocals by 1.
  -- We want to show that $a+b=\sqrt 5$.

  -- Let's first consider the reciprocal condition.
  -- It tells us that $a-1/a=1$ or $a-1/a=-1$.
  cases' abs_cases (a - 1 / a) with h h <;> cases' abs_cases (b - 1 / b) with h' h' <;>
    linarith

  -- The first case is impossible.
  -- It would mean $a-1/a=1$ and $b-1/b=1$.
  -- Then $a$ and $b$ both solve the equation $x-1/x=1$.
  -- But this equation has only one positive solution.
  -- So $a=b$, contradicting our assumption.
  rename_i h₃
  cases' abs_cases (a - 1 / a) with h h <;> cases' abs_cases (b - 1 / b) with h' h' <;>
    contradiction

  -- Now we have four cases.
  -- In all of them, we can rewrite $a-1/a=1$ as $a^2-a-1=0$.
  -- So $a$ is a solution to the quadratic equation $x^2-x-1=0$.
  -- The solutions are $x=(1+\sqrt 5)/2$ and $x=(1-\sqrt 5)/2$.
  -- But since $x>0$, we have $x=(1+\sqrt 5)/2$.
  rw [sub_eq_iff_eq_add, one_mul, ← add_div] at h₂ h₃
  rw [div_sub_div_same] at h₂ h₃
  rw [← neg_one_mul, ← neg_sub, neg_eq_iff_eq_neg, ← sub_eq_zero] at h₂ h₃
  have h₄ : a ≠ 0 := by linarith
  have h₅ : b ≠ 0 := by linarith
  field_simp at h₂ h₃
  have h₆ : a = (1 + Real.sqrt 5) / 2 ∨ a = (1 - Real.sqrt 5) / 2 := by
    apply mul_self_eq_mul_self_iff.mp
    rw [← one_mul (a * a), ← sub_eq_zero]
    rw [← h₂]
    ring_nf
    rw [Real.sq_sqrt (by norm_num)]
    ring_nf
  have h₇ : b = (1 + Real.sqrt 5) / 2 ∨ b = (1 - Real.sqrt 5) / 2 := by
    apply mul_self_eq_mul_self_iff.mp
    rw [← one_mul (b * b), ← sub_eq_zero]
    rw [← h₃]
    ring_nf
    rw [Real.sq_sqrt (by norm_num)]
    ring_nf
  -- This would imply $a=b$, contradicting our assumption.
  cases' h₆ with h₆ h₆ <;> cases' h₇ with h₇ h₇
  any_goals
    contradiction

  -- In the remaining cases, $a$ and $b$ are $(1+\sqrt 5)/2$ and $(1-\sqrt 5)/2$ in some order.
  -- So $a+b=1+\sqrt 5/2+1/2-\sqrt 5/2)=\sqrt 5$.
  rw [h₆, h₇]
  ring
```