-- We have $a>0$, $b>0$, and each of $a$ and $b$ differs from its reciprocal by 1.
  -- We want to show that $a + b = \sqrt{5}$.

  -- It's clear that $a$ and $b$ are either $1/2 + \sqrt{5}/2$ or $1/2 - \sqrt{5}/2$.
  have ha : (a = 1 / 2 + Real.sqrt 5 / 2) ∨ (a = 1 / 2 - Real.sqrt 5 / 2) := by
    have h := h₂
    rw [abs_eq] at h
    obtain (r | r) := h
    · -- If $a - 1 / a = 1$, then $a^2 - 1 = a$.
      have h' : a ^ 2 - 1 = a := by
        field_simp at r
        nth_rw 1 [← one_mul a] at r
        rw [mul_comm, ← sub_mul, ← pow_two] at r
        rwa [sub_eq_zero]
      -- Solve the quadratic equation $a^2 - 1 = a$.
      have h'' : (a - 1 / 2 - Real.sqrt 5 / 2) * (a - 1 / 2 + Real.sqrt 5 / 2) = 0 := by
        ring_nf
        rw [Real.sq_sqrt] <;> linarith
        norm_num
      rw [mul_eq_zero] at h''
      obtain (r' | r') := h''
      · -- If $a - 1/2 - \sqrt{5}/2 = 0$, then $a = 1/2 + \sqrt{5}/2$.
        left
        linarith
      · -- If $a - 1/2 + \sqrt{5}/2 = 0$, then $a = 1/2 - \sqrt{5}/2$.
        right
        linarith
    · -- If $1 / a - a = 1$, then $a^2 - 1 = -a$.
      have h' : a ^ 2 - 1 = -a := by
        field_simp at r
        nth_rw 1 [← one_mul a] at r
        rw [mul_comm, ← sub_mul, ← pow_two] at r
        rwa [sub_eq_zero]
      -- Solve the quadratic equation $a^2 - 1 = -a$.
      have h'' : (a - 1 / 2 - Real.sqrt 5 / 2) * (a - 1 / 2 + Real.sqrt 5 / 2) = 0 := by
        ring_nf
        rw [Real.sq_sqrt] <;> linarith
        norm_num
      rw [mul_eq_zero] at h''
      obtain (r' | r') := h''
      · -- If $a - 1/2 - \sqrt{5}/2 = 0$, then $a = 1/2 + \sqrt{5}/2$.
        left
        linarith
      · -- If $a - 1/2 + \sqrt{5}/2 = 0$, then $a = 1/2 - \sqrt{5}/2$.
        right
        linarith
  have hb : (b = 1 / 2 + Real.sqrt 5 / 2) ∨ (b = 1 / 2 - Real.sqrt 5 / 2) := by
    have h := h₃
    rw [abs_eq] at h
    obtain (r | r) := h
    · -- If $b - 1 / b = 1$, then $b^2 - 1 = b$.
      have h' : b ^ 2 - 1 = b := by
        field_simp at r
        nth_rw 1 [← one_mul b] at r
        rw [mul_comm, ← sub_mul, ← pow_two] at r
        rwa [sub_eq_zero]
      -- Solve the quadratic equation $b^2 - 1 = b$.
      have h'' : (b - 1 / 2 - Real.sqrt 5 / 2) * (b - 1 / 2 + Real.sqrt 5 / 2) = 0 := by
        ring_nf
        rw [Real.sq_sqrt] <;> linarith
        norm_num
      rw [mul_eq_zero] at h''
      obtain (r' | r') := h''
      · -- If $b - 1/2 - \sqrt{5}/2 = 0$, then $b = 1/2 + \sqrt{5}/2$.
        left
        linarith
      · -- If $b - 1/2 + \sqrt{5}/2 = 0$, then $b = 1/2 - \sqrt{5}/2$.
        right
        linarith
    · -- If $1 / b - b = 1$, then $b^2 - 1 = -b$.
      have h' : b ^ 2 - 1 = -b := by
        field_simp at r
        nth_rw 1 [← one_mul b] at r
        rw [mul_comm, ← sub_mul, ← pow_two] at r
        rwa [sub_eq_zero]
      -- Solve the quadratic equation $b^2 - 1 = -b$.
      have h'' : (b - 1 / 2 - Real.sqrt 5 / 2) * (b - 1 / 2 + Real.sqrt 5 / 2) = 0 := by
        ring_nf
        rw [Real.sq_sqrt] <;> linarith
        norm_num
      rw [mul_eq_zero] at h''
      obtain (r' | r') := h''
      · -- If $b - 1/2 - \sqrt{5}/2 = 0$, then $b = 1/2 + \sqrt{5}/2$.
        left
        linarith
      · -- If $b - 1/2 + \sqrt{5}/2 = 0$, then $b = 1/2 - \sqrt{5}/2$.
        right
        linarith

  -- We know that $a \neq b$. So $a + b = 1/2 + \sqrt{5}/2 + 1/2 - \sqrt{5}/2 = 1$.
  obtain (r | r) := ha
  · obtain (r' | r') := hb
    · -- If $a = 1/2 + \sqrt{5}/2$ and $b = 1/2 + \sqrt{5}/2$, then $a = b$, contradiction.
      exfalso
      exact h₀.symm (by linarith)
    · -- If $a = 1/2 + \sqrt{5}/2$ and $b = 1/2 - \sqrt{5}/2$, then $a + b = 1$.
      rw [r, r']
      ring
  · obtain (r' | r') := hb
    · -- If $a = 1/2 - \sqrt{5}/2$ and $b = 1/2 + \sqrt{5}/2$, then $a + b = 1$.
      rw [r, r']
      ring
    · -- If $a = 1/2 - \sqrt{5}/2$ and $b = 1/2 - \sqrt{5}/2$, then $a = b$, contradiction.
      exfalso
      exact h₀.symm (by linarith)

```