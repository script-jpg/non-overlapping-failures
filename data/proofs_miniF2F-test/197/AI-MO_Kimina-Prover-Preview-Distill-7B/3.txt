-- We have $a>0$, $b>0$, and both $a$ and $b$ differ from their reciprocals by 1.
  -- We want to show that $a+b=\sqrt 5$.

  -- For $a$, we have $a-1/a=1$ or $a+1/a=-1$. The second equation has no solution.
  have ha : a - 1 / a = 1 := by
    cases abs_cases (a - 1 / a) with
    | inl h => linarith
    | inr h => have : a < 0 := by linarith
               linarith

  -- For $b$, we have $b-1/b=1$ or $b+1/b=-1$. The second equation has no solution.
  have hb : b - 1 / b = 1 := by
    cases abs_cases (b - 1 / b) with
    | inl h => linarith
    | inr h => have : b < 0 := by linarith
               linarith

  -- We have $a^2 - 1 = a$ and $b^2 - 1 = b$.
  have ha' : a^2 - 1 = a := by
    field_simp at ha
    linarith
  have hb' : b^2 - 1 = b := by
    field_simp at hb
    linarith

  -- We have $a^2 - b^2 = a - b$.
  have hab : a^2 - b^2 = a - b := by
    linarith

  -- We have $a + b = 1$ or $a + b = -1$.
  have : a + b = 1 âˆ¨ a + b = -1 := by
    apply eq_or_eq_neg_of_sq_eq_sq
    linarith

  -- Because $a>0$ and $b>0$, we have $a + b = 1$.
  cases this with
  | inl h => linarith
  | inr h => linarith
```