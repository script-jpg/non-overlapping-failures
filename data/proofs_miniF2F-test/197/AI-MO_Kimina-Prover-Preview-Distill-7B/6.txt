-- We have $a>0$, $b>0$, $a\neq b$ and $|x-1/x|=1$ where $x=a$ or $x=b$.
  -- We need to show that $a+b=\sqrt{5}$.

  -- Two cases for $a$.
  have ha : (a = 1 / 2 + Real.sqrt 5 / 2 ∨ a = 1 / 2 - Real.sqrt 5 / 2) := by
    cases' abs_cases (a - 1 / a) with h h <;> simp_all
    -- If $a-1/a$ is positive then $a=1/a+1$ so $a^2-2a-1=0$.
    any_goals
      apply_fun fun t => t * a at h
      field_simp at h
      linear_combination -h
    -- If $a-1/a$ is negative then $a=1/a-1$ so $a^2+2a-1=0$.
    any_goals
      apply_fun fun t => t * a at h
      field_simp at h
      linear_combination -h

  -- Two cases for $b$.
  have hb : (b = 1 / 2 + Real.sqrt 5 / 2 ∨ b = 1 / 2 - Real.sqrt 5 / 2) := by
    cases' abs_cases (b - 1 / b) with h h <;> simp_all
    -- If $b-1/b$ is positive then $b=1/b+1$ so $b^2-2b-1=0$.
    any_goals
      apply_fun fun t => t * b at h
      field_simp at h
      linear_combination -h
    -- If $b-1/b$ is negative then $b=1/b-1$ so $b^2+2b-1=0$.
    any_goals
      apply_fun fun t => t * b at h
      field_simp at h
      linear_combination -h

  -- $a$ and $b$ are different and exactly four numbers of the form
  -- $1/2\pm\sqrt5/2$ are given. It is easy to check that $a+b=\sqrt5$ is the only possible solution.
  rcases ha with (ha | ha) <;> rcases hb with (hb | hb) <;> simp_all
  any_goals
    apply_fun fun t => t - b at ha
    rw [sub_eq_zero] at ha
    any_goals
      rw [ha] at hb
      apply_fun fun t => t + b at hb
      simp at hb
    ring_nf at ha
    rw [ha] at hb
    apply_fun fun t => t + b at hb
    simp at hb
    ring_nf at hb
    rw [hb]
    ring_nf
    repeat rw [Real.sq_sqrt (by norm_num)]
    ring_nf
```