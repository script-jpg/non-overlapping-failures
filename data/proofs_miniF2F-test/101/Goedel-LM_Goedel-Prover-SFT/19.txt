/-
  We need to determine the function \( f(x, y) \) defined by the following properties:
  1. \( f(0, y) = y + 1 \)
  2. \( f(x + 1, 0) = f(x, 1) \)
  3. \( f(x + 1, y + 1) = f(x, f(x + 1, y)) \)
  for all non-negative integers \( x \) and \( y \). We aim to find \( f(4, 1981) \).
  First, we use the properties to derive specific values of \( f \).
  From property 1:
  \[ f(0, y) = y + 1 \]
  From property 2:
  \[ f(x + 1, 0) = f(x, 1) \]
  From property 3:
  \[ f(x + 1, y + 1) = f(x, f(x + 1, y)) \]
  Using these properties, we can compute \( f \) for the first few values:
  \[ f(1, 1) = f(0, f(1, 0)) = f(0, 1) = 1 + 1 = 2 \]
  \[ f(2, 1) = f(1, f(2, 0)) = f(1, 1) = 2 \]
  \[ f(3, 1) = f(2, f(3, 0)) = f(2, 2) = 2 \]
  \[ f(4, 1) = f(3, f(4, 0)) = f(3, 2) = 2 \]
  Given the recursive nature, we can infer that \( f(x, y) \) is a constant function that simplifies the problem by reducing the complexity of the recursive definitions. Given the constraints and the properties, we can deduce that:
  \[ f(4, 1981) = 2^{f(4, 1980) + 3} - 3 \]
  This can be verified by induction or by solving the system of equations derived from the properties.
  -/
  intro y
  -- Use the properties to derive specific values of f
  have h₃ := h₂ 0 0
  have h₄ := h₂ 1 0
  have h₅ := h₂ 2 0
  have h₆ := h₂ 3 0
  have h₇ := h₂ 4 0
  have h₈ := h₂ 0 1
  have h₉ := h₂ 1 1
  have h₁₀ := h₂ 2 1
  have h₁₁ := h₂ 3 1
  have h₁₂ := h₂ 4 1
  have h₁₃ := h₂ 0 2
  have h₁₄ := h₂ 1 2
  have h₁₅ := h₂ 2 2
  have h₁₆ := h₂ 3 2
  have h₁₇ := h₂ 4 2
  have h₁₈ := h₂ 0 3
  have h₁₉ := h₂ 1 3
  have h₂₀ := h₂ 2 3
  have h₂₁ := h₂ 3 3
  have h₂₂ := h₂ 4 3
  have h₂₃ := h₂ 0 4
  have h₂₄ := h₂ 1 4
  have h₂₅ := h₂ 2 4
  have h₂₆ := h₂ 3 4
  have h₂₇ := h₂ 4 4
  -- Simplify the expressions using the given properties
  simp_all
```