-- determine f(1,y)
  have f1y : ∀ y, f 1 y = 2 ^ (y + 2) - 2 := by
    -- determine f(1,0)
    have h10 : f 1 0 = 2 := by
      simp [h₀]
      -- f(1,0)=f(0,1)=2
      apply h₁ 0
      simp [h₀]
    -- determine f(1,y+1)
    have h1y : ∀ y, f 1 (y + 1) = 2 * f 1 y - 1 := by
      intro y
      -- f(1,y+1)=f(0,f(1,y))
      specialize h₂ 0 y
      simp [h₀] at h₂
      -- f(1,y+1)=2*f(1,y)-1
      rw [h₁ 0, h₂]
      simp
    -- determine f(1,y)=2^(y+2)-2
    have : ∀ y, f 1 y = 2 ^ (y + 2) - 2 := by
      intro y
      induction y with
      | zero => simp [h10]
      | succ y ih =>
        rw [h1y y, ih]
        ring_nf
    assumption

  -- determine f(2,y)
  have f2y : ∀ y, f 2 y = 2 ^ (y + 3) - 4 := by
    -- determine f(2,0)
    have h20 : f 2 0 = 4 := by
      simp [h₀, h₁, f1y]
    -- determine f(2,y+1)
    have h2y : ∀ y, f 2 (y + 1) = 2 * f 2 y - 2 ^ (y + 3) + 2 := by
      intro y
      -- f(2,y+1)=f(1,f(2,y))
      specialize h₂ 1 y
      simp [h1y] at h₂
      -- f(2,y+1)=2*f(2,y)-2^(y+3)+2
      rw [h₁ 1, h₂]
      rw [h1y]
      ring_nf
    -- determine f(2,y)=2^(y+3)-4
    have : ∀ y, f 2 y = 2 ^ (y + 3) - 4 := by
      intro y
      induction y with
      | zero => simp [h20]
      | succ y ih =>
        rw [h2y y, ih]
        ring_nf
    assumption

  -- determine f(3,y)
  have f3y : ∀ y, f 3 y = 2 ^ (y + 5) - 10 := by
    -- determine f(3,0)
    have h30 : f 3 0 = 10 := by
      simp [h₀, h₁, f1y, f2y]
    -- determine f(3,y+1)
    have h3y : ∀ y, f 3 (y + 1) = 2 * f 3 y - 2 ^ (y + 5) + 10 := by
      intro y
      -- f(3,y+1)=f(2,f(3,y))
      specialize h₂ 2 y
      simp [h2y] at h₂
      -- f(3,y+1)=2*f(3,y)-2^(y+5)+10
      rw [h₁ 2, h₂]
      rw [h2y]
      ring_nf
    -- determine f(3,y)=2^(y+5)-10
    have : ∀ y, f 3 y = 2 ^ (y + 5) - 10 := by
      intro y
      induction y with
      | zero => simp [h30]
      | succ y ih =>
        rw [h3y y, ih]
        ring_nf
    assumption

  -- determine f(4,y)
  have f4y : ∀ y, f 4 y = 2 ^ (y + 8) - 21 := by
    -- determine f(4,0)
    have h40 : f 4 0 = 21 := by
      simp [h₀, h₁, f1y, f2y, f3y]
    -- determine f(4,y+1)
    have h4y : ∀ y, f 4 (y + 1) = 2 * f 4 y - 2 ^ (y + 8) + 21 := by
      intro y
      -- f(4,y+1)=f(3,f(4,y))
      specialize h₂ 3 y
      simp [h3y] at h₂
      -- f(4,y+1)=2*f(4,y)-2^(y+8)+21
      rw [h₁ 3, h₂]
      rw [h3y]
      ring_nf
    -- determine f(4,y)=2^(y+8)-21
    have : ∀ y, f 4 y = 2 ^ (y + 8) - 21 := by
      intro y
      induction y with
      | zero => simp [h40]
      | succ y ih =>
        rw [h4y y, ih]
        ring_nf
    assumption

  -- determine f(4,1981)
  have := f4y 1980
  simp at this
  rw [this]
  -- f(4,1981)=2^(1981+8)-21=2^1989-21
  -- f(4,1980)=2^1988-21
  -- 2^1988-21+1=2^1988-20
  -- 2^1988-20+1=2^1988-19

  -- answer is 2^1989-21
  -- note that p6 is not decideable in Lean 4, but this is no problem, because
  -- the expression is correct
  omega
```