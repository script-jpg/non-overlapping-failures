/-
  We need to show that for any positive real numbers \(a\) and \(b\) and a positive integer \(n\), the inequality \(\left(\frac{a + b}{2}\right)^n \leq \frac{a^n + b^n}{2}\) holds.
  1. **Base Case**: When \(n = 1\), the inequality simplifies to \(\left(\frac{a + b}{2}\right)^1 \leq \frac{a^1 + b^1}{2}\), which is equivalent to \(\frac{a + b}{2} \leq \frac{a + b}{2}\). This is trivially true.
  2. **Inductive Step**: Assume the inequality holds for some \(n = k\), i.e., \(\left(\frac{a + b}{2}\right)^k \leq \frac{a^k + b^k}{2}\). We need to show it holds for \(n = k + 1\).
     - Start with the left-hand side of the inequality for \(n = k + 1\):
       \[
       \left(\frac{a + b}{2}\right)^{k+1} = \left(\frac{a + b}{2}\right)^k \cdot \frac{a + b}{2}
       \]
     - Using the inductive hypothesis:
       \[
       \left(\frac{a + b}{2}\right)^k \cdot \frac{a + b}{2} \leq \frac{a^k + b^k}{2} \cdot \frac{a + b}{2}
       \]
     - Simplify the right-hand side:
       \[
       \frac{a^k + b^k}{2} \cdot \frac{a + b}{2} = \frac{a^{k+1} + b^{k+1}}{2}
       \]
     - Thus, we have:
       \[
       \left(\frac{a + b}{2}\right)^{k+1} \leq \frac{a^{k+1} + b^{k+1}}{2}
       \]
     - This completes the inductive step.
  By induction, the inequality \(\left(\frac{a + b}{2}\right)^n \leq \frac{a^n + b^n}{2}\) holds for all positive integers \(n\).
  -/
  induction n with
  | zero =>
    -- Base case: When n = 0, the inequality simplifies to (a + b) / 2 ≤ (a + b) / 2, which is trivially true.
    simp
  | succ n ih =>
    -- Inductive step: Assume the inequality holds for n = k, i.e., (a + b) / 2 ≤ (a ^ k + b ^ k) / 2.
    -- We need to show it holds for n = k + 1.
    simp only [pow_succ, Nat.cast_succ, Nat.cast_zero, add_assoc] at ih ⊢
    -- Simplify the expressions and use the inductive hypothesis.
    norm_num at ih ⊢
    -- Normalize the numerical expressions.
    nlinarith [sq_nonneg (a - b)]
    -- Use the fact that the square of any real number is non-negative to conclude the proof.
```