have h₂ : 0 < a + b := by linarith only [h₀.1, h₀.2]

  -- The arithmetic mean of $a$ and $b$ is less than or equal to the $n$-th root of the arithmetic mean of $a^n$ and $b^n$.
  have h₃ : (a + b) / 2 ≤ (a ^ n + b ^ n) / 2 := by
    -- The $n$-th power function is convex for $n \geq 1$.
    -- This is a special case of the ** convex hull ** property.
    -- [ convex function](https://en.wikipedia.org/wiki/Convex_function)
    -- Jensen's inequality
    have h₄ : ((a + b) / 2) ^ n ≤ (a ^ n + b ^ n) / 2 := by
      -- This can be proved by considering the convexity of the $n$-th power function.
      -- The function $f(x) = x^n$ is convex for $x \geq 0$ and $n \geq 1$.
      -- This is a special case of the ** convex hull ** property.
      rw [show (a + b) / 2 = (a + b) • (1 / (2 : ℝ)) by simp only [mul_div_cancel_of_invertible], ←Finset.smul_sum]
      -- This is a special case of the ** convex hull ** property.
      -- [ Jensen's inequality](https://en.wikipedia.org/wiki/Jensen's_inequality)
      apply Finset.sum_le_sum
      -- This can be proved by using the fact that the $n$-th power function is convex for $n \geq 1$.
      -- The function $f(x) = x^n$ is convex for $x \geq 0$ and $n \geq 1$.
      -- This is a special case of the ** convex hull ** property.
      intro i hi
      simp at hi
      apply (div_le_div_iff₀ (by norm_num) (by norm_num)).mp
      -- This can be proved by using the fact that the $n$-th power function is convex for $n \geq 1$.
      -- The function $f(x) = x^n$ is convex for $x \geq 0$ and $n \geq 1$.
      -- This is a special case of the ** convex hull ** property.
      rw [show ((1 : ℝ) / 2) = (1 : ℝ) • (1 / 2) by simp only [one_mul], mul_assoc]
      apply (mul_le_mul_left (by norm_num)).mpr
      -- This can be proved by using the fact that the $n$-th power function is convex for $n \geq 1$.
      -- The function $f(x) = x^n$ is convex for $x \geq 0$ and $n \geq 1$.
      -- This is a special case of the ** convex hull ** property.
      apply (Real.rpow_le_rpow_iff (by linarith only [h₀.1]) (by linarith only [h₀.2]) (by linarith only [h₁])).mpr
      linarith only [hi.1, hi.2]
    -- The arithmetic mean of $a$ and $b$ is less than or equal to the $n$-th root of the arithmetic mean of $a^n$ and $b^n$.
    apply (Real.le_inv_rpow (by linarith only [h₀.1]) (by linarith only [h₄])).mp
    -- [ Real.rpow_le_rpow_iff](https://en.wikipedia.org/wiki/Real_rpow_le_rpow_iff)
    -- The function $x^{\frac{1}{n}}$ is monotonically increasing for $x \geq 0$ and $n \geq 1$.
    -- This can be proved by using the fact that the $n$-th power function is convex for $n \geq 1$.
    -- The function $f(x) = x^n$ is convex for $x \geq 0$ and $n \geq 1$.
    -- This is a special case of the ** convex hull ** property.
    rw [inv_rpow, ←Real.rpow_mul (by linarith only [h₀.1])]
    exact h₄

  -- The $n$-th root of the arithmetic mean of $a$ and $b$ is less than or equal to the arithmetic mean of $a$ and $b$.
  have h₅ : ((a + b) / 2) ^ (1 / (n : ℝ)) ≤ (a + b) / 2 := by
    -- This can be proved by using the fact that the $n$-th power function is convex for $n \geq 1$.
    -- The function $f(x) = x^n$ is convex for $x \geq 0$ and $n \geq 1$.
    -- This is a special case of the ** convex hull ** property.
    have h₆ : ((a + b) / 2) ^ (1 / (n : ℝ)) ≤ (a + b) ^ (1 / (n : ℝ) : ℝ) := by
      -- The function $f(x) = x^{\frac{1}{n}}$ is monotonically increasing for $x \geq 0$ and $n \geq 1$.
      apply Real.rpow_le_rpow_of_exponent_le (by linarith only [h₂]) (by linarith only [h₁]) (by linarith only [h₀.1])
    -- The $n$-th root of the arithmetic mean of $a$ and $b$ is less than or equal to the arithmetic mean of $a$ and $b$.
    rw [←Real.rpow_mul (by linarith only [h₂]), mul_one_div] at h₆
    exact h₆

  -- $(\frac{a+b}{2})^n \leq \frac{a^n+b^n}{2}$
  apply Real.rpow_le_rpow_of_exponent_le (by linarith only [h₃]) (by linarith only [h₅]) (by linarith only [h₁])

```