-- Lemma 1. Let $x$ be a real number. Then $f(x + 2a) = 1 - f(x)$.
  have h2 : ∀ x, f (x + 2 * a) = 1 - f x := by
    intro x
    have h := h₁ x
    have h' := h₁ (x + a)
    simp at h h'
    rw [show x + a + a = x + 2 * a by ring] at h'
    rw [h] at h'
    ring_nf at h h'
    rw [Real.sq_sqrt (by linarith only [h])] at h'
    linarith only [h, h']

  -- Lemma 2. Let $x$ be a real number. Then $f(x + 4a) = f(x)$.
  have h4 : ∀ x, f (x + 4 * a) = f x := by
    intro x
    have h1 := h2 x
    have h2 := h2 (x + 2 * a)
    simp at h1 h2
    rw [show x + 2 * a + 2 * a = x + 4 * a by ring] at h2
    rw [h1] at h2
    linarith only [h1, h2]

  -- We now show that $b = 4a$ works.
  use 4 * a
  constructorm* _ > 0
  · exact mul_pos (by norm_num) h₀
  · intro x
    exact h4 x
```