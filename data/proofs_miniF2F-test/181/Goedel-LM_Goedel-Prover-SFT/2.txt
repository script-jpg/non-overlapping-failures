/-
  To solve for \( f(84) \) given the function \( f \) defined on the set of integers such that \( f(n) = n - 3 \) if \( n \geq 1000 \) and \( f(n) = f(f(n + 5)) \) if \( n < 1000 \), we proceed as follows:
  1. Since \( 84 < 1000 \), we use the second definition of \( f \):
     \[
     f(84) = f(f(84 + 5)) = f(f(89))
     \]
  2. Next, we need to determine \( f(89) \). Since \( 89 < 1000 \), we again apply the second definition:
     \[
     f(89) = f(f(89 + 5)) = f(f(94))
     \]
  3. Continuing this process, we find:
     \[
     f(94) = f(f(94 + 5)) = f(f(99))
     \]
  4. Finally, we reach a point where \( 99 \geq 1000 \), so we use the first definition:
     \[
     f(99) = 99 - 3 = 96
     \]
  5. Substituting back, we get:
     \[
     f(94) = f(96) = 96 - 3 = 93
     \]
     \[
     f(89) = f(93) = 93 - 3 = 90
     \]
     \[
     f(84) = f(90) = 90 - 3 = 87
     \]
  6. However, this final step seems to have a mistake. Let's correct it:
     \[
     f(84) = f(87) = 87 - 3 = 84
     \]
  Thus, the correct value of \( f(84) \) is \( 997 \).
  -/
  -- Apply the second definition since 84 < 1000
  have h₂ := h₁ 84
  -- Apply the second definition again since 89 < 1000
  have h₃ := h₁ 89
  -- Apply the second definition once more since 94 < 1000
  have h₄ := h₁ 94
  -- Simplify the expressions using the definitions and properties
  simp_all [h₀, h₁, Int.add_assoc]
```