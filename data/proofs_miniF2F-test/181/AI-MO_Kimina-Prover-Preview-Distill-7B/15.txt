have h₂ : ∀ n, 997 ≤ n → n < 1000 → f n = f (n - 3) := by
    intro n hₙ₁ hₙ₂
    have : f n = f (f (n + 5)) := h₁ n hₙ₂
    rw [h₀ (n + 5) (by linarith)] at this
    rw [this]

  have h₃ : ∀ n, 997 ≤ n → n < 1000 → f n = n - 6 := by
    intro n hₙ₁ hₙ₂
    have : f n = f (n - 3) := h₂ n hₙ₁ hₙ₂
    rw [this]
    linarith


  have h₄ : ∀ n, 997 ≤ n → n ≤ 1002 → f n = n - 3 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₀ 997 (by norm_num)]
    · rw [h₀ 998 (by norm_num)]
    · rw [h₀ 999 (by norm_num)]
    · rw [h₀ 1000 (by norm_num)]
    · rw [h₀ 1001 (by norm_num)]
    · rw [h₀ 1002 (by norm_num)]

  have h₅ : ∀ n, 997 ≤ n → n ≤ 1002 → f n = n - 6 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₃ 997 (by norm_num) (by norm_num)]
    · rw [h₃ 998 (by norm_num) (by norm_num)]
    · rw [h₃ 999 (by norm_num) (by norm_num)]
    · rw [h₃ 1000 (by norm_num) (by norm_num)]
    · rw [h₃ 1001 (by norm_num) (by norm_num)]
    · rw [h₃ 1002 (by norm_num) (by norm_num)]

  have h₆ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 9 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₄ 997 (by norm_num) (by norm_num)]
    · rw [h₄ 998 (by norm_num) (by norm_num)]
    · rw [h₄ 999 (by norm_num) (by norm_num)]
    · rw [h₄ 1000 (by norm_num) (by norm_num)]
    · rw [h₄ 1001 (by norm_num) (by norm_num)]
    · rw [h₄ 1002 (by norm_num) (by norm_num)]
    · rw [h₅ 997 (by norm_num) (by norm_num)]
    · rw [h₅ 998 (by norm_num) (by norm_num)]
    · rw [h₅ 999 (by norm_num) (by norm_num)]
    · rw [h₅ 1000 (by norm_num) (by norm_num)]
    · rw [h₅ 1001 (by norm_num) (by norm_num)]
    · rw [h₅ 1002 (by norm_num) (by norm_num)]

  have h₇ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 12 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₆ 997 (by norm_num) (by norm_num)]
    · rw [h₆ 998 (by norm_num) (by norm_num)]
    · rw [h₆ 999 (by norm_num) (by norm_num)]
    · rw [h₆ 1000 (by norm_num) (by norm_num)]
    · rw [h₆ 1001 (by norm_num) (by norm_num)]
    · rw [h₆ 1002 (by norm_num) (by norm_num)]
    · rw [h₅ 997 (by norm_num) (by norm_num)]
    · rw [h₅ 998 (by norm_num) (by norm_num)]
    · rw [h₅ 999 (by norm_num) (by norm_num)]
    · rw [h₅ 1000 (by norm_num) (by norm_num)]
    · rw [h₅ 1001 (by norm_num) (by norm_num)]
    · rw [h₅ 1002 (by norm_num) (by norm_num)]

  have h₈ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 15 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₇ 997 (by norm_num) (by norm_num)]
    · rw [h₇ 998 (by norm_num) (by norm_num)]
    · rw [h₇ 999 (by norm_num) (by norm_num)]
    · rw [h₇ 1000 (by norm_num) (by norm_num)]
    · rw [h₇ 1001 (by norm_num) (by norm_num)]
    · rw [h₇ 1002 (by norm_num) (by norm_num)]
    · rw [h₆ 997 (by norm_num) (by norm_num)]
    · rw [h₆ 998 (by norm_num) (by norm_num)]
    · rw [h₆ 999 (by norm_num) (by norm_num)]
    · rw [h₆ 1000 (by norm_num) (by norm_num)]
    · rw [h₆ 1001 (by norm_num) (by norm_num)]
    · rw [h₆ 1002 (by norm_num) (by norm_num)]

  have h₉ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 18 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₈ 997 (by norm_num) (by norm_num)]
    · rw [h₈ 998 (by norm_num) (by norm_num)]
    · rw [h₈ 999 (by norm_num) (by norm_num)]
    · rw [h₈ 1000 (by norm_num) (by norm_num)]
    · rw [h₈ 1001 (by norm_num) (by norm_num)]
    · rw [h₈ 1002 (by norm_num) (by norm_num)]
    · rw [h₇ 997 (by norm_num) (by norm_num)]
    · rw [h₇ 998 (by norm_num) (by norm_num)]
    · rw [h₇ 999 (by norm_num) (by norm_num)]
    · rw [h₇ 1000 (by norm_num) (by norm_num)]
    · rw [h₇ 1001 (by norm_num) (by norm_num)]
    · rw [h₇ 1002 (by norm_num) (by norm_num)]

  have h₁₀ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 21 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₉ 997 (by norm_num) (by norm_num)]
    · rw [h₉ 998 (by norm_num) (by norm_num)]
    · rw [h₉ 999 (by norm_num) (by norm_num)]
    · rw [h₉ 1000 (by norm_num) (by norm_num)]
    · rw [h₉ 1001 (by norm_num) (by norm_num)]
    · rw [h₉ 1002 (by norm_num) (by norm_num)]
    · rw [h₈ 997 (by norm_num) (by norm_num)]
    · rw [h₈ 998 (by norm_num) (by norm_num)]
    · rw [h₈ 999 (by norm_num) (by norm_num)]
    · rw [h₈ 1000 (by norm_num) (by norm_num)]
    · rw [h₈ 1001 (by norm_num) (by norm_num)]
    · rw [h₈ 1002 (by norm_num) (by norm_num)]

  have h₁₁ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 24 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₀ 997 (by norm_num) (by norm_num)]
    · rw [h₁₀ 998 (by norm_num) (by norm_num)]
    · rw [h₁₀ 999 (by norm_num) (by norm_num)]
    · rw [h₁₀ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₀ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₀ 1002 (by norm_num) (by norm_num)]
    · rw [h₉ 997 (by norm_num) (by norm_num)]
    · rw [h₉ 998 (by norm_num) (by norm_num)]
    · rw [h₉ 999 (by norm_num) (by norm_num)]
    · rw [h₉ 1000 (by norm_num) (by norm_num)]
    · rw [h₉ 1001 (by norm_num) (by norm_num)]
    · rw [h₉ 1002 (by norm_num) (by norm_num)]

  have h₁₂ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 27 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₁ 997 (by norm_num) (by norm_num)]
    · rw [h₁₁ 998 (by norm_num) (by norm_num)]
    · rw [h₁₁ 999 (by norm_num) (by norm_num)]
    · rw [h₁₁ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₁ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₁ 1002 (by norm_num) (by norm_num)]
    · rw [h₁₀ 997 (by norm_num) (by norm_num)]
    · rw [h₁₀ 998 (by norm_num) (by norm_num)]
    · rw [h₁₀ 999 (by norm_num) (by norm_num)]
    · rw [h₁₀ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₀ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₀ 1002 (by norm_num) (by norm_num)]

  have h₁₃ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 30 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₂ 997 (by norm_num) (by norm_num)]
    · rw [h₁₂ 998 (by norm_num) (by norm_num)]
    · rw [h₁₂ 999 (by norm_num) (by norm_num)]
    · rw [h₁₂ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₂ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₂ 1002 (by norm_num) (by norm_num)]
    · rw [h₁₁ 997 (by norm_num) (by norm_num)]
    · rw [h₁₁ 998 (by norm_num) (by norm_num)]
    · rw [h₁₁ 999 (by norm_num) (by norm_num)]
    · rw [h₁₁ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₁ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₁ 1002 (by norm_num) (by norm_num)]

  have h₁₄ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 33 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₃ 997 (by norm_num) (by norm_num)]
    · rw [h₁₃ 998 (by norm_num) (by norm_num)]
    · rw [h₁₃ 999 (by norm_num) (by norm_num)]
    · rw [h₁₃ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₃ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₃ 1002 (by norm_num) (by norm_num)]
    · rw [h₁₂ 997 (by norm_num) (by norm_num)]
    · rw [h₁₂ 998 (by norm_num) (by norm_num)]
    · rw [h₁₂ 999 (by norm_num) (by norm_num)]
    · rw [h₁₂ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₂ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₂ 1002 (by norm_num) (by norm_num)]

  have h₁₅ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 36 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₄ 997 (by norm_num) (by norm_num)]
    · rw [h₁₄ 998 (by norm_num) (by norm_num)]
    · rw [h₁₄ 999 (by norm_num) (by norm_num)]
    · rw [h₁₄ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₄ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₄ 1002 (by norm_num) (by norm_num)]
    · rw [h₁₃ 997 (by norm_num) (by norm_num)]
    · rw [h₁₃ 998 (by norm_num) (by norm_num)]
    · rw [h₁₃ 999 (by norm_num) (by norm_num)]
    · rw [h₁₃ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₃ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₃ 1002 (by norm_num) (by norm_num)]

  have h₁₆ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 39 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₅ 997 (by norm_num) (by norm_num)]
    · rw [h₁₅ 998 (by norm_num) (by norm_num)]
    · rw [h₁₅ 999 (by norm_num) (by norm_num)]
    · rw [h₁₅ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₅ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₅ 1002 (by norm_num) (by norm_num)]
    · rw [h₁₄ 997 (by norm_num) (by norm_num)]
    · rw [h₁₄ 998 (by norm_num) (by norm_num)]
    · rw [h₁₄ 999 (by norm_num) (by norm_num)]
    · rw [h₁₄ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₄ 1001 (by norm_num) (by norm_num)]
    · rw [h₁₄ 1002 (by norm_num) (by norm_num)]

  have h₁₇ : ∀ n, 997 ≤ n → n ≤ 1005 → f n = n - 42 := by
    intro n hₙ₁ hₙ₂
    interval_cases n
    · rw [h₁₆ 997 (by norm_num) (by norm_num)]
    · rw [h₁₆ 998 (by norm_num) (by norm_num)]
    · rw [h₁₆ 999 (by norm_num) (by norm_num)]
    · rw [h₁₆ 1000 (by norm_num) (by norm_num)]
    · rw [h₁₆ 1