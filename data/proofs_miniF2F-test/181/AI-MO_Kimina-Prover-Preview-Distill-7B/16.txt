have h₂ : ∀ n, 997 ≤ n → f n = n - 3 := by
    intro n hn
    interval_cases n
    · exact h₀ 997 (by norm_num)
    · exact h₀ 998 (by norm_num)
    · exact h₀ 999 (by norm_num)
    · exact h₀ 1000 (by norm_num)

  have h₃ : f 997 = 997 - 3 := h₂ 997 (by norm_num)

  have h₄ : ∀ n, 994 ≤ n → f n = 997 - 3 - 3 := by
    intro n hn
    unfold f
    rw [h₁ 994 (by norm_num), h₂ (994 + 5) (by norm_num), h₂ (994 + 5 + 5) (by norm_num),
      h₂ (994 + 5 + 5 + 3) (by norm_num)]
    ring_nf

  have h₅ : f 994 = 997 - 3 - 3 := h₄ 994 (by norm_num)

  unfold f
  rw [h₁ 84 (by norm_num), h₃, h₅, h₄ (899 + 3) (by norm_num), h₂ (899 + 3 + 3) (by norm_num)]
  ring_nf
```