-- proof by contradiction
  by_contra h

  -- use Int.mod_three_of_eq to convert h to a formula in Int.Mod_three.
  -- and we get 4 * x ^ 3 → Int.Mod_three.one, 7 * y ^ 3 → Int.Mod_three.zero
  apply Int.Mod_three.of_eq at h
  simp at h

  -- therefore, we claim that x ^ 3 and y ^ 3 must be Int.Mod_three.zero
  -- we prove it by a series of cases
  have hx : x ^ 3 ≡ 0 [ZMOD 3] := by
    mod_cases hx : x % 3

    -- if x ≡ 0, then x ^ 3 ≡ 0
    · simp [Int.ModEq, pow_succ]
      omega

    -- if x ≡ 1, then x ^ 3 ≡ 1
    · right
      simp [Int.ModEq, pow_succ]
      omega

    -- if x ≡ 2, then x ^ 3 ≡ 8 ≡ 2
    · right
      simp [Int.ModEq, pow_succ]
      omega

  have hy : y ^ 3 ≡ 0 [ZMOD 3] := by
    mod_cases hy : y % 3

    -- if y ≡ 0, then y ^ 3 ≡ 0
    · simp [Int.ModEq, pow_succ]
      omega

    -- if y ≡ 1, then y ^ 3 ≡ 1
    · right
      simp [Int.ModEq, pow_succ]
      omega

    -- if y ≡ 2, then y ^ 3 ≡ 8 ≡ 2
    · right
      simp [Int.ModEq, pow_succ]
      omega

  -- therefore, we claim that 4 * x ^ 3 - 7 * y ^ 3 ≡ 0, which is a contradiction
  have h : 4 * x ^ 3 - 7 * y ^ 3 ≡ 0 [ZMOD 3] := by
    zify
    rw [Int.modEq_zero_iff_dvd]
    apply Int.dvd_sub

    -- it is obvious that 3 | 4 * x ^ 3
    · apply dvd_mul_of_dvd_left
      simp [Int.dvd_iff_emod_eq_zero]

    -- and also 3 | 7 * y ^ 3
    · apply dvd_mul_of_dvd_left
      simp [Int.dvd_iff_emod_eq_zero]

  -- therefore, we get 2003 ≡ 0, which is false
  simp [Int.ModEq, h] at h  -- now h is 2003 % 3 = 0
  omega

```