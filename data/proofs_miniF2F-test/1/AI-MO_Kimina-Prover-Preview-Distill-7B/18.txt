-- proof by contradiction
  by_contra h

  -- consider the equation modulo 7
  have h1 : 4 * x ^ 3 % 7 = 2003 % 7 := by
    rw [h]
  have h2 : 2003 % 7 = 6 := by norm_num
  have h3 : 4 * x ^ 3 % 7 = 6 := by rw [h1, h2]

  -- theorem: for any prime $p$ and integer $a$,
  -- if $p \nmid a$, then $a^p % p = a$
  have h4 : ∀ p : ℕ, Nat.Prime p → ¬p ∣ x → (x ^ p % p) = x % p := by
    intro p hp hp2
    have h4 : ∀ n, (x ^ n) % p = x % p := by
      intro n
      induction n with
      | zero => rw [pow_zero]; norm_num
      | succ n ih =>
        rw [pow_succ, Int.mul_emod, ih, Nat.ModEq.symm]
        exact Nat.ModEq.refl _
    rw [h4 p]
    exact h4

  -- consider the cases that $x % 7 = 0, 1, 2, 3, 4, 5, 6$
  have h5 : x % 7 = 0 ∨ x % 7 = 1 ∨ x % 7 = 2 ∨ x % 7 = 3 ∨ x % 7 = 4 ∨ x % 7 = 5 ∨ x % 7 = 6 := by omega
  rcases h5 with (h5 | h5 | h5 | h5 | h5 | h5 | h5)
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3
  · rw [h5] at h3
    rw [h4 7 (by norm_num) (by rw [Int.dvd_iff_emod_eq_zero]; exact Int.dvd_of_emod_eq_zero h5)] at h3
    norm_num at h3

```