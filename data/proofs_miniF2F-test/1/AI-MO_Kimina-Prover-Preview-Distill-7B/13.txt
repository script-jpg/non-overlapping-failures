-- proof by contradiction
  by_contra h

  -- consider the equation modulo 7
  have h1 : 4 * x ^ 3 % 7 = 2003 % 7 := by rw [h]
  -- 2003 % 7 = 6
  have h1 : 4 * x ^ 3 % 7 = 6 := by norm_num [h1]

  -- thus we have 4 * x ^ 3 % 7 = 6
  -- which implies    4 * x ^ 3 = 7 * k + 6 for some integer k
  have h2 : ∃ k : ℤ, 4 * x ^ 3 = 7 * k + 6 := by
    use (4 * x ^ 3 / 7)
    omega
  rcases h2 with ⟨k, h2⟩

  -- 4 * x ^ 3 - 7 * k = 6
  have h3 : 4 * x ^ 3 - 7 * k = 6 := by omega

  -- consider the equation modulo 4
  have h4 : - k % 4 = 6 % 4 := by
    apply Int.ModEq.symm
    rw [← h3]
    apply Int.ModEq.mul_left 4
    apply Int.mod_eq_of_modEq
    exact Int.modEq_of_dvd (Int.dvd_sub_left h3)
  -- - k % 4 = 6 % 4 = 2
  -- thus we have - k % 4 = 2
  -- which implies    k % 4 = 2
  -- which implies that 4 divides (k - 2)
  have h5 : 4 ∣ (k - 2) := by
    apply Int.dvd_sub
    apply Int.modEq_iff_dvd.mp
    omega
    norm_num [h4]
  rcases h5 with ⟨t, h5⟩

  -- so we have x ^ 3 = 7 * t + 2
  have h6 : x ^ 3 = 7 * t + 2 := by omega

  -- consider the equation modulo 7
  have h7 : x ^ 3 % 7 = 2 % 7 := by rw [h6]
  -- 2003 % 7 = 6
  have h7 : x ^ 3 % 7 = 2 := by norm_num [h7]

  -- we have x ^ 3 ≡ 2 (mod 7)
  -- we check all possible values of x modulo 7
  -- and we find that no solution exists
  have h8 : ∀ x : ℤ, x % 7 = 0 ∨ x % 7 = 1 ∨ x % 7 = 2 ∨ x % 7 = 3 ∨ x % 7 = 4 ∨ x % 7 = 5 ∨ x % 7 = 6 := by omega
  have h8 : x % 7 = 0 ∨ x % 7 = 1 ∨ x % 7 = 2 ∨ x % 7 = 3 ∨ x % 7 = 4 ∨ x % 7 = 5 ∨ x % 7 = 6 := by apply h8

  -- check each case
  rcases h8 with (h8 | h8 | h8 | h8 | h8 | h8 | h8)
 .   -- x % 7 = 0
      -- we have x ^ 3 % 7 = 0
      have h9 : x ^ 3 % 7 = 0 := by
        have h9 : x % 7 = 0 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 0 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.mod_eq_of_dvd
          rw [h9]
          apply Int.dvd_mul_right
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
 .   -- x % 7 = 1
      -- we have x ^ 3 % 7 = 1
      have h9 : x ^ 3 % 7 = 1 := by
        have h9 : x % 7 = 1 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 1 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.ModEq.mul_right
          apply Int.ModEq.pow 3
          exact h9
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
 .   -- x % 7 = 2
      -- we have x ^ 3 % 7 = 8 % 7 = 1
      have h9 : x ^ 3 % 7 = 1 := by
        have h9 : x % 7 = 2 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 1 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.ModEq.mul_right
          apply Int.ModEq.pow 3
          exact h9
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
 .   -- x % 7 = 3
      -- we have x ^ 3 % 7 = 27 % 7 = 6
      have h9 : x ^ 3 % 7 = 6 := by
        have h9 : x % 7 = 3 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 6 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.ModEq.mul_right
          apply Int.ModEq.pow 3
          exact h9
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
 .   -- x % 7 = 4
      -- we have x ^ 3 % 7 = 64 % 7 = 1
      have h9 : x ^ 3 % 7 = 1 := by
        have h9 : x % 7 = 4 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 1 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.ModEq.mul_right
          apply Int.ModEq.pow 3
          exact h9
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
 .   -- x % 7 = 5
      -- we have x ^ 3 % 7 = 125 % 7 = 1
      have h9 : x ^ 3 % 7 = 1 := by
        have h9 : x % 7 = 5 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 1 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.ModEq.mul_right
          apply Int.ModEq.pow 3
          exact h9
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
 .   -- x % 7 = 6
      -- we have x ^ 3 % 7 = 216 % 7 = 6
      have h9 : x ^ 3 % 7 = 6 := by
        have h9 : x % 7 = 6 := h8
        have h10 : x ^ 3 % 7 ^ 3 = 6 := by
          apply Int.ModEq.pow 3
          apply Int.ModEq.symm
          apply Int.ModEq.mul_right
          apply Int.ModEq.pow 3
          exact h9
        apply Int.ModEq.symm
        apply Int.ModEq.mul_right
        apply Int.ModEq.pow 3
        exact h10
      -- which contradicts our previous finding that x ^ 3 % 7 = 2
      omega
```