-- Simplify the equation to make it more amenable to automated solving.
  field_simp at h₀
  norm_cast at h₀

  -- Let $x$ be the total amount of coffee, $y$ the total amount of milk, and $n$ the number of people in the family.
  -- We are given that $x/4 + y/6 = (x+y)/n$, or equivalently that $3x + 2y = (3n/2)(x+y)$.
  -- Rearrange this to get the equation $3nx + (2n-6)y = 0$.
  have eq : 3 * n * x + (2 * n - 6) * y = 0 := by linarith

  -- Let us clear denominators and hence make the equation more amenable to automated solving.
  have h₁ : 2 * 3 * n * x + (2 * n - 6) * 2 * y = 0 := by linarith

  -- We are now going to apply the lemma below to this equation.
  -- The key insight is that the two terms in our equation are both positive for non-zero $x$ and $y$.
  have h₂ (x y n : ℕ+) : 2 * 3 * n * x + (2 * n - 6) * 2 * y > 0 := by
    suffices 2 * 3 * n * x > 0 by linarith
    -- The proof is very straightforward, hence left as an exercise to the reader.
    suffices 2 > 0 by exact Nat.mul_pos (Nat.mul_pos (Nat.mul_pos two_pos three_pos n_pos) x_pos) this
    exact two_pos

  -- The upshot is that we obtain a contradiction, as the equation h₁ is both positive and negative.
  linarith only [h₁, h₂ x y n]
```