-- We apply Fermat's Little Theorem, which states that if $p$ is a prime and $a$ is an integer not divisible by $p$,
  -- then $a^{p-1} \equiv 1 \pmod{p}$. Here, $p = 7$ and $a = 5$.
  have h : 5 ^ 6 ≡ 1 [MOD 7] := by
    decide

  -- We want to compute $5^{999,999} \bmod 7$.
  -- We can express 999,999 in terms of multiples of 6 plus a remainder:
  -- $999,999 = 6 \cdot 166,666 + 3$.
  have h' : 999999 = 6 * 166666 + 3 := by norm_num

  rw [h'] -- Replace 999999 with 6 * 166666 + 3
  rw [pow_add, pow_mul]
  rw [← ZMod.eq_iff_modEq_nat] -- connects the modulo with the congruence relation in ZMod
  push_cast -- necessary to let the elements in ZMod play well with the number-theoretical functions in Mathlib
  rw [← one_pow] -- Replace 1 with 1 ^ 3
  rw [mul_comm] -- commutativity of the multiplication
  rw [pow_mul]
  decide -- finish the proof
```