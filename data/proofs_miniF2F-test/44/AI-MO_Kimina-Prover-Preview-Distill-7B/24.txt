-- Fermat's Little Theorem: If $p$ is a prime and $a$ is an integer not divisible by $p$,
  -- then $a^{p-1} \equiv 1 \pmod{p}$.
  have finths := Nat.ModEq.pow_card_sub_one_eq_one (show Nat.Prime 7 by decide) (show 5 â‰  0 by decide)
  -- $5^6 \equiv 1 \pmod{7}$
  ring_nf at finths
  -- $5^{999,999} = 5^{6 \cdot 166,666 + 3} = (5^6)^{166,666} \cdot 5^3$
  have eq : 5 ^ 999999 = (5 ^ 6) ^ 166666 * 5 ^ 3 := by
    ring
  rw [eq]
  -- $(5^6)^{166,666} \cdot 5^3 \equiv 1^{166,666} \cdot 5^3 \equiv 5^3 \pmod{7}$
  apply Nat.ModEq.mul_left (5 ^ 6) at finths
  iterate 166666 rw [Nat.ModEq.pow] at finths
  -- $5^3 = 125 = 6 \cdot 20 + 5 \equiv 5 \pmod{7}$
  rw [show 5 ^ 3 = 125 by decide, show 125 % 7 = 5 by decide] at finths
  -- remainder is 5
  exact finths
```