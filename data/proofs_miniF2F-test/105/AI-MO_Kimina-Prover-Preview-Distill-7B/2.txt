have : (m : ℝ) > 0 := by norm_cast
  have : (a : ℝ) > 0 := by norm_cast

  field_simp at h₁ ⊢
  ring_nf at h₁ ⊢
  linarith
```

In this problem, we are given:
- Mean score of morning class ($M$) = 84
- Mean score of afternoon class ($A$) = 70
- Ratio of students in morning to afternoon = $\frac{3}{4}$

Let's find the mean score of all students.

First, what's the formula for mean score? It's the total score divided by the number of students.

Let:
- $m$ = number of students in morning
- $a$ = number of students in afternoon

The total score for the morning class is $84m$, and for the afternoon class is $70a$.

The combined total score is $84m + 70a$.
The combined number of students is $m + a$.

So the mean score of all students is $\frac{84m + 70a}{m + a}$.

Now, we need to use the ratio information. The ratio of students in morning to afternoon is $\frac{3}{4}$, so $\frac{m}{a} = \frac{3}{4}$. This means $m = \frac{3}{4}a$.

Let's substitute $m = \frac{3}{4}a$ into our mean formula:
Mean = $\frac{84(\frac{3}{4}a) + 70a}{\frac{3}{4}a + a} = \frac{63a + 70a}{\frac{3}{4}a + a} = \frac{133a}{\frac{7}{4}a} = \frac{133}{\frac{7}{4}} = \frac{133 \cdot 4}{7} = \frac{532}{7} = 76$

So the mean score of all students is 76, which matches answer choice (C).

Let's translate this into Lean proof:

```tactics
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat
```

We need to import the necessary libraries and set up our theorem statement:

```tactics
theorem amc12b_2021_p4 (m a : ℕ) (h₀ : 0 < m ∧ 0 < a) (h₁ : ↑m / ↑a = (3 : ℝ) / 4) :
    (84 * ↑m + 70 * ↑a) / (↑m + ↑a) = (76 : ℝ) := by
```

Now we have our theorem statement with:
- m = number of students in morning (positive)
- a = number of students in afternoon (positive)
- h₁: m/a = 3/4 as a real number equality

From m/a = 3/4, we get m = 3/4 * a

To find the mean score of all students:
Mean = (84m + 70a) / (m + a)

Substitute m = 3/4 * a:
Mean = (84 * (3/4 * a) + 70a) / ((3/4 * a) + a)
     = (63a + 70a) / (3/4 * a + a)
     = 133a / (7/4 * a)
     = 133 / (7/4)
     = 133 * 4 / 7
     = 532 / 7
     = 76

Let's complete the Lean proof:

```tactics
have : (m : ℝ) > 0 := by norm_cast
have : (a : ℝ) > 0 := by norm_cast

field_simp at h₁ ⊢
ring_nf at h₁ ⊢
linarith
```

The Lean proof is complete! We've shown that given the constraints, the mean score of all students is indeed 76. This matches our manual calculation, confirming that the answer is (C) 76.
</s>
```lean4
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat



/-- Ms. Blackwell gives an exam to two classes. The mean of the scores of the students in the morning class is $84$, and the afternoon class's mean score is $70$. The ratio of the number of students in the morning class to the number of students in the afternoon class is $\frac{3}{4}$. What is the mean of the scores of all the students?

$\textbf{(A)} ~74 \qquad\textbf{(B)} ~75 \qquad\textbf{(C)} ~76 \qquad\textbf{(D)} ~77 \qquad\textbf{(E)} Show that it is \textbf{(C)} ~76.-/

theorem amc12b_2021_p4 (m a : ℕ) (h₀ : 0 < m ∧ 0 < a) (h₁ : ↑m / ↑a = (3 : ℝ) / 4) :
    (84 * ↑m + 70 * ↑a) / (↑m + ↑a) = (76 : ℝ) := by
  have : (m : ℝ) > 0 := by norm_cast
  have : (a : ℝ) > 0 := by norm_cast
  field_simp at h₁ ⊢
  ring_nf at h₁ ⊢
  linarith
```