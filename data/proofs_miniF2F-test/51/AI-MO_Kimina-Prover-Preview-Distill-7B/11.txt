-- The following equations hold by the definition of inverse functions:
  -- $f(f^{-1}(2))=2$ and $f^{-1}(f(2))=2$.
  have : σ.1 (σ.2 2) = 2 := σ.left_inv 2
  have : σ.2 (σ.1 2) = 2 := σ.right_inv 2

  -- We can substitute $f^{-1}(2)=4$ into the first equation to get $f(4)=2$.
  rw [h] at this

  -- We can substitute $f(2)=4$ into the second equation to get $f^{-1}(4)=2$.
  rw [this] at h

  -- Finally, we substitute $f^{-1}(4)=2$ into the equation $f(f^{-1}(4))=4$ to get $f(2)=4$.
  rw [←h] at this
  exact this
```