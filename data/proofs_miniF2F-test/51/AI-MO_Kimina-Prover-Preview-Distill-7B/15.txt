-- The following figures out that f (f (2)) = 2.
  -- σ.1 is f (or f(x), f(x,y), etc.)
  -- σ.2 is f^{-1}(x), or f⁻¹(x,y), etc.
  have hσ : σ.2 2 = 4 := by
    rw [←h, σ.left_inv 2]
  have hσ' : σ.1 2 = 4 := by
    rw [←h, σ.right_inv 2]
  calc
    σ.1 (σ.1 2) = σ.1 4 := by rw [hσ']
           _ = σ.1 (σ.2 2) := by rw [hσ]
           _ = 2 := by rw [σ.left_inv 2]
```