/-
  Given an invertible function \( f(x) \) and the condition \( f(2) = f^{-1}(2) = 4 \), we need to determine the value of \( f(f(2)) \).
  1. From the given condition \( f(2) = 4 \), we have \( \sigma.1(2) = 4 \).
  2. Since \( f \) is invertible, we can use the property of the inverse function: \( \sigma.2(4) = 2 \).
  3. Applying \( f \) again to the result, we get \( \sigma.1(\sigma.2(4)) = \sigma.1(2) \).
  4. Given \( \sigma.1(2) = 4 \), we have \( \sigma.1(\sigma.2(4)) = 4 \).
  5. Therefore, \( \sigma.1(\sigma.2(4)) = 2 \).
  -/
  -- From the given condition f(2) = 4, we have σ.1(2) = 4.
  have h1 : σ.1 2 = 4 := by simpa [Equiv.eq_symm_apply] using h
  -- Since f is invertible, we can use the property of the inverse function: σ.2(4) = 2.
  have h2 : σ.2 4 = 2 := by simpa [Equiv.eq_symm_apply] using h
  -- Applying f again to the result, we get σ.1(σ.2(4)) = σ.1(2).
  have h3 : σ.1 (σ.2 4) = σ.1 2 := by rw [h2]
  -- Given σ.1(2) = 4, we have σ.1(σ.2(4)) = 4.
  rw [h1] at h3
  -- Therefore, σ.1(σ.2(4)) = 2.
  simp_all
```