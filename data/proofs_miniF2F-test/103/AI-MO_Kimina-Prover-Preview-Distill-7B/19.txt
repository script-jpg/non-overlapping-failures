-- `x * 9 % 100 = 1` means that $9x = 1 + 100k$ for some integer $k$.
  rw [Nat.mul_mod] at h₁
  -- We have $9x \equiv 1 \pmod{100}$, so $9x = 1 + 100k$ for some integer $k$.
  have h₂ : 9 * x % 100 = 1 := by
    rw [mul_comm, Nat.mul_mod, h₁]

  -- Since $9x \equiv 1 \pmod{100}$, we have $x \equiv 9^{-1} \pmod{100}$.
  -- So it suffices to show that $9^{-1} \equiv 89 \pmod{100}$.
  suffices 89 * 9 % 100 = 1 by
    have h₃ : x * 9 % 100 = 89 * 9 % 100 := by
      rw [h₁, this]
    have h₄ : (x * 9) % 100 = (89 * 9) % 100 := by
      simp_all
    -- Now we have $x * 9 = 89 * 9 + 100k$ for some integer $k$.
    rw [Nat.mul_mod, Nat.mul_mod] at h₄
    -- so $x = 89 + 100l$ for some integer $l$.
    rw [h₄] at h₂
    -- Since $0 \leq x < 100$, we must have $l = 0$, or equivalently, $x = 89$.
    omega

  -- Now it suffices to show that $89 * 9 % 100 = 1$.
  -- We compute $89 * 9 = 801 = 1 + 8*100$, so indeed $89 * 9 \equiv 1 \pmod{100}$.
  norm_num
```