-- `x * 9 % 100 = 1` means that there exists some integer $k$ such that $9x - 1 = 100k$. This implies that $9x - 100k = 1$.
  rw [Nat.modEq_iff_dvd] at h₁
  simp at h₁
  have h₂ : 9 * x - 1 = 100 * (x / 100) := by omega
  rw [<-h₂] at h₁
  -- By rearranging, we get $9x = 100(x/100) + 1$.
  have h₃ : 9 * x = 100 * (x / 100) + 1 := by omega
  -- This implies that $9x \equiv 1 \pmod{100}$.
  have h₄ : 9 * x ≡ 1 [MOD 100] := by
    rw [Nat.ModEq]
    refine dvd_iff_mod_eq_zero.mpr?_
    refine (Int.dvd_add_iff_right (100 * (x / 100))).mpr?_
    rw [h₃, Nat.add_one_sub_one]
  -- By checking, we find that $x = 89$ is a solution.
  have h₅ : x ≡ 89 [MOD 100] := by
    rw [Nat.ModEq]
    refine dvd_iff_mod_eq_zero.mpr?_
    omega
  have h₆ : x ≡ 89 [MOD 100] := h₅
  -- Since $x$ is between 0 and 99, it has to be 89.
  have : x = 89 := by
    cases x with
    | zero => simp at h₁
    | succ x => cases x with
      | zero => simp at h₁
      | succ x => cases x with
        | zero => simp at h₁
        | succ x => omega
  assumption
```