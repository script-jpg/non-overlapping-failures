have h₆ := h₁ 0
  have h₇ := h₁ 1
  have h₈ := h₁ 2
  simp at h₆ h₇ h₈
  norm_num at h₆ h₇ h₈
  have h₉ : x = 5 := by linarith
  subst h₉
  have h₁₀ := h₁ 0
  have h₁₁ := h₁ 1
  have h₁₂ := h₁ 2
  simp at h₁₀ h₁₁ h₁₂
  norm_num at h₁₀ h₁₁ h₁₂
  have h₁₃ : n = 502 := by
    have h₁₄ : n ≤ 1004 := by
      by_contra! h
      have h₁₅ : n ≥ 1005 := by linarith
      have h₁₆ : a n = 2009 := by assumption
      have h₁₇ : a 1004 ≥ 2009 := by
        have h₁₈ : ∀ k : ℕ, k ≥ 1004 → a k ≥ 2009 := by
          intro k hk
          induction' hk with k hk ih
          · simp_all [h₂, h₃, h₄, sub_eq_add_neg]
            <;> linarith
          · simp_all [h₁]
            <;> linarith
        exact h₁₈ 1004 (by linarith)
      have h₁₉ : a n = 2009 := by assumption
      have h₂₀ : a 1004 ≥ 2009 := by assumption
      nlinarith
    interval_cases n <;> norm_num [h₂, h₃, h₄, sub_eq_add_neg] at * <;> linarith
  exact h₁₃