-- The first three terms of an arithmetic sequence are $2x - 3$, $5x - 11$, and $3x + 1$ respectively.
  -- Thus, $a_2 - a_1 = a_3 - a_2$.
  specialize h₁ 1
  rw [h₂, h₃, h₄] at h₁
  -- $5x - 11 - (2x - 3) = 3x + 1 - (5x - 11)$
  have eq1 : 5 * x - 11 - (2 * x - 3) = 3 * x + 1 - (5 * x - 11) := by linarith only [h₁]
  -- $3x = 12$
  have eq2 : 3 * x = 12 := by linarith only [eq1]
  -- $x = 4$
  have hx : x = 4 := by linarith only [eq2]

  -- The $n$th term of the sequence is $2009$.
  -- $a_n = a_1 + (n - 1)(a_2 - a_1) = 2009$
  have h₆ : ∀ k, a (k + 1) = a 1 + (k : ℝ) * (a 2 - a 1) := by
    intro k
    induction k with
    | zero =>
      simp
    | succ k ih =>
      rw [Nat.cast_add, add_sub_cancel_right, ih]
      linarith only [h₁]

  specialize h₆ (n - 1)
  rw [show n - 1 + 1 = n by omega, h₂, h₃, hx] at h₆
  norm_num at h₆

  -- Thus, $n = 502$.
  linarith only [h₅, h₆]
```