-- We have an arithmetic sequence, so the difference is constant.
  have h₆ : a (n + 1) - a n = a (n + 2) - a (n + 1) := h₁ n

  -- The difference is also constant for the first three terms.
  have h₇ : a 2 - a 1 = a 3 - a 2 := h₁ 1

  -- Use the first three terms to find $x$.
  rw [h₂, h₃, h₄] at h₇
  norm_num at h₇
  have hx : x = -4 / 3 := by linarith

  -- Substitute $x$ into the general term.
  have h₈ : ∀ m, a (m + 1) = a m + 7 := by
    intro m
    specialize h₁ m
    rw [h₂, h₃, h₄] at h₁
    norm_num at h₁
    linarith

  -- The $n$th term is given by $a_n = a_1 + (n - 1) \cdot 7$.
  have h₉ : ∀ n, a (n + 1) = a 1 + n * 7 := by
    intro n
    induction n with
    | zero => norm_num
    | succ n ih =>
      rw [h₈ (n + 1), ih]
      ring

  -- Plug in $a_1 = 2x - 3$ and $a_n = 2009$ to find $n$.
  rw [h₃, hx] at h₅
  rw [h₉ (n - 1)] at h₅
  norm_num at h₅
  have hn : (n : ℝ) = 502 := by linarith
  exact_mod_cast hn
```