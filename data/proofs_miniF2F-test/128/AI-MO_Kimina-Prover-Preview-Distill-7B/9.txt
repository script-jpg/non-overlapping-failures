-- We have $\sqrt{16+16a} = 4\sqrt{1+a}$.
  have : Real.sqrt (16 + 16 * a) = 4 * Real.sqrt (1 + a) := by
    rw [show (16 + 16 * a) = (4^2) * (1 + a) by ring]
    rw [Real.sqrt_mul (by norm_num)]
    rw [Real.sqrt_sq (by norm_num)]
    -- Show that $1 + a \geq 0$.
    linarith only [Real.sqrt_nonneg (1 + a)]

  -- Substitute the above into the original equation and simplify to get
  -- $\sqrt{4 - 4\sqrt{1+a}}+ \sqrt{1+\sqrt{1+a}} = 2$.
  rw [this] at h₀
  have : Real.sqrt (4 - 4 * Real.sqrt (1 + a)) + Real.sqrt (1 + Real.sqrt (1 + a)) = 2 := by
    linarith only [h₀]

  -- Square both sides to get $4 - 4\sqrt{1+a} + 1 + \sqrt{1+a} + 2\sqrt{(4 - 4\sqrt{1+a})(1 + \sqrt{1+a})} = 4$.
  -- Simplify to get $2\sqrt{(4 - 4\sqrt{1+a})(1 + \sqrt{1+a})} = 3\sqrt{1+a} - 1$.
  have : 2 * Real.sqrt ((4 - 4 * Real.sqrt (1 + a)) * (1 + Real.sqrt (1 + a))) = 3 * Real.sqrt (1 + a) - 1 := by
    specialize Real.sqrt_nonneg (1 + a)
    linarith only [this]

  -- Square both sides again to get some terms cancel out we get $(11 - 4\sqrt{1+a})^2 = 0$.
  -- Note that $11 - 4\sqrt{1+a} > 0$, so we get $\sqrt{1+a} = \frac{11}{4}$ and $a = \frac{121}{16} - 1 = \boxed{8}$.
  have : (11 - 4 * Real.sqrt (1 + a))^2 = 0 := by
    rw [sub_sq, mul_pow, Real.sq_sqrt (by linarith only [Real.sqrt_nonneg (1 + a)])]
    linarith only [this]

  linarith only [sq_eq_zero_iff.1 this, Real.sqrt_nonneg (1 + a)]

```