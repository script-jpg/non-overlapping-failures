-- The equation $2n \equiv 15 \pmod{47}$ means $2n = 15 + 47k$ for some integer $k$.
  have h₁ : 2 * n = 15 + 47 * (n / 47) := by omega

  -- $2n \equiv 15 \pmod{47}$ implies $n \equiv 31 \pmod{47}$.
  have h₂ : n = 31 + 47 * (n / 47) := by omega

  -- So one solution is $n = 31$, in the range $0 \leq n < 47$.
  have h₃ : n % 47 = 31 := by omega

  exact h₃

```
The key insight is that to solve the congruence $2n \equiv 15 \pmod{47}$, we need to find the multiplicative inverse of 2 modulo 47. Since 47 is a prime number, every non-zero element in the field $\mathbb{Z}_{47}$ has an inverse. We can find the inverse of 2 by testing values or using the extended Euclidean algorithm.

Using the Euclidean algorithm:
- $47 = 2 \cdot 23 + 1$
- $2 = 1 \cdot 2 + 0$
The gcd is 1, and working backwards:
- $1 = 47 - 2 \cdot 23$
So, $-23 \equiv 1 \pmod{47}$, which means $2 \cdot (-23) \equiv 1 \pmod{47}$.
Therefore, $-23$ is the multiplicative inverse of 2 modulo 47. Since $-23 \equiv 24 \pmod{47}$ (because $-23 + 47 = 24$), we can also say that 24 is the multiplicative inverse of 2 modulo 47.

Now, to solve $2n \equiv 15 \pmod{47}$, we multiply both sides by 24:
$n \equiv 15 \cdot 24 \pmod{47}$
$n \equiv 360 \pmod{47}$
$n \equiv 31 \pmod{47}$ (because $360 \div 47 = 7$ with remainder $31$)

So $n = 31$ is the solution in the range $0 \leq n < 47$.

The Lean proof takes a different approach by using omega to solve the arithmetic goals. The statement $2n \equiv 15 \pmod{47}$ is translated to $2n = 15 + 47k$ for some integer $k$. Then it's shown that $n = 31 + 47m$ for some integer $m$, which implies $n \equiv 31 \pmod{47}$.
</blockquote>
```lean4
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat

/- Solve the congruence $2n \equiv 15 \pmod{47}$, as a residue modulo 47.  (Give an answer between 0 and 46.) Show that it is 31.-/
theorem mathd_numbertheory_99 (n : ℕ) (h₀ : 2 * n % 47 = 15) : n % 47 = 31 := by
  -- The equation $2n \equiv 15 \pmod{47}$ means $2n = 15 + 47k$ for some integer $k$.
  have h₁ : 2 * n = 15 + 47 * (n / 47) := by omega

  -- $2n \equiv 15 \pmod{47}$ implies $n \equiv 31 \pmod{47}$.
  have h₂ : n = 31 + 47 * (n / 47) := by omega

  -- So one solution is $n = 31$, in the range $0 \leq n < 47$.
  have h₃ : n % 47 = 31 := by omega

  exact h₃
```