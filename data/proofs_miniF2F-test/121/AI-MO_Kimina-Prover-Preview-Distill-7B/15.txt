-- We try to solve the equation $2n \equiv 15 \pmod{47}$.

  -- First, we note that $\gcd(2,47) = 1$, so 2 is a unit mod 47.
  have h₁ : Nat.Coprime 2 47 := by norm_num

  -- To solve the equation, we need to multiply both sides by the inverse of 2.
  have h₂ : 2 * n % 47 = 15 → n % 47 = 31 := by
    intro hn
    -- To multiply both sides by the inverse of 2, we need to find a number $k$ such that $2k \equiv 1 \pmod{47}$.
    have hinv : 2 * 24 = 15 := by norm_num
    have hinv' : 2 * 24 % 47 = 15 := by norm_num
    have hinv'' : 2 * 24 * n % 47 = 15 * n % 47 := by
      rw [Nat.mul_mod, hinv']
    -- Then we multiply both sides by 24.
    rw [← hinv''] at hn
    -- We also multiply the right-hand side by 24.
    have h₃ : 15 * n % 47 = 15 * 31 % 47 := by
      rw [h₀]
    rw [h₃] at hn
    -- The result is $n \equiv 31 \pmod{47}$.
    have h₄ : n % 47 = 31 := by
      omega
    exact h₄

  exact h₂ h₀
```