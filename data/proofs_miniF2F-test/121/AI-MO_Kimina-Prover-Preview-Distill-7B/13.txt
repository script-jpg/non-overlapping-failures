/- The problem asks us to solve the congruence $2n \equiv 15 \pmod{47}$ and give the answer as a residue between 0 and 46. I'll approach this systematically, explaining both the mathematical reasoning and the formal Lean 4 code.

First, let's think about how to solve the congruence $2n \equiv 15 \pmod{47}$. This is a linear congruence equation of the form $an \equiv b \pmod{m}$, where $a = 2$, $b = 15$, and $m = 47$. The standard approach to solve such equations is to find the multiplicative inverse of $a$ modulo $m$ and then multiply both sides of the congruence by this inverse.

The multiplicative inverse of a number $a$ modulo $m$ is a number $c$ such that $a \cdot c \equiv 1 \pmod{m}$. In our case, we need to find $c$ such that $2 \cdot c \equiv 1 \pmod{47}$. This means we're looking for a number $c$ between 0 and 46 such that $2c - 47k = 1$ for some integer $k$. This is a Diophantine equation, and we can solve it using the extended Euclidean algorithm.

Let's apply the extended Euclidean algorithm to find the inverse of 2 modulo 47:

1. Divide 47 by 2: $47 = 2 \cdot 23 + 1$
2. Divide 2 by 1: $2 = 1 \cdot 2 + 0$

From the first step, we have $1 = 47 - 2 \cdot 23$. Thus, $c = -23 \equiv 24 \pmod{47}$ is the multiplicative inverse of 2 modulo 47.

Now we can solve for $n$ by multiplying both sides of $2n \equiv 15 \pmod{47}$ by 24:

$n \equiv 15 \cdot 24 \pmod{47}$
$n \equiv 360 \pmod{47}$

To compute $360 \bmod 47$, we divide 360 by 47:

$360 \div 47 \approx 7.659574468$
So the quotient is 7, and $360 - 47 \cdot 7 = 360 - 329 = 31$.

Therefore, $n \equiv 31 \pmod{47}$, and 31 is between 0 and 46, so our answer is 31.

Now, let's translate this into Lean 4 code:

```tactics
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat
```

We need to import the appropriate libraries and open namespaces for number theory operations.

Now, let's define the theorem:

```tactics
theorem mathd_numbertheory_99 (n : ℕ) (h₀ : 2 * n % 47 = 15) : n % 47 = 31 := by
```

We have the hypothesis that $2n \equiv 15 \pmod{47}$, and we need to prove that $n \equiv 31 \pmod{47}$.

To solve this in Lean, we'll use the fact that we're working with a modular equation. We can approach this by considering all possible values of $n \bmod 47$ and finding which one satisfies $2n \equiv 15 \pmod{47}$. Since 47 is a prime, and 2 is not divisible by 47, 2 has an inverse modulo 47.

Let's complete the proof by checking that $n = 31$ is the unique solution:

```tactics
have h1 : n % 47 = 31 := by
  omega
exact h1
```

The `omega` tactic is powerful enough to solve arithmetic goals involving natural numbers and integer arithmetic. It's able to deduce that if $2n \equiv 15 \pmod{47}$, then $n \equiv 31 \pmod{47}$ by essentially performing the computation we did manually: finding that the multiplicative inverse of 2 modulo 47 is 24, and then computing $15 \cdot 24 \bmod 47 = 31$.

So our complete proof is remarkably concise because Lean's automation can handle this kind of arithmetic reasoning directly. The key insight is that for a prime modulus like 47, every non-zero residue has a unique inverse, and thus linear congruences have unique solutions modulo that prime. Since we found that $n \equiv 31 \pmod{47}$ satisfies $2n \equiv 15 \pmod{47}$, and 31 is in the range [0, 46], it's the unique answer to the problem.

Therefore, the solution to the congruence $2n \equiv 15 \pmod{47}$ as a residue between 0 and 46 is 31.
</- Solve the congruence $2n \equiv 15 \pmod{47}$, as a residue modulo 47.  (Give an answer between 0 and 46.) Show that it is 31.-/
theorem mathd_numbertheory_99 (n : ℕ) (h₀ : 2 * n % 47 = 15) : n % 47 = 31 := by
  have h1 : n % 47 = 31 := by
    omega
  exact h1
```