-- $h(1) = 9$.
  have h1 : h 1 = 9 := by
    simp [h₂, h₀, h₁]
  -- $h(2) = 1$.
  have h2 : h 2 = 1 := by
    simp [h₂, h₀, h₁]
  -- $h(3) = 1$.
  have h3 : h 3 = 1 := by
    simp [h₂, h₀, h₁]
  -- $h(4) = 1$.
  have h4 : h 4 = 1 := by
    simp [h₂, h₀, h₁]
  -- $h(5) = 9$.
  have h5 : h 5 = 9 := by
    simp [h₂, h₀, h₁]
  -- $h(6) = 1$.
  have h6 : h 6 = 1 := by
    simp [h₂, h₀, h₁]
  -- $h(7) = 1$.
  have h7 : h 7 = 1 := by
    simp [h₂, h₀, h₁]
  -- $h(8) = 1$.
  have h8 : h 8 = 1 := by
    simp [h₂, h₀, h₁]
  -- $h(9) = 9$.
  have h9 : h 9 = 9 := by
    simp [h₂, h₀, h₁]
  -- $h(10) = 1$.
  have h10 : h 10 = 1 := by
    simp [h₂, h₀, h₁]

  -- We prove that $h(x) \leq 9$ for all $x$.
  have hx_le (x : ℕ+) : h x ≤ 9 := by
    by_cases hx : x ≤ 10
    · interval_cases x
      · exact Nat.le_of_eq (Eq.symm h1)
      · exact Nat.le_of_eq (Eq.symm h2)
      · exact Nat.le_of_eq (Eq.symm h3)
      · exact Nat.le_of_eq (Eq.symm h4)
      · exact Nat.le_of_eq (Eq.symm h5)
      · exact Nat.le_of_eq (Eq.symm h6)
      · exact Nat.le_of_eq (Eq.symm h7)
      · exact Nat.le_of_eq (Eq.symm h8)
      · exact Nat.le_of_eq (Eq.symm h9)
      · exact Nat.le_of_eq (Eq.symm h10)
    · push_neg at hx
      have h11 : x = 11 ∨ x = 12 ∨ x = 13 ∨ x = 14 ∨ x = 15 ∨ x = 16 ∨ x = 17 ∨ x = 18 ∨ x = 19 ∨ x = 20 ∨ x ≥ 21 := by
        omega
      rcases h11 with (rfl | rfl | rfl | rfl | rfl | rfl | rfl | rfl | rfl | rfl | hx')
      · have s : Nat.gcd 133 67 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 140 69 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 147 71 = 2 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 154 73 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 161 75 = 7 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 168 77 = 14 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 175 79 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 182 81 = 13 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 189 83 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 196 85 = 17 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · simp [h₂, h₀, h₁] at hx'
        have s : Nat.gcd 203 87 = 1 := by
          norm_num
        simp [s] at hx'
        omega

  -- We prove that $h(x) = 9$ for all $x$.
  have hx_eq (x : ℕ+) : h x = 9 := by
    by_cases hx : x ≤ 10
    · interval_cases x
      · exact Eq.symm h1
      · exact Eq.symm h2
      · exact Eq.symm h3
      · exact Eq.symm h4
      · exact Eq.symm h5
      · exact Eq.symm h6
      · exact Eq.symm h7
      · exact Eq.symm h8
      · exact Eq.symm h9
      · exact Eq.symm h10
    · push_neg at hx
      have h11 : x = 11 ∨ x = 12 ∨ x = 13 ∨ x = 14 ∨ x = 15 ∨ x = 16 ∨ x = 17 ∨ x = 18 ∨ x = 19 ∨ x = 20 ∨ x ≥ 21 := by
        omega
      rcases h11 with (rfl | rfl | rfl | rfl | rfl | rfl | rfl | rfl | rfl | rfl | hx')
      · have s : Nat.gcd 133 67 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 140 69 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 147 71 = 2 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 154 73 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 161 75 = 7 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 168 77 = 14 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 175 79 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 182 81 = 13 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 189 83 = 1 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · have s : Nat.gcd 196 85 = 17 := by
          norm_num
        simp [h₂, h₀, h₁, s]
      · simp [h₂, h₀, h₁] at hx'
        have s : Nat.gcd 203 87 = 1 := by
          norm_num
        simp [s] at hx'
        omega

  -- The sum of all possible values of $h(x)$ is 12.
  have : (Set.range h) = {9} := by
    ext k
    simp
    constructor
    · intro h9
      simp [h9]
      exact hx_eq (Nat.succ k)
    · intro hk
      simp [hk]
      exact ⟨h9, hx_le (Nat.succ k)⟩
  simp [this]
```