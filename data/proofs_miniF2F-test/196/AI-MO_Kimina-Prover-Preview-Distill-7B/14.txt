/- The greater of the two integers is 18. -/
  have h₄ : m = 18 := by
    suffices m = 18 by exact this
    by_cases h₅ : m ≤ n
    · /- We have that $m \leq n$, so $m^2 \leq 288$ and $m \leq 16$. -/
      suffices m ≤ 16 by omega
      rw[← @Nat.le_sqrt' _ _ (by norm_num)]
      calc _ ≤ Nat.sqrt (m * n) := by apply Nat.le_sqrt_mul' <;> try omega
           _ = Nat.sqrt (m * m) := by rw[← h₃, h₂]
           _ = _ := by simp
    · /- We have that $n \leq m$, so $n^2 \leq 288$ and $n \leq 16$. -/
      suffices n ≤ 16 by omega
      rw[← @Nat.le_sqrt' _ _ (by norm_num)]
      calc _ ≤ Nat.sqrt (m * n) := by apply Nat.le_sqrt_mul' <;> try omega
           _ = Nat.sqrt (n * n) := by rw[← h₃]; omega
           _ = _ := by simp

    /- Now we have $m$ is a positive even number which is no greater than 16, so we can try all possible values of $m$.-/
    interval_cases m <;> simp at h₃ <;> omega

  exact h₄
```