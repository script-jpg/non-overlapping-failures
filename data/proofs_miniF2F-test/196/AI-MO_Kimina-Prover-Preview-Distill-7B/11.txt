-- some auxiliary lemma that may be useful later

  have l_1 (x y : ℕ) : x < y → x * x < x * y := by

    intro h

    have : x * x < y * x := Nat.mul_lt_mul_of_pos_left h (Nat.zero_lt_of_ne_zero x)

    apply Nat.mul_lt_mul_of_pos_right this y

  have l_2 (x y : ℕ) : x < y → x + x < y + x := by

    intro h

    apply Nat.add_lt_add_right h x

  have l_3 (x y : ℕ) : x < y → x * y < y * y := by

    intro h

    have : y * x < y * y := Nat.mul_lt_mul_of_pos_left h (Nat.zero_lt_of_ne_zero y)

    apply Nat.mul_lt_mul_of_pos_right this x

  have l_4 (x y z : ℕ) : x < y → x * z < y * z := by

    intro h

    apply Nat.mul_lt_mul_of_pos_right h z

  /- the problem statement -/
  have h₀: m + 2 = n → m * m - 2 * m - 288 = 0 := by

    intro h

    rw [←h] at h₃

    rw [show m * (m + 2) = m * m + 2 * m by ring] at h₃

    rw [show m * (m + 2) - 288 = m * m - 2 * m - 288 by ring] at h₃

    exact h₃.symm

  have h₁: m * m - 2 * m - 288 = 0 → m * n - 288 = 0 := by

    intro h

    rw [←h₃] at h

    rw [show m * n - 288 = m * m - 2 * m - 288 by rw [show n = m + 2 by ring] ; ring] at h

    exact h.symm

  have h₂: m * n - 288 = 0 → n * n - 2 * n - 288 = 0 := by

    intro h

    rw [show n * n - 2 * n - 288 = m * n - 288 - 2 * m by rw [show n = m + 2 by ring] ;ring] at h

    rw [←h₃] at h

    exact h.symm

  have h₃: m * m - 2 * m - 288 = 0 → m = 18 := by

    intro h

    have q_1 : m * m  - 288 = 0 := by

      rw [show m * m - 288 = m * m - 2 * m - 288 by ring] at h

      exact h

    have q_2 : m < 20 := by

      by_contra! q

      have : m * m > 400 := by

        rw [show m * m = m * m - 20 * 20 + 400 by ring]

        have : m * m - 20 * 20 > 0 := by

          calc

            m * m - 20 * 20 = (m - 20) * (m + 20) := by ring

            _ ≥ 0 := by apply Nat.mul_nonneg ; linarith! ; linarith!

        exact this

        linarith!

      linarith!

    have q_3 : m > 16 := by

      by_contra! q

      have : m * m < 400 := by

        rw [show m * m = m * m - 16 * 16 + 256 by ring]

        have : m * m - 16 * 16 < 0 := by

          calc

            m * m - 16 * 16 = (m - 16) * (m + 16) := by ring

            _ ≤ 0 := by apply Nat.mul_nonpos_of_nonpos_of_nonneg (by linarith!) (by linarith!)

        exact this

        linarith!

      linarith!



    interval_cases m

    any_goals contradiction

    18: trivial

  -- the main calculation

  have : m + 2 = n := by

    apply Nat.eq_sub_of_add_eq' at h₂

    exact h₂.symm

  rw [this] at h₃

  exact h₃ (show m * m - 2 * m - 288 = 0 by rw [h₃]; ring)

```