by_cases hm : m < n

  -- m < n is impossible.

  · have : m * n < n * n := Nat.mul_lt_mul_of_pos_right hm (by omega)
    have : n * n = 288 := by omega
    have h : n < 18 := by nlinarith
    have : Even (n - 18) := by simp [h]
    have : ¬Even (n - 18) := by simp [h]
    contradiction

  -- We have m > n.

  have h₀ : ¬Even (m - 18) := by simp [h₂]
  have h₁ : Even (n - 18) := by
    rw [← h₂]
    simp [h₀]
  have h₃ : n > 18 := by nlinarith
  have : n - m = 2 := by omega
  have : m * n = 18 * 16 + 18 * 2 := by omega
  have : m = 18 := by omega

```