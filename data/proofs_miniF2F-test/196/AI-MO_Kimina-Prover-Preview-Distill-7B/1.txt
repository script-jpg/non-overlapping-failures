by_cases hm : m < n

  · -- Since even m = n + 2, we have n * (n + 2) = 288.
    rw [show m = n + 2 by omega, ←mul_add] at h₃

    -- We have (n - 16) * (n + 18) = 0.
    have h₄ : (n - 16) * (n + 18) = 0 := by
      calc
        _ = n * n + 2 * n - 288 := by ring
        _ = n * (n + 2) - 288 := by ring
        _ = _ := by rw [h₃]; ring

    -- This means that n = 16 or n = -18. Since n > 0, we have n = 16.
    have h₅ : n = 16 := by
      have h₅ : n - 16 = 0 ∨ n + 18 = 0 := mul_eq_zero.mp h₄
      rcases h₅ with (h₅ | h₅)
      · -- If n - 16 = 0, then n = 16.
        omega
      · -- Since n > 0, n + 18 > 0, a contradiction.
        have h₆ : n > 0 := by
          by_contra! h₆
          have h₇ : n = 0 := by omega
          simp [h₇] at h₃
        linarith only [h₅, h₆]

    -- Therefore, m = 18.
    have h₆ : m = 18 := by
      rw [h₅] at hm
      omega
    exact h₆

  · -- Since even n = m + 2, we have m * (m + 2) = 288.
    rw [show n = m + 2 by omega, ←mul_add] at h₃

    -- We have (m - 16) * (m + 18) = 0.
    have h₄ : (m - 16) * (m + 18) = 0 := by
      calc
        _ = m * m + 2 * m - 288 := by ring
        _ = m * (m + 2) - 288 := by ring
        _ = _ := by rw [h₃]; ring

    -- This means that m = 16 or m = -18. Since m > 0, we have m = 16.
    have h₅ : m = 16 := by
      have h₅ : m - 16 = 0 ∨ m + 18 = 0 := mul_eq_zero.mp h₄
      rcases h₅ with (h₅ | h₅)
      · -- If m - 16 = 0, then m = 16.
        omega
      · -- Since m > 0, m + 18 > 0, a contradiction.
        have h₆ : m > 0 := by
          by_contra! h₆
          have h₇ : m = 0 := by omega
          simp [h₇] at h₃
        linarith only [h₅, h₆]

    -- Therefore, m = 18.
    rw [h₅] at hm
    omega

```