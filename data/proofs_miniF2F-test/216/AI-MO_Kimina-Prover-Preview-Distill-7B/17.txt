-- Let $X = \max \{ |x|, |y|, |z| \}$
  let X := max (max |x| |y|) |z|

  -- The following three lemmas handle the three conditions of the problem, respectively.
  have g₀ : a 0 * x + a 1 * y + a 2 * z ≤ a 0 * X + a 1 * X + a 2 * X := by
    apply add_le_add
    apply add_le_add
    repeat apply mul_le_mul_of_nonneg_right
    repeat { split_ands <;> simp [X] }

  have g₁ : a 3 * x + a 4 * y + a 5 * z ≤ a 3 * X + a 4 * X + a 5 * X := by
    apply add_le_add
    apply add_le_add
    repeat apply mul_le_mul_of_nonneg_right
    repeat { split_ands <;> simp [X] }

  have g₂ : a 6 * x + a 7 * y + a 8 * z ≤ a 6 * X + a 7 * X + a 8 * X := by
    apply add_le_add
    apply add_le_add
    repeat apply mul_le_mul_of_nonneg_right
    repeat { split_ands <;> simp [X] }

  -- Prove that $X$ is nonnegative
  have g₃ : 0 ≤ X := by
    apply max_nonneg
    apply max_nonneg
    apply abs_nonneg
    apply abs_nonneg

  -- Split the goal into two cases
  by_cases h : X ≤ 0
 . -- If $X$ is nonpositive, it must be zero.
    have g₄ : X = 0 := by
      apply le_antisymm
     . exact g₃
     . exact h

    simp [g₄] at g₀ g₁ g₂
    split_ands <;> linarith
 . -- Assume $X$ is positive, and rewrite the three lemmas.
    have g₄ : g₀ ≡ a 0 * X + a 1 * X + a 2 * X + (a 1 * y + a 2 * z - a 1 * X - a 2 * X) ≤ a 0 * X + a 1 * X + a 2 * X := by tauto
    have g₅ : g₁ ≡ a 3 * X + a 4 * X + a 5 * X + (a 4 * y + a 5 * z - a 4 * X - a 5 * X) ≤ a 3 * X + a 4 * X + a 5 * X := by tauto
    have g₆ : g₂ ≡ a 6 * X + a 7 * X + a 8 * X + (a 7 * y + a 8 * z - a 7 * X - a 8 * X) ≤ a 6 * X + a 7 * X + a 8 * X := by tauto

    -- If the nonnegative part of the right-hand side is positive, the whole right-hand side is positive.
    have g₇ : a 0 * X + a 1 * X + a 2 * X + (a 1 * y + a 2 * z - a 1 * X - a 2 * X) > 0 := by
      apply lt_of_le_of_pos
     . exact g₀
     . apply add_pos
        apply mul_pos
        exact h₄.left
        { split_ands <;> apply le_of_lt; apply add_pos; apply mul_pos?_?_ <;> try linarith }
        apply mul_pos
        exact h₄.right
        { split_ands <;> apply le_of_lt; apply add_pos; apply mul_pos?_?_ <;> try linarith }

    -- If the nonnegative part of the right-hand side is positive, the whole left-hand side is positive.
    have g₈ : a 3 * X + a 4 * X + a 5 * X + (a 4 * y + a 5 * z - a 4 * X - a 5 * X) > 0 := by
      apply lt_of_le_of_pos
     . exact g₁
     . apply add_pos
        apply mul_pos
        exact h₄.left
        { split_ands <;> apply le_of_lt; apply add_pos; apply mul_pos?_?_ <;> try linarith }
        apply mul_pos
        exact h₄.right
        { split_ands <;> apply le_of_lt; apply add_pos; apply mul_pos?_?_ <;> try linarith }

    -- If the nonnegative part of the right-hand side is positive, the whole left-hand side is positive.
    have g₉ : a 6 * X + a 7 * X + a 8 * X + (a 7 * y + a 8 * z - a 7 * X - a 8 * X) > 0 := by
      apply lt_of_le_of_pos
     . exact g₂
     . apply add_pos
        apply mul_pos
        exact h₄.left
        { split_ands <;> apply le_of_lt; apply add_pos; apply mul_pos?_?_ <;> try linarith }
        apply mul_pos
        exact h₄.right
        { split_ands <;> apply le_of_lt; apply add_pos; apply mul_pos?_?_ <;> try linarith }

    -- Prove that the nonnegative part of the right-hand side is positive.
    have g₁₀ : a 0 * X + a 1 * X + a 2 * X > 0 := by
      apply lt_of_le_of_pos
     . exact h₄.left
     . apply add_pos
        apply mul_pos
        exact g₃
        apply le_of_lt
        apply add_pos
        apply mul_pos
        exact h₄.left
        { split_ands <;> linarith }
        apply mul_pos
        exact h₄.right
        { split_ands <;> linarith }

    have g₁₁ : a 3 * X + a 4 * X + a 5 * X > 0 := by
      apply lt_of_le_of_pos
     . exact h₄.right
     . apply add_pos
        apply mul_pos
        exact g₃
        apply le_of_lt
        apply add_pos
        apply mul_pos
        exact h₄.left
        { split_ands <;> linarith }
        apply mul_pos
        exact h₄.right
        { split_ands <;> linarith }

    have g₁₂ : a 6 * X + a 7 * X + a 8 * X > 0 := by
      apply lt_of_le_of_pos
     . exact h₄.right
     . apply add_pos
        apply mul_pos
        exact g₃
        apply le_of_lt
        apply add_pos
        apply mul_pos
        exact h₄.left
        { split_ands <;> linarith }
        apply mul_pos
        exact h₄.right
        { split_ands <;> linarith }

    -- Prove that the nonnegative part of the right-hand side is equal to the whole right-hand side.
    have g₁₃ : a 0 * X + a 1 * X + a 2 * X + (a 1 * y + a 2 * z - a 1 * X - a 2 * X) = a 0 * X + a 1 * X + a 2 * X := by
      apply eq_of_le_of_le
     . exact g₀
     . apply le_of_lt
        apply add_pos
        exact g₁₀

    have g₁₄ : a 3 * X + a 4 * X + a 5 * X + (a 4 * y + a 5 * z - a 4 * X - a 5 * X) = a 3 * X + a 4 * X + a 5 * X := by
      apply eq_of_le_of_le
     . exact g₁
     . apply le_of_lt
        apply add_pos
        exact g₁₁

    have g₁₅ : a 6 * X + a 7 * X + a 8 * X + (a 7 * y + a 8 * z - a 7 * X - a 8 * X) = a 6 * X + a 7 * X + a 8 * X := by
      apply eq_of_le_of_le
     . exact g₂
     . apply le_of_lt
        apply add_pos
        exact g₁₂

    -- Now we have four goals, and the first three can be solved by linarith.
    split_ands
   . linarith
   . linarith
   . linarith
   . -- Rewrite and simplify the last equation.
      apply congrArg (fun x ↦ x - (a 7 * y + a 8 * z - a 7 * X - a 8 * X)) at h₉
      apply add_sub_cancel_right at h₉
      rw [sub_eq_iff_eq_add] at h₉
      linarith


```