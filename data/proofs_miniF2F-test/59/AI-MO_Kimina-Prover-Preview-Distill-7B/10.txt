-- We prove that $x^2 y^2 = 196$.

  -- We have $(1 + 3x^2)y^2 = 30x^2 + 517$.
  have h₁ : (1 + 3 * x ^ 2) * y ^ 2 = 30 * x ^ 2 + 517 := by
    rw [←h₀]
    ring

  -- $1 + 3x^2$ divides $30x^2 + 517$.
  replace h₁ : (1 + 3 * x ^ 2) ∣ 30 * x ^ 2 + 517 := by
    use y ^ 2
    exact h₁.symm

  -- $1 + 3x^2$ divides $30x^2 + 517$ and $1 + 3x^2 \geq 1$ implies that $1 + 3x^2 \leq 30x^2 + 517$.
  have h₂ : 1 + 3 * x ^ 2 ≤ 30 * x ^ 2 + 517 := by
    apply Int.le_of_dvd (by positivity) h₁

  -- We have $3x^2 \geq 0$.
  have h₃ : 3 * x ^ 2 ≥ 0 := by
    positivity

  -- We have $3x^2 \leq 102$.
  have h₄ : 3 * x ^ 2 ≤ 102 := by
    linarith only [h₂, h₃]

  -- Therefore, $x^2 \leq 34$.
  have h₅ : x ^ 2 ≤ 34 := by
    linarith only [h₄]

  -- We have $x^2 y^2 \leq 34 \cdot y^2$.
  have h₆ : x ^ 2 * y ^ 2 ≤ 34 * y ^ 2 := by
    apply Int.mul_le_mul_of_nonneg_right
    exact h₅
    exact sq_nonneg y

  -- We have $34 \cdot y^2 \leq 30x^2 + 517$.
  have h₇ : 34 * y ^ 2 ≤ 30 * x ^ 2 + 517 := by
    linarith only [h₁, h₆]

  -- We have $y^2 \leq 15$.
  have h₈ : y ^ 2 ≤ 15 := by
    nlinarith only [h₇]

  -- We have $x^2 \geq 0$.
  have h₉ : x ^ 2 ≥ 0 := by
    exact sq_nonneg x

  -- We have $x^2 \leq 34$, $y^2 \leq 15$ and $x^2 y^2 \leq 34 \cdot y^2$.
  have h₁₀ : x ^ 2 * y ^ 2 ≤ 34 * 15 := by
    apply Int.mul_le_mul
    exact h₅
    exact h₈
    apply Int.mul_le_mul_of_nonneg
    exact sq_nonneg x
    exact sq_nonneg y

  -- We have $34 \cdot 15 < 30x^2 + 517$.
  have h₁₁ : 34 * 15 < 30 * x ^ 2 + 517 := by
    linarith only [h₇, h₈]

  -- We have $x^2 y^2 < 34 \cdot 15$.
  have h₁₂ : x ^ 2 * y ^ 2 < 34 * 15 := by
    linarith only [h₁₀, h₁₁]

  -- We have $x^2 y^2 = 196$.
  have h₁₃ : x ^ 2 * y ^ 2 = 196 := by
    nlinarith only [h₁₂, h₁₀]

  -- Multiplying both sides of the equation $(1 + 3x^2)y^2 = 30x^2 + 517$ by 2 gives
  -- $(2 + 6x^2)y^2 = 60x^2 + 1034$.
  replace h₁ : (2 + 6 * x ^ 2) * y ^ 2 = 60 * x ^ 2 + 1034 := by
    linarith only [h₁]

  -- We have $60x^2 + 1034 \geq 0$.
  have h₁₄ : 60 * x ^ 2 + 1034 ≥ 0 := by
    positivity

  -- We have $60x^2 \leq 1034$.
  have h₁₅ : 60 * x ^ 2 ≤ 1034 := by
    linarith only [h₁₄, h₁]

  -- We have $x^2 \leq 17$.
  have h₁₆ : x ^ 2 ≤ 17 := by
    linarith only [h₁₅]

  -- We have $x^2 y^2 \leq 17 \cdot y^2$.
  have h₁₇ : x ^ 2 * y ^ 2 ≤ 17 * y ^ 2 := by
    apply Int.mul_le_mul_of_nonneg_right
    exact h₁₆
    positivity

  -- We have $17 \cdot y^2 \leq 60x^2 + 1034$.
  have h₁₈ : 17 * y ^ 2 ≤ 60 * x ^ 2 + 1034 := by
    linarith only [h₁, h₁₇]

  -- We have $y^2 \leq 38$.
  have h₁₉ : y ^ 2 ≤ 38 := by
    nlinarith only [h₁₈]

  -- We have $3x^2 y^2 = 3 \cdot 196 = \boxed{588}$.
  linarith only [h₁₃, h₁₈, h₁₉]

```