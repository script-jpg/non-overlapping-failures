-- We need the following lemma to prove the inequality of this problem:
  -- For all $x, y$ with $x \leq y$, we have $y(x-y) \leq 0$.
  have lem {x y : ℝ} (h : x ≤ y) : y * (x - y) ≤ 0 := by
    apply mul_nonpos_of_nonneg_of_nonpos
    · exact h
    · exact sub_nonpos.mpr h

  -- We have $a^2(b+c-a) \leq a^2 \cdot 2b$ because $b+c-a \leq b+c < b+a \leq 2b$.
  have h1 : a ^ 2 * (b + c - a) ≤ a ^ 2 * 2 * b := by
    have : b + c - a ≤ 2 * b := by
      calc
        _ ≤ b + c := by apply sub_nonpos.mpr; linarith
        _ ≤ b + a := by exact add_le_add_right h₂.left
        _ = 2 * b := by ring
    apply mul_le_mul_of_nonneg_left
    · exact this
    · exact sq_nonneg a

  -- We have $b^2(c+a-b) \leq b^2 \cdot 2c$ because $c+a-b \leq c+a < c+b \leq 2c$.
  have h2 : b ^ 2 * (c + a - b) ≤ b ^ 2 * 2 * c := by
    have : c + a - b ≤ 2 * c := by
      calc
        _ ≤ c + a := by apply sub_nonpos.mpr; linarith
        _ ≤ c + b := by exact add_le_add_right h₃.left
        _ = 2 * c := by ring
    apply mul_le_mul_of_nonneg_left
    · exact this
    · exact sq_nonneg b

  -- We have $c^2(a+b-c) \leq c^2 \cdot 2a$ because $a+b-c \leq a+c < a+b \leq 2a$.
  have h3 : c ^ 2 * (a + b - c) ≤ c ^ 2 * 2 * a := by
    have : a + b - c ≤ 2 * a := by
      calc
        _ ≤ a + b := by apply sub_nonpos.mpr; linarith
        _ ≤ a + c := by exact add_le_add_right h₁.left
        _ = 2 * a := by ring
    apply mul_le_mul_of_nonneg_left
    · exact this
    · exact sq_nonneg c

  -- By the lemma, we have $2bc \cdot (a-b) \leq 0$.
  have h4 : 2 * b * c * (a - b) ≤ 0 := by
    apply lem
    exact sub_nonpos_of_le h₁.left

  -- By the lemma, we have $2ca \cdot (b-c) \leq 0$.
  have h5 : 2 * c * a * (b - c) ≤ 0 := by
    apply lem
    exact sub_nonpos_of_le h₂.left

  -- By the lemma, we have $2ab \cdot (c-a) \leq 0$.
  have h6 : 2 * a * b * (c - a) ≤ 0 := by
    apply lem
    exact sub_nonpos_of_le h₃.left

  -- We have
  -- $abc \cdot 3 = abc \cdot (a-b+b-c+c-a) = ab \cdot c \cdot (a-b) + bc \cdot a \cdot (b-c) + ca \cdot b \cdot (c-a) \geq 0$.
  have h7 : 3 * a * b * c ≥ 0 := by
    calc
      _ = a * b * c * (a - b + b - c + c - a) := by ring
      _ = a * b * c * (a - b) + a * b * c * (b - c) + a * b * c * (c - a) := by ring
      _ = a * b * (c * (a - b) + c * (b - c) + c * (c - a)) := by ring
      _ = a * b * (2 * b * c * (a - b) + 2 * c * a * (b - c) + 2 * a * b * (c - a)) := by ring
      _ = 2 * (a * b * c * (a - b) + b * c * a * (b - c) + c * a * b * (c - a)) := by ring
      _ = 2 * (a * b * c * (a - b) + a * b * c * (b - c) + a * b * c * (c - a)) := by ring
      _ = 2 * a * b * c * (a - b + b - c + c - a) := by ring
      _ = 2 * a * b * c * 0 := by ring
      _ = 0 := by ring
  linarith
```