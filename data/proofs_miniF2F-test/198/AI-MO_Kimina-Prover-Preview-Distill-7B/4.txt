-- A key lemma in solving this problem is to prove that $x^2(y-z)+y^2(z-x)+z^2(x-y)\ge 0$ for
  -- any real numbers $x, y, z$.
  have h {x y z : ℝ} : x ^ 2 * (y - z) + y ^ 2 * (z - x) + z ^ 2 * (x - y) ≥ 0 := by
    -- This is equivalent to proving $\frac{1}{2}(x-y)^2((x-z)+(y-z))\ge 0$.
    suffices ((x - y) ^ 2) * ((x - z) + (y - z)) ≥ 0 by linarith
    apply mul_nonneg
    · apply pow_two_nonneg
    · linarith

  -- Apply the key lemma to the sides of the triangle:
  have h' := h
  specialize h' a b c
  have h'' := h
  specialize h'' c a b
  have h''' := h
  specialize h''' b c a

  -- Prove that the sum of the three inequalities is the desired result:
  calc
    a ^ 2 * (b + c - a) + b ^ 2 * (c + a - b) + c ^ 2 * (a + b - c)
    _ = (1 / 2) * ((a ^ 2 * (c - b) + b ^ 2 * (a - c) + c ^ 2 * (b - a)) +
        (a ^ 2 * (b - c) + b ^ 2 * (c - a) + c ^ 2 * (a - b)) +
        (a ^ 2 * (c - a) + b ^ 2 * (a - b) + c ^ 2 * (b - c))) := by ring
    _ ≤ (1 / 2) * (3 * a * b * c) := by linarith [h', h'', h''']
    _ = 3 * a * b * c := by linarith
```