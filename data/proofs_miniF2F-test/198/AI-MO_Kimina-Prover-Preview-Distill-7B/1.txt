-- $a, b, c$ are the sides of a triangle, so triangle inequalities are satisfied.

  -- Some positivity results.
  have ha : 0 < a := h₀.1
  have hb : 0 < b := h₀.2.1
  have hc : 0 < c := h₀.2.2
  have hadd : 0 < a + b := by linarith
  have hadd' : 0 < a + c := by linarith
  have hadd'' : 0 < b + c := by linarith
  have hineq : a < b + c := h₃
  have hineq' : b < a + c := h₂
  have hineq'' : c < a + b := h₁

  -- We show that $a^2(b+c-a)+b^2(c+a-b)+c^2(a+b-c)\le{3abc}$.
  -- Expanding the left-hand side, it is enough to prove that
  -- $a^2b + b^2c + c^2a + a^2c + b^2a + c^2b - 3a^2b - 3b^2c - 3c^2a \le 0$.
  -- This is equivalent to $a^2c + b^2a + c^2b \le a^2b + b^2c + c^2a$.
  suffices a ^ 2 * c + b ^ 2 * a + c ^ 2 * b ≤ a ^ 2 * b + b ^ 2 * c + c ^ 2 * a by
    linarith

  -- Rearranging, it is enough to prove that $a^2c - a^2b + b^2a - b^2c + c^2b - c^2a \le 0$.
  suffices a ^ 2 * (c - b) + b ^ 2 * (a - c) + c ^ 2 * (b - a) ≤ 0 by
    linarith

  -- Factorizing, it is enough to prove that $(a - b)(-b + c)(c - a) \le 0$.
  have : a ^ 2 * (c - b) + b ^ 2 * (a - c) + c ^ 2 * (b - a) = (a - b) * (-b + c) * (c - a) := by
    ring
  rw [this]
  clear this

  -- Proving that $(a - b)(-b + c)(c - a) \le 0$ is equivalent to proving that
  -- $(b - a)(b - c)(c - a) \ge 0$.
  suffices (b - a) * (b - c) * (c - a) ≥ 0 by
    linarith

  -- Proving that $(b - a)(b - c)(c - a) \ge 0$ is equivalent to proving that
  -- $(b - a)(c - b)(c - a) \le 0$.
  suffices (b - a) * (c - b) * (c - a) ≤ 0 by
    linarith

  -- Rearranging, it is enough to prove that $(c - b)^2(a - b) \le 0$.
  have : (b - a) * (c - b) * (c - a) = (c - b) ^ 2 * (a - b) := by
    ring
  rw [this]
  clear this

  -- The factor $(c - b)^2$ is nonnegative.
  have : (c - b) ^ 2 ≥ 0 := by
    exact sq_nonneg (c - b)

  -- We know that $a < b + c$ and $b < a + c$, so $a - b < c$ and $b - c < a$.
  have : a - b < c := by linarith
  have : b - c < a := by linarith

  -- Therefore, $(c - b)^2(a - b) \le 0$ is satisfied.
  nlinarith
```