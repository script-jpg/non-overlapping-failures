-- https://artofproblemsolving.com/wiki/index.php/2005_AIMEⅡ_Problems/Problem15

  -- We use the fact that $x$ and $y$ are roots of the polynomial $t^2 - pt + q = 0$
  set p := x + y with hp
  set q := x * y with hq

  -- We can use Newton's identity to compute $s_n = x^n + y^n$ for $n \geq 3$
  have h₄ : x ^ 3 + y ^ 3 = (x + y) * (x ^ 2 + y ^ 2 - x * y) + x * y * (x + y) := by ring
  have h₅ : x ^ 4 + y ^ 4 = (x + y) ^ 2 - 2 * x * y * (x + y) + 2 * (x * y) ^ 2 := by ring
  have h₆ : x ^ 5 + y ^ 5 = (x + y) ^ 3 - 3 * x * y * (x + y) ^ 2 + 3 * (x * y) ^ 2 * (x + y) - (x * y) ^ 3 := by ring

  -- By assumption, we have $s_1 = p$, $s_2 = q$, $s_3 = 16$, and $s_4 = 42$
  have h₇ : p * q = 7 - 3 := by linarith
  have h₈ : p ^ 2 - 2 * q = 16 - 7 := by linarith
  have h₉ : p ^ 3 - 3 * p * q = 42 - 16 := by linarith

  -- Eliminating $q$ from the equations gives $p^3 - 4p = 20$
  have h₁₀ : p ^ 3 - 4 * p = 20 := by linarith

  -- We can factor this equation as $(p - 2)(p ^ 2 + 2p + 10) = 0$
  have h₁₁ : (p - 2) * (p ^ 2 + 2 * p + 10) = 0 := by linarith

  -- Note that $p ^ 2 + 2 * p + 10 > 0$ for all $p$, thus $p = 2$
  have h₁₂ : p = 2 := by nlinarith

  -- Substituting $p = 2$ into the equation gives $q = 1$
  have h₁₃ : q = 1 := by linarith

  -- We rewrite the equations and use the values of $p$ and $q$ to compute $s_5$
  have h₁₄ : x ^ 3 + y ^ 3 = 16 := by linarith
  have h₁₅ : x ^ 4 + y ^ 4 = 42 := by linarith
  have h₁₆ : x ^ 5 + y ^ 5 = 20 := by nlinarith

  -- We substitute $x^5 + y^5 = 20$ into the original equation
  linarith
```