constructor

  -- Let $\mathbb{Z}$ be the set of integers. Determine all functions $f : \mathbb{Z} \to \mathbb{Z}$ such that, for all
  -- integers $a$ and $b$, $f(2a) + 2f(b) = f(f(a + b)).$
  · intro hf

    -- $f(0) = 0$
    have f_0 : f 0 = 0 := by

      -- $f(0) = f(2 \cdot 0) + 2f(0) - 2f(0) = f(f(0 + 0)) - 2f(0)$
      have := hf 0 0
      simp at this
      omega

    -- $f(z) = 0 \or \exists c, \forall z, f z = 2z + c$
    have : ∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c := by

      -- set $a = 0$ in `hf`, we get $f(z) = 0 \or f(z) = 2z + f(0)$
      intro z
      have : f z = 0 ∨ f z = 2 * z + f 0 := by
        have h := hf 0 z
        simp [f_0] at h
        omega
      tauto

    assumption

  -- Verify that $f(z) = 0$ and $f(z) = 2z + c$ satisfy the condition.
  · intro hf z w

    rcases hf z with hz | ⟨c, hc⟩
    · rcases hf w with hw | hw
      · omega
      · omega

    · rcases hf w with hw | hw
      · omega
      · omega

```