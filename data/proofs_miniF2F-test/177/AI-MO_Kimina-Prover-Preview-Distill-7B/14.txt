constructor

  -- sufficiency
 . rintro (h | h)

    -- case 1: f = 0
   . rintro z
      left
      exact h z

    -- case 2: there exists c such that f(z) = 2z + c
   . rintro z
      right
      let c := f 0 - 2 * 0
      have hc : f 0 = 2 * 0 + c := by simp [c]
      have h' := h
      -- we prove that f(z) = 2z + c
      induction z using Int.induction_on with
      | hz =>
        simp
        exact hc
      | hp z hz =>
        simp
        linarith only [h' (2 * z) 0, hc]
      | hn z hz =>
        simp
        rw [Int.negSucc, Int.negSucc]
        linarith only [h' (-2 * z) 0, hc]

  -- necessity
 . rintro h
    rcases h with h | ⟨c, h⟩
   . -- if f = 0
      rintro a b
      simp [h]
   . -- if there exists c such that f(z) = 2z + c
      rintro a b
      simp [h]
      ring

```