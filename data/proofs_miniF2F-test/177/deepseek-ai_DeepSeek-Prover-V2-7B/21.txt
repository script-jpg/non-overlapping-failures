have step1 : (∀ a b, f (2 * a) + 2 * f b = f (f (a + b))) → ∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c := by
    intro hf
    have h1 := hf 0 0
    have h2 := hf 0 (f 0)
    have h3 := hf (f 0) 0
    have h4 := hf (f 0) (f 0)
    have h5 := hf 1 0
    have h6 := hf 0 1
    have h7 := hf 1 1
    have h8 := hf (-1) 1
    have h9 := hf 1 (-1)
    have h10 := hf (-1) (-1)
    have h11 := hf 0 2
    have h12 := hf 2 0
    have h13 := hf 2 1
    have h14 := hf 2 (-1)
    have h15 := hf (-2) 1
    have h16 := hf (-1) 2
    have h17 := hf (-2) (-1)
    have h18 := hf 2 2
    have h19 := hf (-2) (-2)
    have h20 := hf 1 (-2)
    have h21 := hf (-1) (-2)
    have h22 := hf (-2) 2
    have h23 := hf 3 0
    have h24 := hf 0 (-3)
    have h25 := hf 3 1
    have h26 := hf 3 (-1)
    have h27 := hf (-3) 1
    have h28 := hf (-1) 3
    have h29 := hf (-3) (-1)
    have h30 := hf 3 2
    have h31 := hf 2 (-3)
    have h32 := hf (-2) 3
    have h33 := hf (-3) (-2)
    norm_num at *
    have h34 : ∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c := by
      intro z
      have h35 := hf z 0
      have h36 := hf 0 z
      have h37 := hf z z
      have h38 := hf (-z) z
      have h39 := hf z (-z)
      have h40 := hf (-z) (-z)
      norm_num at *
      by_cases h : f z = 0 <;> by_cases h' : f (-z) = 0 <;>
        (try simp_all) <;>
        (try
          {
            have h41 := hf 0 0
            have h42 := hf 1 0
            have h43 := hf 0 1
            have h44 := hf 1 1
            have h45 := hf (-1) 1
            have h46 := hf 1 (-1)
            have h47 := hf (-1) (-1)
            norm_num at *
            <;> omega
          }) <;>
        (try
          {
            omega
          }) <;>
        (try
          {
            use (f z - 2 * z)
            intro z'
            have h48 := hf z' 0
            have h49 := hf 0 z'
            have h50 := hf z' z'
            have h51 := hf (-z') z'
            have h52 := hf z' (-z')
            have h53 := hf (-z') (-z')
            norm_num at *
            <;> omega
          })
      <;> omega
    exact h34
  
  have step2 : (∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c) → (�