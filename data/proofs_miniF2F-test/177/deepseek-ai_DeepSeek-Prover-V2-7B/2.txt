have h₁ : (∀ a b, f (2 * a) + 2 * f b = f (f (a + b))) → ∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c := by
    intro hf
    have h1 : ∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c := by
      intro z
      have h2 := hf 0 0
      have h3 := hf z 0
      have h4 := hf 0 z
      have h5 := hf z z
      have h6 := hf (z + z) 0
      have h7 := hf (-z) 0
      have h8 := hf 0 (-z)
      have h9 := hf z (-z)
      have h10 := hf (-z) z
      have h11 := hf z (z + z)
      have h12 := hf (-z) (z + z)
      have h13 := hf (z + z) (-z)
      have h14 := hf z (-z + z)
      have h15 := hf (-z) (-z + z)
      have h16 := hf (z + z) (z)
      have h17 := hf (-z) (z)
      have h18 := hf (z) (z + z)
      have h19 := hf (-z) (z + z)
      have h20 := hf (z + z) (-z)
      have h21 := hf (z) (-z)
      have h22 := hf (-z) (-z)
      norm_num at *
      by_cases h : f z = 0 <;> by_cases h' : f 0 = 0 <;>
        by_cases h'' : f (-z) = 0 <;>
        (try simp_all) <;>
        (try omega) <;>
        (try {
          have h3 := hf 0 0
          have h4 := hf z 0
          have h5 := hf 0 z
          have h6 := hf z z
          have h7 := hf (z + z) 0
          have h8 := hf (-z) 0
          have h9 := hf 0 (-z)
          have h10 := hf z (-z)
          have h11 := hf (-z) z
          have h12 := hf z (z + z)
          have h13 := hf (-z) (z + z)
          have h14 := hf (z + z) (-z)
          have h15 := hf z (-z + z)
          have h16 := hf (-z) (-z + z)
          have h17 := hf (z + z) (z)
          have h18 := hf (-z) (z)
          have h19 := hf (z) (z + z)
          have h20 := hf (-z) (z + z)
          have h21 := hf (z + z) (-z)
          have h22 := hf (z) (-z)
          have h23 := hf (-z) (-z)
          ring_nf at *
          <;> omega}) <;>
        (try {
          omega}) <;>
        (try {
          aesop})
    aesop
  
  have h₂ : (∀ z, f z = 0 ∨ ∃ c, ∀ z, f z = 2 * z + c) → (∀ a b, f (2 * a) + 2 * f b = f (f (a + b))) := by
    intro h
    intro a b
    have h1 := h a
    have h2 := h b
    have h3 := h (a + b)
    have h4 := h (2 * a)
    have h5 := h (2 * b)
    have h6 := h (a + b + a)
    have h7 := h (a + b + b)
    cases' h1 with h1 h1 <