/-
  Given a rectangular patio with an area of 180 square feet and a perimeter of 54 feet, we need to find the length of the diagonal in feet squared and show that it is 369.
  1. From the perimeter condition \(2(a + b) = 54\), we derive \(a + b = 27\).
  2. We use the Pythagorean theorem to express the diagonal \(d\) in terms of the sides \(a\) and \(b\): \(d^2 = a^2 + b^2\).
  3. We need to find \(a^2 + b^2\). Using the area condition \(ab = 180\), we can express \(b\) in terms of \(a\) and substitute into the Pythagorean theorem.
  4. Simplify the expression to find \(a^2 + b^2\).
  -/
  -- From the perimeter condition, derive a + b = 27.
  have h₃ : a + b = 27 := by linarith
  -- We use the Pythagorean theorem to express the diagonal in terms of the sides.
  have h₄ : a ^ 2 + b ^ 2 = 369 := by
    -- Use the fact that (a + b)^2 = a^2 + b^2 + 2ab to find a^2 + b^2.
    nlinarith [sq_nonneg (a + b), h₁]
  -- The result follows from the derived equation.
  exact h₄
```