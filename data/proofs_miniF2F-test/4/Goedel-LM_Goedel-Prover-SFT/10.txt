/-
  Given a rectangular patio with an area of 180 square feet and a perimeter of 54 feet, we need to find the length of the diagonal in feet squared and show that it equals 369.
  1. From the given area \( a \times b = 180 \), we can express \( b \) in terms of \( a \): \( b = \frac{180}{a} \).
  2. Substitute \( b = \frac{180}{a} \) into the perimeter equation \( 2(a + b) = 54 \):
     \[
     2 \left( a + \frac{180}{a} \right) = 54
     \]
  3. Simplify the equation:
     \[
     2 \left( a + \frac{180}{a} \right) = 54 \implies a + \frac{180}{a} = 27
     \]
  4. Multiply both sides by \( a \) to clear the fraction:
     \[
     a^2 + 180 = 27a \implies a^2 - 27a + 180 = 0
     \]
  5. Solve the quadratic equation \( a^2 - 27a + 180 = 0 \) using the quadratic formula \( a = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a} \):
     \[
     a = \frac{27 \pm \sqrt{27^2 - 4 \times 1 \times 180}}{2 \times 1} = \frac{27 \pm \sqrt{729 - 720}}{2} = \frac{27 \pm \sqrt{9}}{2} = \frac{27 \pm 3}{2}
     \]
  6. This gives two solutions:
     \[
     a = \frac{27 + 3}{2} = 15 \quad \text{and} \quad a = \frac{27 - 3}{2} = 12
     \]
  7. For each value of \( a \), find the corresponding \( b \):
     - If \( a = 15 \), then \( b = \frac{180}{15} = 12 \).
     - If \( a = 12 \), then \( b = \frac{180}{12} = 15 \).
  8. Calculate the diagonal squared for both pairs \((a, b)\):
     - For \( a = 15 \) and \( b = 12 \), the diagonal squared is \( 15^2 + 12^2 = 225 + 144 = 369 \).
     - For \( a = 12 \) and \( b = 15 \), the diagonal squared is \( 12^2 + 15^2 = 144 + 225 = 369 \).
  9. In both cases, the diagonal squared is 369.
  -/
  have h₃ : a ^ 2 + b ^ 2 = 369 := by
    -- Express b in terms of a using the area equation
    have h₃ : b = 180 / a := by
      rw [← mul_right_inj' (show a ≠ 0 by linarith)] at h₁
      field_simp at h₁ ⊢
      linarith
    -- Substitute b = 180 / a into the perimeter equation
    rw [h₃] at h₂
    field_simp at h₂ ⊢
    -- Solve the resulting equation using nlinarith
    nlinarith
  exact h₃
```