/-
  Given a rectangular patio with an area of 180 square feet and a perimeter of 54 feet, we need to find the length of the diagonal squared. We start by expressing the length of the diagonal in terms of the sides \(a\) and \(b\) using the Pythagorean theorem. The diagonal \(d\) is given by \(d = \sqrt{a^2 + b^2}\). To find \(d^2\), we need to solve for \(a^2 + b^2\).
  First, we use the given area and perimeter to set up two equations:
  1. \(a \cdot b = 180\)
  2. \(2(a + b) = 54\)
  From the second equation, we can simplify to find \(a + b\):
  \[ a + b = 27 \]
  Next, we use the identity for the square of the sum of two numbers:
  \[ (a + b)^2 = a^2 + 2ab + b^2 \]
  Substituting the known values:
  \[ 27^2 = a^2 + 2 \cdot 180 + b^2 \]
  \[ 729 = a^2 + 360 + b^2 \]
  Solving for \(a^2 + b^2\):
  \[ a^2 + b^2 = 729 - 360 \]
  \[ a^2 + b^2 = 369 \]
  Thus, the length of the diagonal squared is 369.
  -/
  -- Simplify the perimeter equation to find the sum of the sides
  have h₃ : a + b = 27 := by
    -- Solve the equation 2(a + b) = 54
    linarith [h₂]
  -- Use the identity (a + b)^2 = a^2 + 2ab + b^2 to find a^2 + b^2
  have h₄ : a ^ 2 + b ^ 2 = 369 := by
    -- Substitute a + b = 27 and 2ab = 2 * 180 into the equation
    linarith [sq_nonneg (a + b), h₃, h₁]
  -- The final result is a^2 + b^2 = 369
  exact h₄
```