/-
  Given a rectangular patio with an area of 180 square feet and a perimeter of 54 feet, we need to show that the length of the diagonal (in feet) squared is 369.
  1. From the area condition \( a \times b = 180 \), we can express \( b \) as \( b = \frac{180}{a} \).
  2. Substitute \( b = \frac{180}{a} \) into the perimeter condition \( 2(a + b) = 54 \):
     \[
     2 \left( a + \frac{180}{a} \right) = 54
     \]
  3. Simplify the equation:
     \[
     2a + 2 \left( \frac{180}{a} \right) = 54
     \]
     \[
     2a + \frac{360}{a} = 54
     \]
  4. Multiply through by \( a \) to clear the fraction:
     \[
     2a^2 + 360 = 54a
     \]
  5. Rearrange to form a quadratic equation:
     \[
     2a^2 - 54a + 360 = 0
     \]
  6. Solve the quadratic equation using the quadratic formula \( a = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a} \):
     \[
     a = \frac{54 \pm \sqrt{54^2 - 4 \times 2 \times 360}}{2 \times 2}
     \]
     \[
     a = \frac{54 \pm \sqrt{2916 - 2880}}{4}
     \]
     \[
     a = \frac{54 \pm \sqrt{36}}{4}
     \]
     \[
     a = \frac{54 \pm 6}{4}
     \]
     \[
     a = 15 \quad \text{or} \quad a = 12
     \]
  7. For \( a = 15 \), \( b = \frac{180}{15} = 12 \). For \( a = 12 \), \( b = \frac{180}{12} = 15 \).
  8. Calculate the diagonal squared:
     \[
     \text{Diagonal squared} = a^2 + b^2 = 15^2 + 12^2 = 225 + 144 = 369
     \]
  Thus, the length of the diagonal (in feet) squared is 369.
  -/
  -- Express b in terms of a using the area condition
  have b_expr : b = 180 / a := by
    apply Eq.symm
    field_simp
    linarith
  -- Substitute b = 180 / a into the perimeter condition
  simp_all only [mul_div_cancel_left]
  -- Solve the resulting equation for a
  ring_nf
  have a_val : a = 15 ∨ a = 12 := by
    apply or_iff_not_imp_left.mpr
    intro h
    apply mul_left_cancel₀ (sub_ne_zero_of_ne h)
    nlinarith
  -- For each value of a, compute b and verify the diagonal squared
  cases' a_val with a_val a_val
  · simp_all only [a_val, b_expr, pow_two, mul_one, mul_zero, add_zero]
    nlinarith
  · simp_all only [a_val, b_expr, pow_two, mul_one, mul_zero, add_zero]
    nlinarith
```