-- We have a system of equations: a * b = 180 and 2 * (a + b) = 54.
  -- We want to find a^2 + b^2.
  -- Let's think about how to solve this algebraically first, then translate to Lean 4.

  -- From the second equation, we get a + b = 27.
  have h3 : a + b = 27 := by
    linarith

  -- Now, we can use the identity: a^2 + b^2 = (a + b)^2 - 2ab
  -- Substituting what we have:
  -- a^2 + b^2 = 27^2 - 2 * 180 = 729 - 360 = 369
  have h4 : a ^ 2 + b ^ 2 = (a + b) ^ 2 - 2 * (a * b) := by
    ring

  rw [h3, h‚ÇÅ] at h4
  norm_num at h4
  exact h4
```