-- The area of a rectangle is length × width.
  have h₃ : a * b = 180 := h₁

  -- The perimeter of a rectangle is 2 × (length + width).
  have h₄ : 2 * (a + b) = 54 := h₂

  -- We want to prove that the square of the diagonal is 369.
  suffices (a + b) ^ 2 = 369 by
    rw [←this]
    ring

  -- The square of the diagonal is equal to the sum of the squares of the length and width.
  have h₅ : (a + b) ^ 2 = a ^ 2 + b ^ 2 := by
    ring

  -- Substitute the given values into the equation.
  rw [h₅]

  -- We have:
  --   a * b = 180
  --   2 * (a + b) = 54
  -- which implies:
  --   a + b = 27
  have h₆ : a + b = 27 := by
    linarith

  -- We want to calculate:
  -- (a + b)² - 2ab
  -- = 27² - 2×180
  -- = 729 - 360
  -- = 369
  calc
    (a + b) ^ 2 - 2 * (a * b) = 27 ^ 2 - 2 * 180 := by rw [h₆, h₃]
    _ = 729 - 360 := by norm_num
    _ = 369 := by norm_num
```