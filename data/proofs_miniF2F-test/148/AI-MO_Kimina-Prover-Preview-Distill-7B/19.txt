-- We shall prove that $D_n$ is even when $n$ is $0$ modulo $3$, odd when $n$ is $1$ modulo $3$, and even when $n$ is $2$ modulo $3$.
  have h {k : ℕ} : (3 * k : ℕ) % 3 = 0 := by omega
  have h' {k : ℕ} : (3 * k + 1 : ℕ) % 3 = 1 := by omega
  have h'' {k : ℕ} : (3 * k + 2 : ℕ) % 3 = 2 := by omega

  -- We have to show that $D_1$ is odd, $D_2$ is even, and $D_3$ is odd.
  have : d 1 % 2 = 1 := by rw [h₁]; omega
  have : d 2 % 2 = 0 := by rw [h₂]; omega
  have : d 3 % 2 = 1 := by rw [h₃ 3 (by omega), h₂, h₁]; omega

  -- We claim that the parity of $D_n$ is the same as the parity of $D_{n + 3}$.
  have {n : ℕ} : d n % 2 = d (n + 3) % 2 := by
    -- This can be proved by induction.
    induction n with
    | zero => simp [h₃]; omega
    | succ n ih => simp [h₃]; rw [Nat.add_mod] at ih ⊢; omega

  -- We can conclude that the parity of $D_n$ depends only on the remainder of $n$ divided by $3$.
  have {n : ℕ} (hn : n % 3 = 0) : d n % 2 = 0 := by
    rw [hn, show n = 3 * n / 3 by omega, this]
  have {n : ℕ} (hn : n % 3 = 1) : d n % 2 = 1 := by
    rw [hn, show n = 3 * n / 3 + 1 by omega, this]
  have {n : ℕ} (hn : n % 3 = 2) : d n % 2 = 0 := by
    rw [hn, show n = 3 * n / 3 + 2 by omega, this]

  rw [show 2021 % 3 = 2 by omega, this]
  rw [show 2022 % 3 = 0 by omega, this]
  rw [show 2023 % 3 = 1 by omega, this]
```