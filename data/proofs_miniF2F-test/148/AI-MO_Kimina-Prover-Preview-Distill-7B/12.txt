-- define a sequence $a_n$ according to the recurrence $a_0 = 0, a_1 = 0, a_2 = 1, a_3 = 1$ and for $n \ge 3$, $a_n = a_{n - 1} + a_{n - 3}$
  -- https://artofproblemsolving.com/wiki/index.php/2021_AMC_12A_Problems/Problem_8

  -- the sequence of parity of $a_n$ is periodic with period 12
  -- 0 1 1 0 0 1 1 0 0 1 1 0
  -- 0 1 1 0 0 1 1 0 0 1 1 0
  -- the sequence is repeated in this way all the times
  -- for more detail refer to solution of problem 8 in AMC 12A 2021
  have period : ∀ n, (d (n + 12) % 2 = d n % 2) := by
    intro n
    induction' n using Nat.strong_induction_on with n ih
    cases n with
    | zero =>
      simp
      -- the 13th number is equal to the 0th number and the 10th number is equal to the 1st number
      -- so we can derive that the parity of the 12th number is equal to the 0th number and the 11th number is equal to the 1st number
      rw [h₃ 12 (by decide), h₃ 11 (by decide), h₃ 10 (by decide), h₃ 9 (by decide), h₃ 8 (by decide), h₃ 7 (by decide), h₃ 6 (by decide), h₃ 5 (by decide), h₃ 4 (by decide), h₃ 3 (by decide), h₃ 2 (by decide), h₃ 1 (by decide), h₃ 0 (by decide)]
      rw [(by decide : 12 - 1 = 11), (by decide : 12 - 3 = 9), (by decide : 11 - 1 = 10), (by decide : 11 - 3 = 8), (by decide : 10 - 1 = 9), (by decide : 10 - 3 = 7), (by decide : 9 - 1 = 8), (by decide : 9 - 3 = 6), (by decide : 8 - 1 = 7), (by decide : 8 - 3 = 5), (by decide : 7 - 1 = 6), (by decide : 7 - 3 = 4), (by decide : 6 - 1 = 5), (by decide : 6 - 3 = 3), (by decide : 5 - 1 = 4), (by decide : 5 - 3 = 2), (by decide : 4 - 1 = 3), (by decide : 4 - 3 = 1), (by decide : 3 - 1 = 2), (by decide : 3 - 3 = 0), (by decide : 2 - 1 = 1), (by decide : 2 - 3 = 0), (by decide : 1 - 1 = 0), (by decide : 1 - 3 = 0), (by decide : 0 - 1 = 0), (by decide : 0 - 3 = 0)]
      <;> simp [h₀, h₁, h₂]
    | succ n =>
      cases n with
      | zero =>
        simp
        norm_num [h₃, h₀, h₁, h₂]
      | succ n =>
        rw [(by decide : (n + 1 + 12) - 1 = n + 12), (by decide : (n + 1 + 12) - 3 = n + 10), (by decide : (n + 2 + 12) - 1 = n + 11), (by decide : (n + 2 + 12) - 3 = n + 9), (by decide : (n + 3 + 12) - 1 = n + 10), (by decide : (n + 3 + 12) - 3 = n + 8), (by decide : (n + 4 + 12) - 1 = n + 11), (by decide : (n + 4 + 12) - 3 = n + 9), (by decide : (n + 5 + 12) - 1 = n + 10), (by decide : (n + 5 + 12) - 3 = n + 8), (by decide : (n + 6 + 12) - 1 = n + 11), (by decide : (n + 6 + 12) - 3 = n + 9), (by decide : (n + 7 + 12) - 1 = n + 10), (by decide : (n + 7 + 12) - 3 = n + 8), (by decide : (n + 8 + 12) - 1 = n + 11), (by decide : (n + 8 + 12) - 3 = n + 9), (by decide : (n + 9 + 12) - 1 = n + 10), (by decide : (n + 9 + 12) - 3 = n + 8), (by decide : (n + 10 + 12) - 1 = n + 11), (by decide : (n + 10 + 12) - 3 = n + 9), (by decide : (n + 11 + 12) - 1 = n + 10), (by decide : (n + 11 + 12) - 3 = n + 8), (by decide : (n + 12 + 12) - 1 = n + 11), (by decide : (n + 12 + 12) - 3 = n + 9)]
        <;> simp [h₀, h₁, h₂] at ih ⊢
        <;> rw [ih]
        <;> norm_num
        <;> simp
        <;> try omega
        <;> try (rw [(by simp : n + 1 + n + 1 = 2 * n + 2), (by simp : n + 1 + n + 2 = 2 * n + 3), (by simp : n + 2 + n + 1 = 2 * n + 3), (by simp : n + 2 + n + 2 = 2 * n + 4), (by simp : n + 3 + n + 3 = 2 * n + 6), (by simp : n + 4 + n + 4 = 2 * n + 8), (by simp : n + 5 + n + 5 = 2 * n + 10), (by simp : n + 6 + n + 6 = 2 * n + 12), (by simp : n + 7 + n + 7 = 2 * n + 14), (by simp : n + 8 + n + 8 = 2 * n + 16), (by simp : n + 9 + n + 9 = 2 * n + 18), (by simp : n + 10 + n + 10 = 2 * n + 20), (by simp : n + 11 + n + 11 = 2 * n + 22), (by simp : n + 12 + n + 12 = 2 * n + 24)]
        <;> try (rw [(by simp : 2 * (n + 1) + 2 = 2 * n + 4), (by simp : 2 * (n + 1) + 3 = 2 * n + 5), (by simp : 2 * (n + 2) + 3 = 2 * n + 7), (by simp : 2 * (n + 3) + 6 = 2 * n + 12), (by simp : 2 * (n + 4) + 8 = 2 * n + 16), (by simp : 2 * (n + 5) + 10 = 2 * n + 20), (by simp : 2 * (n + 6) + 12 = 2 * n + 24), (by simp : 2 * (n + 7) + 14 = 2 * n + 28), (by simp : 2 * (n + 8) + 16 = 2 * n + 32), (by simp : 2 * (n + 9) + 18 = 2 * n + 36), (by simp : 2 * (n + 10) + 20 = 2 * n + 40), (by simp : 2 * (n + 11) + 22 = 2 * n + 44), (by simp : 2 * (n + 12) + 24 = 2 * n + 48)])

  -- we can work mod 2
  convert_to ∀ n, (d (n + 12) % 2 = d n % 2) using 1
  · intro n
    rw [(by simp : n + 12 + 1 = n + 13), (by simp : n + 12 + 2 = n + 14), (by simp : n + 12 + 3 = n + 15)]
    exact period n
  -- we can use the lemma one one more time
  · intro n
    rw [(by simp : n + 24 + 1 = n + 25), (by simp : n + 24 + 2 = n + 26), (by simp : n + 24 + 3 = n + 27)]
    have := period (n + 12)
    rw [(by simp : n + 12 + 1 = n + 13), (by simp : n + 12 + 2 = n + 14), (by simp : n + 12 + 3 = n + 15)] at this
    exact this
  -- we can use the lemma one more time
  · intro n
    rw [(by simp : n + 36 + 1 = n + 37), (by simp : n + 36 + 2 = n + 38), (by simp : n + 36 + 3 = n + 39)]
    have := period (n + 24)
    rw [(by simp : n + 24 + 1 = n + 25), (by simp : n + 24 + 2 = n + 26), (by simp : n + 24 + 3 = n + 27)] at this
    exact this

  -- the triple of numbers $(D_{2021},D_{2022},D_{2023})$ has the same parity as $(D_5, D_6, D_7)$
  have h₁ : (d 2021 % 2 = d 5 % 2) := by
    rw [(by simp : 2021 = 5 + 12 * 168), (by simp : 12 * 168 = 2016), (by simp : 5 + 2016 = 2021)]
    exact period 5
  have h₂ : (d 2022 % 2 = d 6 % 2) := by
    rw [(by simp : 2022 = 6 + 12 * 168), (by simp : 12 * 168 = 2016), (by simp : 6 + 2016 = 2022)]
    exact period 6
  have h₃ : (d 2023 % 2 = d 7 % 2) := by
    rw [(by simp : 2023 = 7 + 12 * 168), (by simp : 12 * 168 = 2016), (by simp : 7 + 2016 = 2023)]
    exact period 7
  -- the parity of the triple of numbers $(D_5, D_6, D_7)$ is $(E, O, E)$
  have h₄ : d 5 % 2 = 0 := by
    rw [(by decide : 5 = 12 - 7), (by decide : 12 - 7 = 5), (by simp : d 5 % 2 = d 5 % 2)]
    exact period 5
  have h₅ : d 6 % 2 = 1 := by
    rw [(by decide : 6 = 12 - 6), (by decide : 12 - 6 = 6), (by simp : d 6 % 2 = d 6 % 2)]
    exact period 6
  have h₆ : d 7 % 2 = 0 := by
    rw [(by decide : 7 = 12 - 5), (by decide : 12 - 5 = 7), (by simp : d 7 % 2 = d 7 % 2)]
    exact period 7
  -- so the answer is (C)
  rw [← h₁, ← h₂, ← h₃]
  exact ⟨h₄, h₅, h₆⟩
```