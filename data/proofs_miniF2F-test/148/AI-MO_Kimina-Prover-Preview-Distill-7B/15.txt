-- define triple of numbers $(D_{2021},D_{2022},D_{2023})$
  let triple := (d 2021, d 2022, d 2023)

  -- What are the parities (evenness or oddness) of the triple of numbers $(D_{2021},D_{2022},D_{2023})$, where $E$ denotes evenness and $O$ denotes oddness.
  -- show that it is (E,O,E), which means
  -- d 2021 : Even
  -- d 2022 : Odd
  -- d 2023 : Even

  -- We prove by computation the parities of (d n) is (E,E,O,E,E,E,O,E,E,E,O,E,E,E,O,E,E,E,O,...)
  -- It has period 12.
  have h : period (fun n => Even (d n)) 12 := by
    apply Nat-periodicOn_of_modEqOn
    intro n
    have : n % 12 < 12 := by
      apply Nat.mod_lt
      norm_num
    interval_cases n % 12
    -- n % 12 = 0
   . simp
      have h₀' : d 0 = 0 := by exact h₀
      rw [h₀']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 1
   . simp
      have h₁' : d 1 = 0 := by exact h₁
      rw [h₁']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 2
   . simp
      have h₂' : d 2 = 1 := by exact h₂
      rw [h₂']
      exact odd_iff_two_dvd_add.mp rfl
    -- n % 12 = 3
   . simp
      have h₃' : d 3 = d 2 + d 0 := by
        specialize h₃ 3 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₂', h₀'] at h₃'
      simp at h₃'
      rw [h₃']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 4
   . simp
      have h₄' : d 4 = d 3 + d 1 := by
        specialize h₃ 4 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₃', h₁'] at h₄'
      simp at h₄'
      rw [h₄']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 5
   . simp
      have h₅' : d 5 = d 4 + d 2 := by
        specialize h₃ 5 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₄', h₂'] at h₅'
      simp at h₅'
      rw [h₅']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 6
   . simp
      have h₆' : d 6 = d 5 + d 3 := by
        specialize h₃ 6 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₅', h₃'] at h₆'
      simp at h₆'
      rw [h₆']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 7
   . simp
      have h₇' : d 7 = d 6 + d 4 := by
        specialize h₃ 7 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₆', h₄'] at h₇'
      simp at h₇'
      rw [h₇']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 8
   . simp
      have h₈' : d 8 = d 7 + d 5 := by
        specialize h₃ 8 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₇', h₅'] at h₈'
      simp at h₈'
      rw [h₈']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 9
   . simp
      have h₉' : d 9 = d 8 + d 6 := by
        specialize h₃ 9 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₈', h₆'] at h₉'
      simp at h₉'
      rw [h₉']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 10
   . simp
      have h₁₀' : d 10 = d 9 + d 7 := by
        specialize h₃ 10 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₉', h₇'] at h₁₀'
      simp at h₁₀'
      rw [h₁₀']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 11
   . simp
      have h₁₁' : d 11 = d 10 + d 8 := by
        specialize h₃ 11 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₁₀', h₈'] at h₁₁'
      simp at h₁₁'
      rw [h₁₁']
      exact odd_iff_two_dvd_add.mpr rfl

  have h' : period (fun n => Odd (d n)) 12 := by
    apply Nat-periodicOn_of_modEqOn
    intro n
    have : n % 12 < 12 := by
      apply Nat.mod_lt
      norm_num
    interval_cases n % 12
    -- n % 12 = 0
   . simp
    -- n % 12 = 1
   . simp
      have h₁' : d 1 = 0 := by exact h₁
      rw [h₁']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 2
   . simp
      have h₂' : d 2 = 1 := by exact h₂
      rw [h₂']
      exact odd_iff_two_dvd_add.mp rfl
    -- n % 12 = 3
   . simp
      have h₃' : d 3 = d 2 + d 0 := by
        specialize h₃ 3 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₂', h₀'] at h₃'
      simp at h₃'
      rw [h₃']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 4
   . simp
      have h₄' : d 4 = d 3 + d 1 := by
        specialize h₃ 4 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₃', h₁'] at h₄'
      simp at h₄'
      rw [h₄']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 5
   . simp
      have h₅' : d 5 = d 4 + d 2 := by
        specialize h₃ 5 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₄', h₂'] at h₅'
      simp at h₅'
      rw [h₅']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 6
   . simp
      have h₆' : d 6 = d 5 + d 3 := by
        specialize h₃ 6 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₅', h₃'] at h₆'
      simp at h₆'
      rw [h₆']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 7
   . simp
      have h₇' : d 7 = d 6 + d 4 := by
        specialize h₃ 7 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₆', h₄'] at h₇'
      simp at h₇'
      rw [h₇']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 8
   . simp
      have h₈' : d 8 = d 7 + d 5 := by
        specialize h₃ 8 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₇', h₅'] at h₈'
      simp at h₈'
      rw [h₈']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 9
   . simp
      have h₉' : d 9 = d 8 + d 6 := by
        specialize h₃ 9 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₈', h₆'] at h₉'
      simp at h₉'
      rw [h₉']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 10
   . simp
      have h₁₀' : d 10 = d 9 + d 7 := by
        specialize h₃ 10 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₉', h₇'] at h₁₀'
      simp at h₁₀'
      rw [h₁₀']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 11
   . simp
      have h₁₁' : d 11 = d 10 + d 8 := by
        specialize h₃ 11 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₁₀', h₈'] at h₁₁'
      simp at h₁₁'
      rw [h₁₁']
      exact even_iff_two_dvd.mpr rfl

  -- The parities of $(D_{2021},D_{2022},D_{2023})$ are the same as the parities of $(D_{1},D_{2},D_{3})$, because 2021 = 1 + 12 * 168, 2022 = 2 + 12 * 168, 2023 = 3 + 12 * 168.
  have h'' : period (fun n => Even (d n)) 12 := by
    apply Nat-periodicOn_of_modEqOn
    intro n
    have : n % 12 < 12 := by
      apply Nat.mod_lt
      norm_num
    interval_cases n % 12
    -- n % 12 = 0
   . simp
      have h₀' : d 0 = 0 := by exact h₀
      rw [h₀']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 1
   . simp
      have h₁' : d 1 = 0 := by exact h₁
      rw [h₁']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 2
   . simp
      have h₂' : d 2 = 1 := by exact h₂
      rw [h₂']
      exact odd_iff_two_dvd_add.mp rfl
    -- n % 12 = 3
   . simp
      have h₃' : d 3 = d 2 + d 0 := by
        specialize h₃ 3 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₂', h₀'] at h₃'
      simp at h₃'
      rw [h₃']
      exact even_iff_two_dvd.mp rfl
    -- n % 12 = 4
   . simp
      have h₄' : d 4 = d 3 + d 1 := by
        specialize h₃ 4 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₃', h₁'] at h₄'
      simp at h₄'
      rw [h₄']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 5
   . simp
      have h₅' : d 5 = d 4 + d 2 := by
        specialize h₃ 5 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₄', h₂'] at h₅'
      simp at h₅'
      rw [h₅']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 6
   . simp
      have h₆' : d 6 = d 5 + d 3 := by
        specialize h₃ 6 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₅', h₃'] at h₆'
      simp at h₆'
      rw [h₆']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 7
   . simp
      have h₇' : d 7 = d 6 + d 4 := by
        specialize h₃ 7 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₆', h₄'] at h₇'
      simp at h₇'
      rw [h₇']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 8
   . simp
      have h₈' : d 8 = d 7 + d 5 := by
        specialize h₃ 8 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₇', h₅'] at h₈'
      simp at h₈'
      rw [h₈']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 9
   . simp
      have h₉' : d 9 = d 8 + d 6 := by
        specialize h₃ 9 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₈', h₆'] at h₉'
      simp at h₉'
      rw [h₉']
      exact even_iff_two_dvd.mpr rfl
    -- n % 12 = 10
   . simp
      have h₁₀' : d 10 = d 9 + d 7 := by
        specialize h₃ 10 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₉', h₇'] at h₁₀'
      simp at h₁₀'
      rw [h₁₀']
      exact odd_iff_two_dvd_add.mpr rfl
    -- n % 12 = 11
   . simp
      have h₁₁' : d 11 = d 10 + d 8 := by
        specialize h₃ 11 (by norm_num)
        rw [Nat.sub_add_cancel (by norm_num)] at h₃
        exact h₃
      rw [h₁₀', h₈'] at h₁₁'
      simp at h₁₁'
      rw [h₁₁']
      exact even_iff_two_dvd.mpr rfl

  -- So the parities of $(D_{2021},D_{2022},D_{2023})$ are the same as the parities of $(D_{1},D_{2},D_{3})$, which are (E,O,E).
  have h₁ : Even (d 2021) := by
    have : 2021 % 12 = 5 := by norm_num
    rw [this]
    exact h.1
  have h₂ : Odd (d 2022) := by