-- We shall prove that $\left(D_{n}\right)$ has period $7$ if we consider the three successive terms at a time.
  -- We have $D_{0}=0$, $D_{1}=0$, $D_{2}=1$, $D_{3}=1$, $D_{4}=2$, $D_{5}=3$, $D_{6}=5$.
  have d3 : d 3 = 1 := by rw [h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d4 : d 4 = 2 := by rw [h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d5 : d 5 = 3 := by rw [h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d6 : d 6 = 5 := by rw [h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  -- As the first triple is $E,E,O$ and the second is $E,O,E$, the statement is true for $n=1$.
  have d7 : d 7 = 8 := by rw [h₃ 7 (by norm_num), h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d8 : d 8 = 13 := by rw [h₃ 8 (by norm_num), h₃ 7 (by norm_num), h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d9 : d 9 = 21 := by rw [h₃ 9 (by norm_num), h₃ 8 (by norm_num), h₃ 7 (by norm_num), h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d10 : d 10 = 34 := by rw [h₃ 10 (by norm_num), h₃ 9 (by norm_num), h₃ 8 (by norm_num), h₃ 7 (by norm_num), h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d11 : d 11 = 55 := by rw [h₃ 11 (by norm_num), h₃ 10 (by norm_num), h₃ 9 (by norm_num), h₃ 8 (by norm_num), h₃ 7 (by norm_num), h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num
  have d12 : d 12 = 89 := by rw [h₃ 12 (by norm_num), h₃ 11 (by norm_num), h₃ 10 (by norm_num), h₃ 9 (by norm_num), h₃ 8 (by norm_num), h₃ 7 (by norm_num), h₃ 6 (by norm_num), h₃ 5 (by norm_num), h₃ 4 (by norm_num), h₃ 3 (by norm_num), h₂, h₀, h₁]; norm_num

  -- We have $D_{i}=D_{i+7}$ for all $i\geq 0$.
  have e : ∀ i, d i = d (i + 7) := by
    intro i
    induction i with
    | zero => norm_num
    | succ i ih =>
      by_cases i7 : i = 7
      · simp [i7]
      · have i7 : i ≠ 7 := by omega
        rw [h₃ (i + 1) (by omega), h₃ (i + 8) (by omega), ih]
        simp [← Aesop.symm (add_comm i 7)]

  -- We have $D_{n}$ even for $n$ divisible by $7$.
  have d7n (n : ℕ) : (7 ∣ n) → 2 ∣ d n := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 0
      · rw [hn'', h₂]; norm_num
      · have n'' : n ≠ 0 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ even for $n\equiv 1\pmod{7}$.
  have d7n1 (n : ℕ) : (7 ∣ n + 1) → 2 ∣ d n := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 6
      · rw [hn'', h₅]; norm_num
      · have n'' : n ≠ 6 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ odd for $n\equiv 2\pmod{7}$.
  have d7n2 (n : ℕ) : (7 ∣ n + 2) → 2 ∣ d n + 1 := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 5
      · rw [hn'', h₄]; norm_num
      · have n'' : n ≠ 5 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ odd for $n\equiv 3\pmod{7}$.
  have d7n3 (n : ℕ) : (7 ∣ n + 3) → 2 ∣ d n + 1 := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 4
      · rw [hn'', h₄]; norm_num
      · have n'' : n ≠ 4 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ even for $n\equiv 4\pmod{7}$.
  have d7n4 (n : ℕ) : (7 ∣ n + 4) → 2 ∣ d n := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 3
      · rw [hn'', h₃]; norm_num
      · have n'' : n ≠ 3 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ odd for $n\equiv 5\pmod{7}$.
  have d7n5 (n : ℕ) : (7 ∣ n + 5) → 2 ∣ d n + 1 := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 2
      · rw [hn'', h₁]; norm_num
      · have n'' : n ≠ 2 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ even for $n\equiv 6\pmod{7}$.
  have d7n6 (n : ℕ) : (7 ∣ n + 6) → 2 ∣ d n := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 1
      · rw [hn'', h₁]; norm_num
      · have n'' : n ≠ 1 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- We have $D_{n}$ odd for $n\equiv 0\pmod{7}$.
  have d7n7 (n : ℕ) : (7 ∣ n) → 2 ∣ d n + 1 := by
    intro hn
    have hn' := Nat.modEq_zero_iff_dvd.mpr hn
    induction n with
    | zero => simp
    | succ n ih =>
      by_cases hn'' : n = 0
      · rw [hn'', h₂]; norm_num
      · have n'' : n ≠ 0 := by omega
        rw [show n = n - 1 + 1 by omega, h₃ (n - 1 + 1) (by omega), Nat.modEq_iff_dvd', ih hn', ih hn'']

  -- Therefore, $D_{2021}$ is even and $D_{2022}$ and $D_{2023}$ are odd.
  have d2021 : 2 ∣ d 2021 := by
    have seven_dvd_2021 : 7 ∣ 2021 := by norm_num
    exact d7n7 2021 seven_dvd_2021
  have d2022 : ¬ 2 ∣ d 2022 := by
    have no : ¬ 7 ∣ 2022 := by norm_num
    rw [← Nat.modEq_zero_iff_dvd']
    by_cases hyp : 2 ∣ d 2022
    · have : 7 ∣ 2022 := by
        have : 2 ∣ d 2022 + 1 - 1 := by omega
        rw [Nat.add_sub_cancel] at this
        exact this
      contradiction
    omega
  have d2023 : ¬ 2 ∣ d 2023 := by
    have no : ¬ 7 ∣ 2023 := by norm_num
    rw [← Nat.modEq_zero_iff_dvd']
    by_cases hyp : 2 ∣ d 2023
    · have : 7 ∣ 2023 := by
        have : 2 ∣ d 2023 + 1 - 1 := by omega
        rw [Nat.add_sub_cancel] at this
        exact this
      contradiction
    omega

  -- The parities of $(D_{2021},D_{2022},D_{2023})$ are therefore $(E,O,E)$.
  exact ⟨by omega, by omega, by omega⟩
```