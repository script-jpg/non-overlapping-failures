have h₂ := h₁
  simp only [Set.ext_iff, Set.mem_preimage, Set.mem_singleton_iff] at h₂
  have h₃ := h₂ 0
  have h₄ := h₂ 1
  have h₅ := h₂ (-1)
  have h₆ := h₂ (Real.cos (2 * Real.pi / 7))
  have h₇ := h₂ (Real.cos (4 * Real.pi / 7))
  have h₈ := h₂ (Real.cos (6 * Real.pi / 7))
  have h₉ := h₂ (Real.cos (2 * Real.pi / 7) + Real.cos (4 * Real.pi / 7))
  have h₁₀ := h₂ (Real.cos (2 * Real.pi / 7) - Real.cos (4 * Real.pi / 7))
  have h₁₁ := h₂ (Real.cos (4 * Real.pi / 7) + Real.cos (6 * Real.pi / 7))
  have h₁₂ := h₂ (Real.cos (4 * Real.pi / 7) - Real.cos (6 * Real.pi / 7))
  have h₁₃ := h₂ (Real.cos (6 * Real.pi / 7) + Real.cos (2 * Real.pi / 7))
  have h₁₄ := h₂ (Real.cos (6 * Real.pi / 7) - Real.cos (2 * Real.pi / 7))
  norm_num [h₀] at *
  <;>
    simp_all [Real.cos_add, Real.cos_sub, Real.cos_two_mul, Real.cos_three_mul]
  <;>
    ring_nf at *
  <;>
    norm_num at *
  <;>
    nlinarith [Real.cos_le_one (2 * Real.pi / 7), Real.cos_le_one (4 * Real.pi / 7),
      Real.cos_le_one (6 * Real.pi / 7), Real.neg_one_le_cos (2 * Real.pi / 7),
      Real.neg_one_le_cos (4 * Real.pi / 7), Real.neg_one_le_cos (6 * Real.pi / 7)]


theorem amc12a_2021_p22_2 (a b c : ℝ) (f : ℝ → ℝ) (h₀ : ∀ x, f x = x ^ 3 + a * x ^ 2 + b * x + c)
    (h₁ :
      f ⁻¹' {0} =
        {Real.cos (2 * Real.pi / 7), Real.cos (4 * Real.pi / 7), Real.cos (6 * Real.pi / 7)}) :
    a * b * c = 1 / 32 := by
  have h₂ := h₁
  simp only [Set.ext_iff, Set.mem_preimage, Set.mem_singleton_iff] at h₂
  have h₃ := h₂ 0
  have h₄ := h₂ 1
  have h₅ := h₂ (-1)
  have h₆ := h₂ (Real.cos (2 * Real.pi / 7))
  have h₇ := h₂ (Real.cos (4 * Real.pi / 7))
  have h₈ := h₂ (Real.cos (6 * Real.pi / 7))
  have h₉ := h₂ (Real.cos (2 * Real.pi / 7) + Real.cos (4 * Real.pi / 7))
  have h₁₀ := h₂ (Real.cos (2 * Real.pi / 7) - Real.cos (4 * Real.pi / 7))
  have h₁₁ := h₂ (Real.cos (4 * Real.pi / 7) + Real.cos (6 * Real.pi / 7))
  have h₁₂ := h₂ (Real.cos (4 * Real.pi / 7) - Real.cos (6 * Real.pi / 7))
  have h₁₃ := h₂ (Real.cos