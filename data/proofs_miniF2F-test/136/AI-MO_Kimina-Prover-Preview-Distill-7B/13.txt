have ha : a = -3 := by
    calc
      a = Real.cos (2 * Real.pi / 7) + Real.cos (4 * Real.pi / 7) + Real.cos (6 * Real.pi / 7) := by
        have h₁ := h₁
        apply Set.eq_of_subset_of_subset
        · intro x hx
          simp at hx
          obtain ⟨hx, rfl⟩ := hx
          exact (h₀ x).symm ▸ by simp
        · apply h₁
          simp
        · simp
          constructor
          · exact h₁
          · exact h₀
      _ = -3 := by
        have h₁ : 3 * Real.cos (2 * Real.pi / 7) + 3 * Real.cos (4 * Real.pi / 7) + 3 * Real.cos (6 * Real.pi / 7) = -3 := by
          have h₁ : 3 * Real.cos (2 * Real.pi / 7) + 3 * Real.cos (4 * Real.pi / 7) + 3 * Real.cos (6 * Real.pi / 7) = Real.cos (2 * Real.pi / 7) * (3 - Real.sin (Real.pi / 14) * (3 - Real.sin (Real.pi / 14))) := by
            simp [mul_add, mul_sub]
            ring
          have h₂ : Real.cos (2 * Real.pi / 7) * (3 - Real.sin (Real.pi / 14) * (3 - Real.sin (Real.pi / 14))) = -3 := by
            have g₁ : Real.cos (2 * Real.pi / 7) < 0 := by
              have g₁ : 2 * Real.pi / 7 < Real.pi := by
                linarith [Real.pi_pos]
              have g₂ : Real.cos (2 * Real.pi / 7) < Real.cos (Real.pi) := by
                apply Real.cos_lt_cos_of_nonneg_of_le_pi
                · linarith
                · linarith
                · linarith
              rw [show Real.cos (Real.pi) = -1 by rw [Real.cos_pi]] at g₂
              linarith
            have g₂ : 3 - Real.sin (Real.pi / 14) * (3 - Real.sin (Real.pi / 14)) > 0 := by
              have g₂ : Real.sin (Real.pi / 14) < 1 := by
                apply Real.sin_lt
                · linarith [Real.pi_pos]
                · linarith [Real.pi_pos]
              nlinarith
            nlinarith
          rw [h₁, h₂]
        linarith

  have hb : b = -9 / 4 := by
    calc
      b = Real.cos (2 * Real.pi / 7) * Real.cos (4 * Real.pi / 7) + Real.cos (2 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) + Real.cos (4 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) := by
        have h₁ := h₁
        apply Set.eq_of_subset_of_subset
        · intro x hx
          simp at hx
          obtain ⟨hx, rfl⟩ := hx
          exact (h₀ x).symm ▸ by simp
        · apply h₁
          simp
        · simp
          constructor
          · exact h₁
          · exact h₀
      _ = -9 / 4 := by
        have h₁ : Real.cos (2 * Real.pi / 7) * Real.cos (4 * Real.pi / 7) + Real.cos (2 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) + Real.cos (4 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) = -9 / 4 := by
          have h₁ : Real.cos (2 * Real.pi / 7) * Real.cos (4 * Real.pi / 7) + Real.cos (2 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) + Real.cos (4 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) = (Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7)) * (Real.sin (5 * Real.pi / 7) - Real.sin (3 * Real.pi / 7)) * (Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7)) / 4 := by
            rw [show Real.cos (2 * Real.pi / 7) * Real.cos (4 * Real.pi / 7) + Real.cos (2 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) + Real.cos (4 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) = (Real.cos (2 * Real.pi / 7) * (Real.cos (4 * Real.pi / 7) + Real.cos (6 * Real.pi / 7)) + Real.cos (4 * Real.pi / 7) * Real.cos (6 * Real.pi / 7)) by ring]
            rw [show Real.cos (4 * Real.pi / 7) + Real.cos (6 * Real.pi / 7) = 2 * Real.cos (5 * Real.pi / 7) * Real.cos (Real.pi / 7) by rw [← Real.cos_sub_cos]; ring_nf]
            rw [show Real.cos (4 * Real.pi / 7) * Real.cos (6 * Real.pi / 7) = (Real.cos (10 * Real.pi / 7) + Real.cos (2 * Real.pi / 7)) / 2 by rw [← Real.cos_add_cos]; ring_nf]
            rw [show Real.cos (10 * Real.pi / 7) = Real.cos (3 * Real.pi / 7) by rw [show 10 * Real.pi / 7 = 3 * Real.pi / 7 + 2 * Real.pi by ring]; rw [Real.cos_add_two_pi]]
            rw [show Real.cos (5 * Real.pi / 7) = -Real.sin (2 * Real.pi / 7) by rw [show 5 * Real.pi / 7 = Real.pi / 2 + Real.pi / 14 by ring]; rw [Real.cos_add]; rw [Real.cos_pi_div_two]; simp; ring]
            rw [show Real.cos (3 * Real.pi / 7) = Real.sin (Real.pi / 2 - (3 * Real.pi / 7)) by rw [Real.cos_eq_sin_pi_div_two_sub]]
            rw [show Real.pi / 2 - (3 * Real.pi / 7) = Real.pi / 14 by ring]
            rw [show Real.sin (Real.pi / 14) ^ 2 = (1 - Real.cos (Real.pi / 7)) / 2 by rw [Real.sin_sq_eq_half_sub]; ring_nf]
            nlinarith [Real.cos_sq_add_sin_sq (Real.pi / 7), Real.cos_sq_add_sin_sq (Real.pi / 14)]
          have h₂ : (Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7)) * (Real.sin (5 * Real.pi / 7) - Real.sin (3 * Real.pi / 7)) * (Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7)) / 4 = -9 / 4 := by
            have h₂ : (Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7)) * (Real.sin (5 * Real.pi / 7) - Real.sin (3 * Real.pi / 7)) * (Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7)) / 4 = (Real.sin (Real.pi / 14) * (1 - Real.cos (Real.pi / 14))) * (Real.sin (Real.pi / 14) * (1 + Real.cos (Real.pi / 14))) * (Real.sin (Real.pi / 14) * (1 - Real.cos (Real.pi / 14))) / 4 := by
              rw [show Real.sin (3 * Real.pi / 7) - Real.sin (Real.pi / 7) = 2 * Real.sin (Real.pi / 14) * Real.cos (Real.pi / 14) by rw [← Real.sin_sub_sin]; ring_nf]
              rw [show Real.sin (5 * Real.pi / 7) - Real.sin (3 * Real.pi / 7) = 2 * Real.sin (Real.pi / 7) * Real.cos (4 * Real.pi / 7) by rw [← Real.sin_sub_sin]; ring_nf]
              rw [show Real.sin (Real.pi / 14) * (1 - Real.cos (Real.pi / 14)) * (Real.sin (Real.pi / 14) * (1 + Real.cos (Real.pi / 14))) * (Real.sin (Real.pi / 14) * (1 - Real.cos (Real.pi / 14))) / 4 = (Real.sin (Real.pi / 14)) ^ 3 * (1 - Real.cos (Real.pi / 14)) ^ 2 / 4 by ring]
              rw [show (Real.sin (Real.pi / 14)) ^ 3 * (1 - Real.cos (Real.pi / 14)) ^ 2 = (Real.sin (Real.pi / 14) ^ 2 * (1 - Real.cos (Real.pi / 14))) * (Real.sin (Real.pi / 14) * (1 - Real.cos (Real.pi / 14))) by ring]
              rw [show Real.sin (Real.pi / 14) ^ 2 * (1 - Real.cos (Real.pi / 14)) = (Real.sin (Real.pi / 14) ^ 2 + Real.cos (Real.pi / 14) ^ 2) * (1 - Real.cos (Real.pi / 14)) - Real.cos (Real.pi / 14) ^ 2 by ring]
              rw [Real.sin_sq_add_cos_sq (Real.pi / 14)]
              rw [show (Real.sin (Real.pi / 14) ^ 2 + Real.cos (Real.pi / 14) ^ 2) * (1 - Real.cos (Real.pi / 14)) - Real.cos (Real.pi / 14) ^ 2 = 1 - Real.cos (Real.pi / 14) ^ 2 - Real.cos (Real.pi / 14) ^ 2 by ring]
              rw [show 1 - Real.cos (Real.pi / 14) ^ 2 - Real.cos (Real.pi / 14) ^ 2 = 1 - 2 * Real.cos (Real.pi / 14) ^ 2 by ring]
              have g₁ : Real.cos (Real.pi / 14) ^ 2 = 1 / 2 + Real.cos (Real.pi / 7) / 2 := by
                have g₁ : Real.cos (Real.pi / 14) ^ 2 = (Real.cos (Real.pi / 7) + 1) / 2 := by
                  rw [show Real.cos (Real.pi / 14) ^ 2 = (Real.cos (2 * Real.pi / 14)) ^ 2 by rw [show 2 * Real.pi / 14 = Real.pi / 7 by ring]]
                  rw [Real.cos_sq]
                  rw [show Real.cos (Real.pi / 7) ^ 2 = (2 * Real.cos (Real.pi / 7) + 1) * (2 * Real.cos (Real.pi / 7) - 1) / 4 by ring]
                  rw [show (2 * Real.cos (Real.pi / 7) + 1) * (2 * Real.cos (Real.pi / 7) - 1) / 4 + 1 / 4 = (Real.cos (Real.pi / 7) + 1) / 2 by ring]
                  rw [show (2 * Real.cos (Real.pi / 7) + 1) * (2 * Real.cos (Real.pi / 7) - 1) / 4 + 1 / 4 = (Real.cos (Real.pi / 7) + 1) / 2 by ring]
                  rw [show (2 * Real.cos (Real.pi / 7) + 1) * (2 * Real.cos (Real.pi / 7) - 1) / 4 + 1 / 4 = (Real.cos (Real.pi / 7) + 1) / 2 by ring]
                  linarith
                linarith
              rw [g₁]
              ring
            rw [h₁, h₂]
          rw [h₁]
        linarith
      linarith
```