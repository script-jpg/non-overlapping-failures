-- Let $x = r^{\frac{1}{3}}$ and $y = \frac{1}{r^{\frac{1}{3}}}$, then we have
  set x := r ^ ((1 : ℝ) / 3) with hx
  set y := 1 / r ^ ((1 : ℝ) / 3) with hy

  -- $x + y = 3$.
  have hxy : x + y = 3 := h₀

  -- Since $(x + y)^3 = x^3 + y^3 + 3xy(x + y)$, we have $x^3 + y^3 = (x + y)^3 - 3xy(x + y)$.
  have : x ^ 3 + y ^ 3 = (x + y) ^ 3 - 3 * x * y * (x + y) := by
    ring

  -- Since $xy = 1$, $x^3 + y^3 = (x + y)^3 - 3(x + y)$.
  rw [this, hxy]
  simp

  -- Since $r^{\frac{1}{3}} \cdot \frac{1}{r^{\frac{1}{3}}} = 1$, we have $x \cdot y = 1$.
  have hxy : x * y = 1 := by
    rw [hx, hy]
    field_simp

  -- Since $x^3 + y^3 = (x + y)^3 - 3(x + y)$, we have $x^3 + y^3 = 3^3 - 3 \cdot 3 = 18$.
  rw [hxy]
  norm_num

  -- Since $x^3 = r$ and $y^3 = \frac{1}{r}$, $x^3 + y^3 = r + \frac{1}{r} = 18$.
  have : x ^ 3 = r := by
    rw [hx]
    rw [← Real.rpow_mul_natCast]
    simp
  rw [← this]

  have : y ^ 3 = 1 / r := by
    rw [hy]
    rw [← Real.rpow_mul_natCast]
    simp
  rw [← this]

  -- Since $r + \frac{1}{r} = 18$, $(r + \frac{1}{r})^3 = 18^3$.
  have : r + 1 / r = 18 := by
    have : x ^ 3 * y ^ 3 = (x * y) ^ 3 := by
      ring
    rw [this, hxy] at this
    linarith
  have : (r + 1 / r) ^ 3 = 18 ^ 3 := by
    rw [this]
  norm_num at this

  -- Since $(r + \frac{1}{r})^3 = r^3 + \frac{1}{r^3} + 3(r + \frac{1}{r})$, we have $r^3 + \frac{1}{r^3} = (r + \frac{1}{r})^3 - 3(r + \frac{1}{r}) = 18^3 - 3 \cdot 18 = 5778$.
  have : r ^ 3 + 1 / r ^ 3 = (r + 1 / r) ^ 3 - 3 * (r + 1 / r) := by
    ring
  rw [this, ‹r + 1 / r = 18›]
  norm_num
```