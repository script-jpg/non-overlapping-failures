-- Let $x = r^{\frac{1}{3}}$ and $y = \frac{1}{r^{\frac{1}{3}}}$, then we have that $x + y = 3$.
  let x := r ^ ((1 : ℝ) / 3)
  let y := 1 / r ^ ((1 : ℝ) / 3)

  -- We want to show that $x^3 + y^3 = 5778$.
  suffices x ^ 3 + y ^ 3 = 5778 by
    have : r ^ 3 + 1 / r ^ 3 = 5778 := by
      calc
        _ = (r ^ ((1 : ℝ) / 3)) ^ (3 : ℝ) + (1 / r ^ ((1 : ℝ) / 3)) ^ (3 : ℝ) := by
          rw [<-Real.rpow_mul_natCast]
          rw [<-Real.rpow_mul_natCast]
          norm_num
          all_goals linarith
        _ = _ := by
          rw [<-this]
          simp [x, y]
    assumption

  -- We have that $x^3 + y^3 = (x + y)^3 - 3xy(x + y)$.
  have h₁ : x ^ 3 + y ^ 3 = (x + y) ^ 3 - 3 * x * y * (x + y) := by
    ring_nf

  -- Hence, $x^3 + y^3 = 5778$.
  rw [h₁, h₀]
  calc
    _ = (3 : ℝ) ^ 3 - 3 * x * y * 3 := by
      ring
    _ = 5778 := by
      -- We have that $xy = 1$.
      have h₂ : x * y = 1 := by
        simp [x, y]
        field_simp
      norm_num [h₂]
```