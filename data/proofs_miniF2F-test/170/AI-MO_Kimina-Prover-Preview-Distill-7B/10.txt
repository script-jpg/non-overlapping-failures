-- prove some auxiliary inequalities
  have h1 : 0 < (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) := by positivity
  have h2 : 0 < (r ^ ((1 : ℝ) / 3)) := by positivity
  have h3 : 0 < (1 / r ^ ((1 : ℝ) / 3)) := by positivity
  -- prove r ≠ 0
  have hr : r ≠ 0 := by
    by_contra! tmp
    rw [tmp] at h₀
    norm_num at h₀
  -- prove r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3)) = 1
  have h4 : r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3)) = 1 := by
    field_simp [← Real.rpow_neg (show r ≠ 0 by assumption)]
    norm_num
  -- prove (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 3 = 27
  have h5 : (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 3 = 27 := by
    norm_num [h₀]
  -- prove (r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3))) ^ 3 = 1
  have h6 : (r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3))) ^ 3 = 1 := by
    norm_num [h4]
  -- prove r ^ ((1 : ℝ) / 3) * 1 / r ^ ((1 : ℝ) / 3) = 1
  have h7 : r ^ ((1 : ℝ) / 3) * 1 / r ^ ((1 : ℝ) / 3) = 1 := by
    rw [mul_div_cancel₀ _ (show r ^ ((1 : ℝ) / 3) ≠ 0 by positivity)]
  -- derive the equation (r ^ (1 / 3) - 1 / r ^ (1 / 3)) ^ 2 * (r ^ (1 / 3) + 1 / r ^ (1 / 3)) = 18
  have h8 : (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 * (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) = 18 := by
    calc
      _ = (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 3 - (r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3))) ^ 3 := by ring
      _ = 27 - 1 := by rw [h5, h6]
      _ = 26 := by norm_num
      _ = 18 + 8 := by norm_num
      _ = _ := by
        have : (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 * (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) = (r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3))) ^ 2 * ((r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 2 - (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2) := by
          rw [mul_assoc, mul_sub, mul_pow, mul_pow, sub_mul, pow_two, pow_two, mul_assoc]
          ring_nf
        rw [this]
        rw [h4, h8]
        ring_nf
        rw [h5, h6, h4]
        ring_nf
  -- derive the equation (r ^ (1 / 3) - 1 / r ^ (1 / 3)) ^ 2 = 18 / 3 = 6
  have h9 : (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 = 6 := by
    have : (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 = ((r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 * (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3))) / (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) := by
      field_simp [show r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3) ≠ 0 by positivity]
    rw [this, h8, h₀]
    norm_num
  -- derive the equation (r ^ (1 / 3) + 1 / r ^ (1 / 3)) ^ 2 = 11
  have h10 : (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 2 = 11 := by
    have : (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 2 = ((r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 + 4 * (r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3)))) := by ring_nf
    rw [this, h9, h4]
    norm_num
  -- derive the equation (r ^ (1 / 3) + 1 / r ^ (1 / 3)) * (r ^ (1 / 3) - 1 / r ^ (1 / 3)) ^ 2 = 108
  have h11 : (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) * (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 = 108 := by
    calc
      _ = (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 3 - (r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3))) ^ 3 := by ring_nf
      _ = 27 - 1 := by rw [h5, h6]
      _ = 26 := by norm_num
      _ = 108 - 82 := by norm_num
      _ = 108 := by
        have : (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) * (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 = (r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 * (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) := by ring
        rw [this, h8]
        norm_num
  -- derive the equation r ^ 3 + 1 / r ^ 3 = 5778
  have h12 : r ^ 3 + 1 / r ^ 3 = 5778 := by
    calc
      _ = (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 3 - ((r ^ ((1 : ℝ) / 3) - 1 / r ^ ((1 : ℝ) / 3)) ^ 2 * (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3))) := by
        ring_nf
        rw [← Real.rpow_mul (show 0 ≤ r by positivity), ← Real.rpow_mul (show 0 ≤ r by positivity)]
        ring_nf
        rw [Real.rpow one_div, ← Real.rpow_mul (show 0 ≤ r by positivity)]
        ring_nf
        rw [mul_assoc, mul_assoc, ← Real.rpow_add (show 0 ≤ r by positivity) (1 / 3) (1 / 3)]
        ring_nf
        rw [mul_assoc]
        ring_nf
        rw [mul_comm, mul_assoc, ← Real.rpow_add (show 0 ≤ r by positivity) (1 / 3), ← Real.rpow_add (show 0 ≤ r by positivity) (1 / 3)]
        ring_nf
        rw [mul_assoc, mul_assoc, mul_assoc, mul_comm, mul_assoc, mul_assoc]
        ring_nf
        rw [← Real.rpow_natCast, ← Real.rpow_natCast]
        simp
        rw [Nat.cast_ofNat, Nat.cast_ofNat, mul_pow, mul_pow]
        simp
        ring_nf
        rw [Real.rpow_one, ← Real.rpow_mul (show 0 ≤ r by positivity) 3 (1 / 3), ← Real.rpow_mul (show 0 ≤ r by positivity) 3 (1 / 3)]
        ring_nf
        rw [show 3 * ((1 : ℝ) / 3) = 1 by ring]
        rw [← Real.rpow_mul (show 0 ≤ r by positivity) 3 1]
        ring_nf
      _ = 5778 := by
        rw [h10, h11, h9, h8, h₀]
        norm_num
  exact h12

```