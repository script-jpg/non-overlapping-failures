-- First, we need to prove that $r \neq 0$. This is crucial for the definition of $\frac{1}{r^{\frac{1}{3}}}$.
  have : r ≠ 0 := by
    -- Proof by contradiction: If $r = 0$, then $r^{\frac{1}{3}} = 0$ and $\frac{1}{r^{\frac{1}{3}}}$ would be undefined.
    by_contra h
    simp [h] at h₀

  -- Step 1: Find $r + \frac{1}{r}$.
  -- We start by cubing both sides of the given equation $r^{\frac{1}{3}} + \frac{1}{r^{\frac{1}{3}}} = 3$.
  have h₁ : r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3)) = 1 := by
    -- This follows from the property of exponents: $r^{\frac{1}{3}} \cdot \frac{1}{r^{\frac{1}{3}}} = r^{\frac{1}{3} - \frac{1}{3}} = r^0 = 1$.
    field_simp

  have h₂ : (r ^ ((1 : ℝ) / 3) + 1 / r ^ ((1 : ℝ) / 3)) ^ 3 = 27 := by
    rw [h₀]
    norm_num

  -- Using the expansion $(a + b)^3 = a^3 + 3a^2b + 3ab^2 + b^3$ and the fact that $ab = 1$, we can simplify.
  have h₃ : (r ^ ((1 : ℝ) / 3)) ^ 3 + (1 / r ^ ((1 : ℝ) / 3)) ^ 3 + 3 * ((r ^ ((1 : ℝ) / 3) * (1 / r ^ ((1 : ℝ) / 3))) ^ 2) = 27 := by
    rw [←h₂]
    ring_nf

  -- Since $r^{\frac{3}{3}} = r$ and $\frac{1}{r^{\frac{3}{3}}} = \frac{1}{r}$, and $r^{\frac{1}{3}} \cdot \frac{1}{r^{\frac{1}{3}}} = 1$,
  have h₄ : r + 1 / r = 3 - 3 * 1 := by
    simp [←pow_one r, ←h₁]
    norm_num
    linarith

  -- Step 2: Find $r^3 + \frac{1}{r^3}$.
  -- We use the identity: $r^3 + \frac{1}{r^3} = \left(r + \frac{1}{r}\right)^3 - 3\left(r + \frac{1}{r}\right)$.
  have h₅ : (r + 1 / r) ^ 3 - 3 * (r + 1 / r) = 5778 := by
    -- Substituting $r + \frac{1}{r} = 3 - 3$ into the identity, we get:
    rw [h₄]
    norm_num

  -- This simplifies to $r^3 + \frac{1}{r^3} = 5778$.
  have h₆ : r ^ 3 + 1 / r ^ 3 = 5778 := by
    -- The identity $(r + \frac{1}{r})^3 - 3(r + \frac{1}{r}) = r^3 + \frac{1}{r^3}$ can be expanded and simplified using the binomial theorem.
    have : (r + 1 / r) ^ 3 - 3 * (r + 1 / r) = r ^ 3 + 1 / r ^ 3 := by
      field_simp
      ring
    rw [this] at h₅
    exact h₅

  exact h₆
```