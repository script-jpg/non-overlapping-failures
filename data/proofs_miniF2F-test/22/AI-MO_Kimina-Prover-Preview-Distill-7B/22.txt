-- $\sum_{n=0}^{99} a_n^2 = 1$
  have sum_sq_eq_one : (∑ x in Finset.range 100, a (x + 1) ^ 2) = 1 := h₀

  -- $\sum_{n=0}^{98} a_{n+1}^2 a_{n+2} + a_{100}^2 a_1 < \frac{12}{25}$
  have sum_prod_lt_12_div_25 : (∑ x in Finset.range 99, a (x + 1) ^ 2 * a (x + 2)) + a 100 ^ 2 * a 1 < 12 / 25 := by
    -- Set $b = \sum_{n=0}^{99} a_{n+1}^2 = 1$
    set b := ∑ x in Finset.range 100, a (x + 1) ^ 2 with hb
    -- Set $w = \sum_{n=0}^{98} a_{n+1}^2 a_{n+2} + a_{100}^2 a_1$
    set w := ∑ x in Finset.range 99, a (x + 1) ^ 2 * a (x + 2)) + a 100 ^ 2 * a 1
    -- We want to prove $w < \frac{12}{25}$
    suffices w < 12 / 25 by exact this

    -- By Cauchy-Schwarz, $\sum_{n=0}^{99} a_{n+1}^2 a_{n+2} \leq \sum_{n=0}^{99} a_{n+1}^2 \cdot \sum_{n=0}^{99} a_{n+2}^2 = b \cdot b = b^2$
    have h₁ : w ≤ b ^ 2 := calc
      w = ∑ x in Finset.range 99, a (x + 1) ^ 2 * a (x + 2) + a 100 ^ 2 * a 1 := by rfl
      _ = ∑ x in Finset.range 99, a (x + 1) ^ 2 * a (x + 2) + a 100 ^ 2 * a 1 := by rfl
      _ ≤ (∑ x in Finset.range 99, a (x + 1) ^ 2) * (∑ x in Finset.range 99, a (x + 2) ^ 2) := by
        -- Note that $a_{100}^2 \cdot a_1 = a_{99}^2 \cdot a_{100}^2 \cdot a_1^2 \cdot a_{100}^{-2} \cdot a_1^{-2} \leq \frac{1}{2} \cdot (a_{99}^4 + a_{100}^4 + a_1^4 + a_{100}^{-4} + a_1^{-4})$
        -- and $\sum_{n=0}^{99} a_{n+2}^2 \geq \frac{1}{2} \cdot (a_{100}^4 + a_1^4 + a_{100}^{-4} + a_1^{-4})$
        -- Then by Cauchy-Schwarz, $\sum_{n=0}^{99} a_{n+1}^2 \cdot a_{n+2} \leq \frac{1}{2} \cdot (a_{99}^4 + a_{100}^4 + a_1^4 + a_{100}^{-4} + a_1^{-4}) \leq \frac{1}{4} \cdot (a_{99}^4 + a_{100}^4 + a_1^4 + a_{100}^{-4} + a_1^{-4}) \cdot (1 + 1 + 1 + 1 + 1) = \frac{5}{4}$
        apply Finset.sum_add_distrib
        · apply Finset.sum_le_sum
          intro i hi
          apply mul_nonneg
          · apply pow_two_nonneg
          · apply pow_two_nonneg
        · apply mul_nonneg
          · apply pow_two_nonneg
          · apply pow_two_nonneg
      _ = (∑ x in Finset.range 99, a (x + 1) ^ 2) * (∑ x in Finset.range 99, a (x + 2) ^ 2) := by rfl
      _ = b * (∑ x in Finset.range 99, a (x + 2) ^ 2) := by
        rw [hb]
      _ = b * (∑ x in Finset.range 99, a (x + 2) ^ 2) := by rfl
      _ ≤ b * b := by
        apply mul_le_mul_of_nonneg_left
        · rw [hb]
          simp
          exact sum_sq_eq_one
        · exact sum_sq_eq_one
      _ = b ^ 2 := by ring
    rw [hb] at h₁

    -- Since $\sum_{n=0}^{99} a_{n+1}^2 = 1$, we have $a_{100}^2 \cdot a_1 \leq \sum_{n=0}^{99} a_{n+1}^2 \cdot a_{n+2} \leq b^2$, so $a_{100}^2 \cdot a_1 \leq b^2$
    have h₂ : a 100 ^ 2 * a 1 ≤ b ^ 2 := calc
      a 100 ^ 2 * a 1 = a 100 ^ 2 * a 1 := rfl
      _ ≤ (∑ x in Finset.range 99, a (x + 1) ^ 2 * a (x + 2)) + a 100 ^ 2 * a 1 := by
        apply le_add_of_nonneg_left
        apply pow_two_nonneg
      _ = w := rfl
      _ ≤ b ^ 2 := h₁
    rw [hb] at h₂

    -- $b > 0$ since $\sum_{n=0}^{99} a_{n+1}^2 = 1$ and $a_{n+1}^2 \geq 0$
    have hb_pos : b > 0 := by
      rw [hb]
      apply sum_pos'
      · simp
      · intro i hi
        apply pow_two_pos_of_ne_zero
        by_contra h
        have h' : a i = 0 := by
          apply Nat.eq_zero_of_add_eq_zero
          rw [←h]
          apply add_zero
        simp [h'] at sum_sq_eq_one
        linarith

    -- Since $b > 0$ and $a_{100}^2 \cdot a_1 \leq b^2$, we have $a_{100} \cdot a_1 \leq b^2$
    have h₃ : a 100 * a 1 ≤ b ^ 2 := by
      by_cases h : a 100 = 0
      · simp [h]
      · apply (mul_le_mul_iff_of_pos_left hb_pos).mp
        apply pow_le_pow_left₀
        · apply mul_nonneg
          · apply pow_two_nonneg
          · apply pow_two_nonneg
        · linarith

    -- Since $\sum_{n=0}^{99} a_{n+1}^2 = 1$ and $a_{n+1}^2 \geq 0$, $0 \leq a_{100}^2 \leq 1$
    have h₄ : a 100 ^ 2 ≤ 1 := by
      have h₄ : a 100 ^ 2 = b - ∑ x in Finset.range 99, a (x + 1) ^ 2 := by
        rw [hb]
        simp [←h₄]
        rw [←Finset.sum_range_add_sum_Ico _ (by norm_num)]
        simp [Finset.sum_Ico_eq_sum_range]
        rw [add_comm]
        simp
      rw [h₄]
      apply sub_nonneg_of_le
      rw [sum_sq_eq_one]
      apply sum_nonneg
      intro i hi
      apply pow_two_nonneg

    -- Since $a_{100} \cdot a_1 \leq b^2$ and $a_{100}^2 \leq 1$, $(a_{100} \cdot a_1)^2 \leq b^4$ and $a_{100}^2 \cdot a_1^2 \leq b^4$
    have h₅ : a 100 ^ 2 * a 1 ^ 2 ≤ b ^ 4 := by
      have h₅ : a 100 ^ 2 * a 1 ^ 2 = (a 100 * a 1) ^ 2 := by ring
      rw [h₅]
      have h₆ : a 100 ^ 2 * a 1 ^ 2 = (a 100 * a 1) ^ 2 := by ring
      rw [h₆]
      apply sq_le_sq
      · apply mul_nonneg
        · apply pow_two_nonneg
        · apply pow_two_nonneg
      · nlinarith [h₃, h₄, sq_nonneg (a 100), sq_nonneg (a 1)]

    -- $\sum_{n=0}^{98} a_{n+1}^2 \cdot a_{n+2} + a_{100}^2 \cdot a_1 < \frac{12}{25}$
    by_contra h
    push_neg at h
    have h₆ : b ^ 2 > 81 / 100 := calc
      b ^ 2 = b ^ 2 - 81 / 100 + 81 / 100 := by ring
      _ = (∑ x in Finset.range 100, a (x + 1) ^ 2) ^ 2 - 81 / 100 + 81 / 100 := by
        rw [hb]
      _ = 1 ^ 2 - 81 / 100 + 81 / 100 := by rw [sum_sq_eq_one]
      _ = 1 := by ring
      _ > 81 / 100 := by norm_num
      _ = b ^ 2 := by rw [sum_sq_eq_one]
    have h₇ : b ^ 2 > 81 / 100 := h₆
    have h₈ : b > 9 / 10 := by
      by_contra h
      push_neg at h
      have h₈ : b ^ 2 ≤ 81 / 100 := calc
        b ^ 2 ≤ (9 / 10) ^ 2 := by nlinarith [sq_nonneg (b - 9 / 10)]
        _ = 81 / 100 := by norm_num
      linarith
    have h₉ : a 100 ^ 2 * a 1 ^ 2 > 81 / 100 * (12 / 25) ^ 2 := calc
      a 100 ^ 2 * a 1 ^ 2 ≤ b ^ 4 := h₅
      _ = (9 / 10) ^ 2 * (12 / 25) ^ 2 := by
        rw [sum_sq_eq_one]
        rw [sq_sub_sq]
        norm_num
      _ > 81 / 100 * (12 / 25) ^ 2 := by
        apply mul_lt_mul_of_pos_left
        · norm_num
        · norm_num
    have h₁₀ : (a 100 * a 1) ^ 2 > 81 / 100 * (12 / 25) ^ 2 := by
      have h₁₀ : (a 100 * a 1) ^ 2 = a 100 ^ 2 * a 1 ^ 2 := by ring
      rw [h₁₀]
      exact h₉
    have h₁₁ : a 100 * a 1 > 9 / 10 * (12 / 25) := by
      by_contra h
      push_neg at h
      have h₁₁ : (a 100 * a 1) ^ 2 ≤ (9 / 10 * (12 / 25)) ^ 2 := by
        apply pow_le_pow_left₀
        · linarith
        · apply mul_nonneg
          · apply pow_two_nonneg
          · apply pow_two_nonneg
      nlinarith
    have h₁₂ : a 100 * a 1 > 9 / 10 * (12 / 25) := h₁₁
    have h₁₃ : a 100 > 0 := by
      by_contra h
      push_neg at h
      have h₁₃ : a 100 ^ 2 = 0 := by
        apply pow_eq_zero
        simp [h]
      rw [h₁₃] at h₄
      norm_num at h₄
    have h₁₄ : a 1 > 0 := by
      by_contra h
      push_neg at h
      have h₁₄ : a 1 ^ 2 = 0 := by
        apply pow_eq_zero
        simp [h]
      rw [h₁₄] at h₅
      norm_num at h₅
    have h₁₅ : a 100 * a 1 < 12 / 25 := calc
      a 100 * a 1 < 9 / 10 * (12 / 25) := h₁₂
      _ < 12 / 25 := by norm_num
    linarith

  exact sum_prod_lt_12_div_25
```