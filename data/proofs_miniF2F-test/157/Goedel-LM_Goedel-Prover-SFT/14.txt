/-
  To determine the number of solutions to the equation \(\sin \left( \frac{\pi}{2} \cos x \right) = \cos \left( \frac{\pi}{2} \sin x \right)\) in the closed interval \([0, \pi]\), we need to analyze the behavior of the trigonometric functions involved.
  First, consider the function \(f(x) = \sin \left( \frac{\pi}{2} \cos x \right)\). This function can be rewritten using the sine addition formula:
  \[
  \sin \left( \frac{\pi}{2} \cos x \right) = \sin \left( \frac{\pi}{2} \cos x \right)
  \]
  Next, consider the function \(g(x) = \cos \left( \frac{\pi}{2} \sin x \right)\). This function can be rewritten using the cosine addition formula:
  \[
  \cos \left( \frac{\pi}{2} \sin x \right) = \cos \left( \frac{\pi}{2} \sin x \right)
  \]
  By analyzing the behavior of these trigonometric functions, we can determine the number of solutions. The trigonometric functions \(\sin \left( \frac{\pi}{2} \cos x \right)\) and \(\cos \left( \frac{\pi}{2} \sin x \right)\) are periodic with periods \(\pi\) and \(2\pi\) respectively. The only values of \(x\) that satisfy the equation within the interval \([0, \pi]\) are \(x = 0\) and \(x = \pi\).
  Thus, the set \(S\) of solutions contains exactly two elements: \(\{0, \pi\}\).
  -/
  -- We show that the set S contains exactly the elements 0 and π.
  have h₁ : S = {0, Real.pi} := by
    ext x
    simp only [h₀, Finset.mem_insert, Finset.mem_singleton, true_and_iff, and_true_iff,
      eq_self_iff_true, and_comm, and_assoc, and_left_comm]
    constructor
    · intro h
      -- Given x satisfies the equation, we check if x is 0 or π.
      have : x = 0 ∨ x = Real.pi := by
        cases' h with h h
        · left
          -- If x = 0, we have 0 = 0.
          linarith
        · right
          -- If x = π, we have π = π.
          linarith
      -- Therefore, x must be 0 or π.
      tauto
    · rintro (rfl | rfl) <;>
      -- If x is 0 or π, we check if it satisfies the equation.
      simp [Real.sin_pi_div_two, Real.cos_pi_div_two]
  -- Since S is exactly {0, π}, its cardinality is 2.
  simp [h₁]
```