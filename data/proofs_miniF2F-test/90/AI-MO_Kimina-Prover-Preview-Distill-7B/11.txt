-- The proof goes by induction on $n$.
  induction n with
  | zero => linarith
  | succ n ih =>
      -- If $n = 0$, the inequality is trivial.
      cases n with
      | zero => simp
      -- Let $n$ be a positive integer. We denote the product by $P(n)$.
      | succ n => -- Assume the inequality holds for $n$, let's prove it for $n+1$.
        -- We have $P(n+1) = P(n) \cdot (1 + 1/(n+1)^3)$.
        rw [Finset.prod_Icc_succ_top (by linarith)]
        -- By the induction hypothesis, $P(n) \leq 3 - 1/n$.
        specialize ih (by linarith)
        -- Therefore, $P(n+1) \leq (3 - 1/n) \cdot (1 + 1/(n+1)^3)$.
        suffices (3 : ℝ) - 1 / ↑n ≥ (3 : ℝ) - 1 / (↑n + 1) by
          simp [this]
        -- It suffices to show that $(3 - 1/n) \cdot (1 + 1/(n+1)^3) \leq (3 - 1/(n+1))$.
        suffices (3 : ℝ) - 1 / ↑n ≥ (3 : ℝ) - 1 / (↑n + 1) by
          nth_rw 1 [ih]
          exact this
        -- Simplify the goal.
        field_simp
        rw [div_le_div_iff (by positivity) (by positivity)]
        -- It suffices to show that $3/(n+1) + 1/n(n+1) + 1/(n+1)^2 \leq 3/n$.
        suffices 3 * (↑n + 1) / (↑n * (↑n + 1)) + (↑n + 1)⁻¹ * (↑n + 1)⁻¹ * 2 ≤ 3 * ↑n / (↑n + 1) by
          linarith
        -- Further simplification reduces the goal to $(n+1)^3 \leq 3n^2$.
        field_simp
        rw [mul_le_mul_left (by positivity)]
        ring_nf
        -- The goal is equivalent to $0 \leq n^3 - 3n^2$.
        suffices 0 ≤ (↑n : ℝ) ^ 3 - 3 * (↑n : ℝ) ^ 2 by
          linarith
        -- This is true since $0 \leq n^2(n-3)$.
        suffices 0 ≤ (↑n : ℝ) ^ 2 * (↑n : ℝ) - 3 * (↑n : ℝ) by
          linarith
        exact mul_nonneg (pow_two_nonneg _) (by linarith)

```