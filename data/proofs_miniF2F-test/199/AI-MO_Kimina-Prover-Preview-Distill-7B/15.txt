have h₄ : (k - t) ∣ (k ^ 2 - m * k + n) - (t ^ 2 - m * t + n) := by simp
  simp at h₄
  rw [h₂, h₃] at h₄
  norm_cast at h₄
  simp at h₄

  have h₅ : k + t = m := by
    calc
      _ = (k - t) * (k + t - m) + 2 * n := by ring
      _ = 2 * n := by rw [h₄, h₂]; omega
      _ = 2 * t + (k + t - m) * (k - t) := by ring
      _ = (k + t - m) * (k - t) + 2 * t := by ring
      _ = _ := by rw [←h₄, h₃]; omega

  have h₆ : k * t = n := by
    linarith

  have hk : 2 ∣ k + t := by
    rw [h₅]
    rw [Nat.prime_def_lt.mp h₀.left]
    norm_num
    omega

  have ht : 2 ∣ k - t := by
    rw [show k - t = 2 * (t + (k - t - 2) / 2) by omega] at h₄
    simp at h₄
    omega

  have hk' : 2 ∣ k + t - 2 := by
    suffices 2 ∣ k - t + (k + t - 2) by omega
    rw [Nat.prime_def_lt.mp h₀.left]
    norm_num
    omega

  have h7 : (k + t - 2) = (k - t) * ((k + t - 2) / (k - t)) := by
    apply (Nat.div_eq_iff_eq_mul_right (by omega)).mp
    rw [←h₄, hk, ht]
    omega

  have h8 : (k - t) > 0 := by omega

  have h9 : (k + t - 2) / (k - t) > 0 := by omega

  have h10 : (k - t) * ((k + t - 2) / (k - t)) > 0 := by omega

  have h11 : (k - t) * ((k + t - 2) / (k - t)) = 2 * t + (k - t) * ((k + t - 2) / (k - t)) := by omega

  have h12 : (k - t) * ((k + t - 2) / (k - t)) = (k + t - 2) := by omega

  have h13 : (k - t) > k := by omega

  have h14 : t > 0 := by omega

  have h15 : k > 2 := by omega

  have h16 : (k - t) < k := by omega

  have h17 : (k - t) ∣ k := by use k - t; omega

  have h18 : (k - t) ∣ t := by rw [h17]; apply Nat.dvd_sub' <;> omega

  have h19 : (k - t) ∣ 2 * t + (k - t) * ((k + t - 2) / (k - t)) := by
    rw [h11]
    apply Nat.dvd_add
    · rw [Nat.dvd_mul_right (k - t)]
      omega
    · apply Nat.dvd_mul_left
      omega

  have h20 : (k - t) ∣ 2 * t := by
    apply Nat.dvd_sub' <;> omega

  have h21 : (k - t) ∣ 2 := by
    rcases (prime_dvd_prime_iff_eq h₀.left h₀.right).mp h20 with h | h
    omega
    rw [h] at h17
    omega

  have h22 : (k - t) = 1 ∨ (k - t) = 2 := by
    rcases (Nat.le_or_lt (Nat.Prime.two_le h₀.right)).mp h16 with h | h
    omega
    have : (k - t) ≤ 2 := by rw [←h21]; exact Nat.le_of_dvd (by norm_num) h21
    interval_cases (k - t)
    · omega
    · rfl
    · omega

  have h23 : (k - t) = 2 := by
    rcases h22 with h | h
    · interval_cases (k - t)
      · omega
      · rfl
    · exact h

  have h24 : k = 4 := by omega

  have h25 : t = 1 := by omega

  have h26 : m = 5 := by omega

  have h27 : n = 4 := by omega

  rw [h24, h25, h26, h27]
  norm_num

```