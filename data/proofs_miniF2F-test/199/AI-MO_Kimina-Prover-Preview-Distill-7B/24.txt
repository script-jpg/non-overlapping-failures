have h₄ : (k - t) ∣ (m * (k - t)) := by
    apply Nat.dvd_mul_left

  have h₅ : (k - t) ∣ n := by
    rw [← h₂, ← h₃]
    apply Nat.dvd_sub_of_dvd_of_dvd
    · use k; ring
    · use t; ring
    · apply Nat.dvd_mul_left

  obtain ⟨u, hu⟩ : ∃ u, u = k - t := by
    obtain ⟨_, _⟩ := h₅
    exact that

  have h₆ : (m - 1) * (t - 1) = (u - 1) * (m + n - u) := by
    rw [hu] at h₅
    ring_nf
    linarith

  have h₇ : m ≤ 2 := by
    by_contra! h₇
    have : m ≥ 3 := by
      omega
    have : n ≥ 3 := by
      by_contra! h₈
      have : n ≤ 2 := by
        omega
      interval_cases n
      · have : u = 1 := by
          rw [hu]
          omega
        rw [this]
        omega
      · have : u = 2 := by
          rw [hu]
          omega
        rw [this]
        omega
    have : (m - 1) * (n - 1) ≥ 6 := by
      calc
        _ ≥ 2 * 2 := by
          apply Nat.mul_le_mul
          · omega
          · omega
        _ ≥ 6 := by
          omega
    have : (u - 1) * (m + n - u) ≤ 2 := by
      calc
        _ ≤ 1 * (m + n - 1) := by
          apply Nat.mul_le_mul
          · omega
          · omega
        _ ≤ 1 * (n + n - 1) := by
          apply Nat.mul_le_mul_right
          omega
        _ ≤ 1 * (2 + 2 - 1) := by
          apply Nat.mul_le_mul_left
          omega
        _ = 2 := by
          omega
    linarith

  have h₈ : Nat.Prime m := by
    exact h₀.1

  have h₉ : Nat.Prime n := by
    exact h₀.2

  have h₁₀ : u ≥ 2 := by
    rw [hu]
    linarith

  have h₁₁ : m + n - u ≥ n := by
    linarith

  have h₁₂ : n - 1 ≥ m + n - u - 1 := by
    linarith

  have h₁₃ : (n - 1) * (m - 1) ≥ (m + n - u - 1) * (m - 1) := by
    apply Nat.mul_le_mul_of_nonneg_left
    · exact h₁₂
    · exact Nat.le_sub_of_add_le' h₇

  have h₁₄ : (n - 1) * (m - 1) = (m + n - u - 1) * (m - 1) := by
    linarith

  have h₁₅ : m - 1 = 0 := by
    by_contra! h₁₅
    have : m - 1 ≥ 1 := by
      omega
    have : (m + n - u - 1) * (m - 1) > 0 := by
      apply Nat.mul_pos
      · linarith
      · omega
    have : (n - 1) * (m - 1) > (n - 1) * 0 := by
      apply Nat.mul_lt_mul_of_pos_left
      · linarith
      · exact h₁₅
    linarith

  have h₁₆ : m = 2 := by
    omega

  have h₁₇ : n = 2 := by
    linarith

  have h₁₈ : u = 2 := by
    rw [hu]
    omega

  have h₁₉ : k - t = 2 := by
    omega

  have h₂₀ : t = 1 := by
    omega

  have h₂₁ : k = 3 := by
    omega

  rw [h₁₆, h₁₇, h₂₀, h₂₁]
  norm_num
```