have h₄ : (k - t) * (k + t - m) = m * (n - k * m) := by
    linear_combination h₂ - h₃

  have h₅ : (k - t) * (k + t - m) = 0 := by
    integer linear_combination h₄

  have h₆ : n - k * m = 0 := by
    -- (k - t) * (k + t - m) = 0
    apply Nat.eq_zero_of_mul_eq_zero at h₅
    rcases h₅ with h₅ | h₅
   . -- k - t = 0
      have h₇ : k = t := by
        omega
      linarith only [h₇, h₁]
   . -- k + t - m = 0
      omega

  -- n = k * m
  replace h₆ : n = k * m := by
    omega

  have h₇ : n ≥ 2 := by
    linarith only [h₆, Nat.Prime.two_le h₀.1, Nat.Prime.two_le h₀.2]

  have h₈ : k ≥ 2 := by
    nlinarith only [h₆, Nat.Prime.two_le h₀.1, Nat.Prime.two_le h₀.2]

  have h₉ : k > 1 := by
    by_contra! h₉
    have : k = 1 := by
      omega
    rw [this] at h₆
    omega

  have h₁₀ : t > 0 := by
    by_contra! h₁₀
    have : t = 0 := by
      omega
    rw [this] at h₃
    omega

  have h₁₁ : t < 2 := by
    by_contra! h₁₁
    have : t ≥ 2 := by
      omega
    have h₁₂ : k > 2 := by
      nlinarith only [this, h₁₁, h₉]
    have : k ≥ 3 := by
      omega
    have h₁₃ : m ≥ 3 := by
      nlinarith only [h₆, this, Nat.Prime.two_le h₀.1]
    have h₁₄ : m * (n - k * m) ≥ 6 := by
      calc
        m * (n - k * m) ≥ 3 * (6 - 3 * 6) := by
          apply Nat.mul_le_mul
         . exact h₁₃
         . apply Nat.le_sub_of_add_le
            norm_num
            calc
              6 - 3 * 6 ≥ 6 - 3 * 6 := by rfl
              _ ≥ 0 := by norm_num
          linarith only [h₁₄]
        _ ≥ 6 := by
          omega
    omega

  have h₁₂ : t = 1 := by
    omega

  rw [h₁₂] at h₃
  have h₁₃ : m = k + 1 := by
    omega

  have h₁₄ : m = 3 := by
    nlinarith only [h₁₃, h₉, h₁₂, h₆, Nat.Prime.two_le h₀.1, Nat.Prime.two_le h₀.2]

  have h₁₅ : k = 2 := by
    omega

  subst h₁₄ h₁₅
  omega

```