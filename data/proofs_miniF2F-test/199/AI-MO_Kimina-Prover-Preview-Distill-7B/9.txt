have h₄ : (k - t) ∣ (m * (k - t)) := by
    apply Nat.dvd_mul_right

  have h₅ : (k - t) ∣ (k ^ 2 - t ^ 2) := by
    apply Nat.dvd_sub
    · ring_nf
    · apply Nat.dvd_mul_right

  have h₆ : (k - t) ∣ n := by
    convert Nat.dvd_sub h₅ h₄ using 1
    ring_nf
    positivity

  have h₇ : k - t = 1 ∨ k - t = n := by
    apply (Nat.dvd_prime h₆).mp
    rw [Nat.prime_dvd_prime_iff_eq (h₀.right)]

  have h₈ : (k > t) ∧ (k ≠ t + 1) ∨ (k = t + 1) := by
    by_cases h₈ : k > t
    · left
      exact ⟨h₈, by omega⟩
    · right
      apply Nat.le.dest h₈
      simp [h₀, h₁]

  cases' h₈ with h₈ h₈
  · rw [Nat.sub_eq_one_iff_eq_succ] at h₇
    have h₉ : m = n + 1 := by
      rw [h₇, Nat.sub_eq_iff_eq_add'] at h₄
      ring_nf at h₄
      rw [h₄, Nat.sub_eq_iff_eq_add']
      ring_nf
    cases' h₈ with h₁₀ h₁₀
    · rw [h₉] at h₂
      rw [h₁₀] at h₂
      ring_nf at h₂
      rw [show n = 20 by nlinarith] at h₂
      linarith
    · simp [h₉, h₇, Nat.prime_def_lt' h₀.right] at h₁₀
      linarith
  · rw [h₈] at h₇
    have h₁₁ : n = k - 1 := by
      rw [←Nat.sub_eq_iff_eq_add, h₇] at h₄
      ring_nf at h₄
      rw [h₄]
    cases' h₈ with h₁₂ h₁₂
    · rw [h₁₁, h₇] at h₂
      rw [h₁₂] at h₂
      ring_nf at h₂
      rw [show n = 20 by nlinarith] at h₂
      linarith
    · simp [h₇, h₁₁, Nat.prime_def_lt' h₀.right] at h₁₂
      linarith

```