have roots_eq : f ⁻¹' {0} = {-9 - √81 - √(81 - 30), -9 + √81 + √(81 - 30)} := by
    ext x
    constructor
    · -- If $x$ is a root of $f$, then $x = -9 \pm \sqrt{81} \pm \sqrt{81 - 30}$
      intro hx
      simp [h₀] at hx
      have : (x + 9) ^ 2 = (Real.sqrt (x ^ 2 + 18 * x + 45)) ^ 2 := by
        rw [←Real.sq_sqrt]
        ring_nf
        linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}}}⁴]
        linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}})]
      simp at this
      obtain (r | r) := this
      · right
        left
        ring_nf
        exact r
      · left
        linarith only [r]
    · -- If $x = -9 \pm \sqrt{81} \pm \sqrt{81 - 30}$, then $x$ is a root of $f$
      intro hx
      simp [h₀]
      obtain (r | r) := hx
      · -- The case $x = -9 - \sqrt{81} - \sqrt{81 - 30}$
        have : (x + 9) ^ 2 = (Real.sqrt (x ^ 2 + 18 * x + 45)) ^ 2 := by
          ring_nf
          rw [Real.sq_sqrt]
          ring_nf
          linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}})]
          linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}}]
        rw [←Real.sq_sqrt]
        ring_nf
        linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 - √81 - √(81 - 30) ≤ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}}]]
      · -- The case $x = -9 + \sqrt{81} + \sqrt{81 - 30}$
        have : (x + 9) ^ 2 = (Real.sqrt (x ^ 2 + 18 * x + 45)) ^ 2 := by
          ring_nf
          rw [Real.sq_sqrt]
          ring_nf
          linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith only [show -9 + √81 + √(81 - 30) ≥ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 + √81 + √(81 - 30) ≥ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}})]
          linarith only [show -9 + √81 + √(81 - 30) ≥ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 + √81 + √(81 - 30) ≥ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}}]
        rw [←Real.sq_sqrt]
        ring_nf
        linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith only [show -9 + √81 + √(81 - 30) ≥ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 45 ≥ 0 by linarith only [show -9 + √81 + √(81 - 30) ≥ x by apply le_of_sub_nonneg; apply Real.sqrt_le_sqrt; norm_num; linarith only [show x ^ 2 + 18 * x + 30 ≥ 0 by linarith]}}]]

  -- The product of the real roots of $f$ is 020
  rw [roots_eq] at h₁ ⊢
  simp [h₁]
  ring_nf
  rw [Real.sq_sqrt (by norm_num)]
  ring_nf
  norm_num
  all_goals
    positivity
```