have step₁ : (∏ x in (f ⁻¹' {0}).toFinset, x) = 20 := by
    have h₂ : f ⁻¹' {0} = {5, 15} := by
      ext x
      simp only [Set.mem_preimage, Set.mem_singleton_iff, Set.mem_insert_iff, h₀]
      constructor
      · intro h
        have h₃ : x ^ 2 + (18 * x + 30) - 2 * Real.sqrt (x ^ 2 + (18 * x + 45)) = 0 := h
        have h₄ : 0 ≤ Real.sqrt (x ^ 2 + (18 * x + 45)) := Real.sqrt_nonneg _
        have h₅ : Real.sqrt (x ^ 2 + (18 * x + 45)) ≥ 0 := Real.sqrt_nonneg _
        have h₆ : (Real.sqrt (x ^ 2 + (18 * x + 45))) ^ 2 = x ^ 2 + (18 * x + 45) := Real.sq_sqrt (by
          nlinarith [sq_nonneg (x + 9), sq_nonneg (x + 3), sq_nonneg (x - 5), sq_nonneg (x - 15)])
        have h₇ : x = 5 ∨ x = 15 := by
          apply or_iff_not_imp_left.mpr
          intro h₈
          apply mul_left_cancel₀ (sub_ne_zero.mpr h₈)
          nlinarith [sq_nonneg (x - 5), sq_nonneg (x - 15), Real.sqrt_nonneg (x ^ 2 + (18 * x + 45)),
            Real.sq_sqrt (by nlinarith [sq_nonneg (x + 9), sq_nonneg (x + 3), sq_nonneg (x - 5), sq_nonneg (x - 15)] : 0 ≤ x ^ 2 + (18 * x + 45)),
            sq_nonneg (x + 9), sq_nonneg (x + 3), sq_nonneg (x - 5), sq_nonneg (x - 15)]
        aesop
      · rintro (rfl | rfl) <;>
        norm_num [Real.sqrt_eq_iff_sq_eq, sq, mul_assoc] <;>
        nlinarith [Real.sqrt_nonneg 129, Real.sqrt_nonneg 605, Real.sq_sqrt (by positivity : (0 : ℝ) ≤ 129),
          Real.sq_sqrt (by positivity : (0 : ℝ) ≤ 605), sq_nonneg 12, sq_nonneg 15, sq_nonneg (9 : ℝ), sq_nonneg (3 : ℝ),
          sq_nonneg (18 : ℝ), sq_nonneg (45 : ℝ)]
    have h₃ : (f ⁻¹' {0}).toFinset = {5, 15} := by
      simp_all [Set.ext_iff]
      <;> aesop
    simp_all [Finset.prod_pair]
    <;> norm_num
    <;> ring_nf
    <;> norm_num
    <;> nlinarith [Real.sqrt_nonneg 129, Real.sqrt_nonneg 605, Real.sq_sqrt (by positivity : (0 : ℝ) ≤ 129),
      Real.sq_sqrt (by positivity : (0 : ℝ) ≤ 605), sq_nonneg 12, sq_nonneg 15, sq_nonneg (9 : ℝ), sq_nonneg (3 : ℝ),
      sq_nonneg (18 : ℝ), sq_nonneg (45 : ℝ)]
  simp_all
  <;> aesop
  <;> aesop
  <;> aesop
  <;> aesop
  <;> aesop
  <;> aesop