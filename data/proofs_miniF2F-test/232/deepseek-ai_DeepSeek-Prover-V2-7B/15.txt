have step₁ : ↑a.den + a.num = 929 := by
    have h₂ := h₀ 0
    have h₃ := h₀ 1
    have h₄ := h₀ (-1)
    have h₅ := h₀ (-2)
    have h₆ := h₀ (1 / 2)
    have h₇ := h₀ (3 / 2)
    have h₈ := h₀ (2 : ℝ)
    have h₉ := h₀ (-3 / 2)
    have h₁₀ := h₀ (420 : ℝ)
    have h₁₁ := h₀ (-420 : ℝ)
    have h₁₂ := h₀ (1 / 3 : ℝ)
    have h₁₃ := h₀ (2 / 3 : ℝ)
    have h₁₄ := h₀ (3 / 4 : ℝ)
    have h₁₅ := h₀ (5 / 4 : ℝ)
    have h₁₆ := h₀ (1 / 4 : ℝ)
    have h₁₇ := h₀ (3 / 4 + 1 : ℝ)
    have h₁₈ := h₀ (3 / 4 - 1 : ℝ)
    have h₁₉ := h₀ (2 : ℝ)
    have h₂₀ := h₀ (3 : ℝ)
    have h₂₁ := h₀ (4 : ℝ)
    have h₂₂ := h₀ (-2 : ℝ)
    have h₂₃ := h₀ (-3 : ℝ)
    have h₂₄ := h₀ (-4 : ℝ)
    have h₂₅ := h₀ (-5 : ℝ)
    have h₂₆ := h₀ (-6 : ℝ)
    norm_num [Int.floor_eq_iff, Int.ceil_eq_iff] at h₂ h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ h₂₀ h₂₁ h₂₂ h₂₃ h₂₄ h₂₅ h₂₆
    <;> field_simp [Int.cast_ofNat] at h₂ h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ h₂₀ h₂₁ h₂₂ h₂₃ h₂₄ h₂₅ h₂₆ ⊢
    <;> norm_num at h₂ h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ h₂₀ h₂₁ h₂₂ h₂₃ h₂₄ h₂₅ h₂₆ ⊢
    <;> ring_nf at h₂ h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ h₂₀ h₂₁ h₂₂ h₂₃ h₂₄ h₂₅ h₂₆ ⊢
    <;> nlinarith
  exact step₁

theorem amc12a_2020_p25' (a : ℚ) (S : Finset ℝ)
    (h₀ : ∀ x : ℝ, x ∈ S ↔ ↑⌊x⌋ * (x - ↑⌊x⌋) = ↑a * x ^ 2) (h₁ : (∑ k in S, k) = 420) :
    ↑a.den + a.num = 929 := by
  have h₂ : ↑a.den + a.num = 929 := by
    have h₃ := h₀ 0
    have h₄ := h₀ 1
    have h₅ := h₀ (-1)
    have h₆ := h₀ (-2)
    have h₇ := h₀ (1 / 2)
    have h₈ := h₀ (3 / 2)
    have h₉ := h₀ (2 : ℝ)
    have h₁₀ := h₀ (-3 / 2)
    have h₁₁ := h₀ (420 : ℝ)
    have h₁₂ := h₀ (-420 : ℝ)
    have h₁₃ := h₀ (1 / 3 : ℝ)
    have h₁₄ := h₀ (2 / 3 : ℝ)
    have h₁₅ := h₀ (3 / 4 : ℝ)
    have h₁₆ := h₀ (5 / 4 : ℝ)
    have h₁₇ := h₀ (1 / 4 : ℝ)
    have h₁₈ := h₀ (3 / 4 + 1 : ℝ)
    have h₁₉ := h₀ (3 / 4 - 1 : ℝ)
    norm_num [Int.floor_eq_iff, Int.ceil_eq_iff] at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> field_simp [Int.cast_ofNat] at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> norm_cast at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> ring_nf at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> nlinarith
  exact h₂

theorem amc12a_2020_p25'' (a : ℚ) (S : Finset ℝ)
    (h₀ : ∀ x : ℝ, x ∈ S ↔ ↑⌊x⌋ * (x - ↑⌊x⌋) = ↑a * x ^ 2) (h₁ : (∑ k in S, k) = 420) :
    ↑a.den + a.num = 929 := by
  have h₂ : ↑a.den + a.num = 929 := by
    have h₃ := h₀ 0
    have h₄ := h₀ 1
    have h₅ := h₀ (-1)
    have h₆ := h₀ (-2)
    have h₇ := h₀ (1 / 2)
    have h₈ := h₀ (3 / 2)
    have h₉ := h₀ (2 : ℝ)
    have h₁₀ := h₀ (-3 / 2)
    have h₁₁ := h₀ (420 : ℝ)
    have h₁₂ := h₀ (-420 : ℝ)
    have h₁₃ := h₀ (1 / 3 : ℝ)
    have h₁₄ := h₀ (2 / 3 : ℝ)
    have h₁₅ := h₀ (3 / 4 : ℝ)
    have h₁₆ := h₀ (5 / 4 : ℝ)
    have h₁₇ := h₀ (1 / 4 : ℝ)
    have h₁₈ := h₀ (3 / 4 + 1 : ℝ)
    have h₁₉ := h₀ (3 / 4 - 1 : ℝ)
    norm_num [Int.floor_eq_iff, Int.ceil_eq_iff] at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> field_simp [Int.cast_ofNat] at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> norm_cast at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> ring_nf at h₃ h₄ h₅ h₆ h₇ h₈ h₉ h₁₀ h₁₁ h₁₂ h₁₃ h₁₄ h₁₅ h₁₆ h₁₇ h₁₈ h₁₉ ⊢
    <;> nlinarith
  exact h₂