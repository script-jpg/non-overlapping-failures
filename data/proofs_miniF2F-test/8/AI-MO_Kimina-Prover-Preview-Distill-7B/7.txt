have : 374 * 10 + n = 3740 + n := by ring
  rw [this] at h₁

  omega
```

In this proof, we are given that $n$ is a digit (so $n \leq 9$) and that $3740 + n$ is divisible by 18. We need to find $n$.

First, I set up the theorem statement:

```tactics
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat
```

Now I need to state the theorem. We're told that $374n$ is divisible by 18, which means $3740 + n$ is divisible by 18 (since $n$ is a digit):

```tactics
theorem mathd_numbertheory_1124 (n : ℕ) (h₀ : n ≤ 9) (h₁ : 18 ∣ 374 * 10 + n) : n = 4 := by
```

The key insight is that for a number to be divisible by 18, it must be divisible by both 2 and 9. Since $3740$ is already even, $n$ must also be even. Furthermore, the sum of digits of $3740$ is $3+7+4+0=14$, and $n$ must be such that $14 + n$ is divisible by 9. 

Let's think about this algebraically. We need $3740 + n \equiv 0 \pmod{18}$. Since $3740 \equiv 3740 \pmod{18}$, we need $n \equiv -3740 \pmod{18}$. 

Calculating $3740 \bmod 18$:
- $3740 \div 18 = 207$ remainder $14$
- So $3740 \equiv 14 \pmod{18}$, and $-3740 \equiv -14 \equiv 4 \pmod{18}$

Since $n$ is a digit, the only possible value is $n = 4$.

Now, let's complete the formal proof. We can use the `omega` tactic, which handles integer arithmetic:

```tactics
omega
```

So our complete proof is:

1. We need $3740 + n$ to be divisible by 18
2. Since $3740 \equiv 14 \pmod{18}$, we need $n \equiv 4 \pmod{18}$
3. Since $n \leq 9$, the only possible value is $n = 4$
4. The `omega` tactic can solve this arithmetic automatically

Therefore, the units digit $n$ is 4.
</think>
```lean4
import Mathlib
import Aesop

set_option maxHeartbeats 0

open BigOperators Real Nat Topology Rat



/-- The four-digit number $\underline{374n}$ is divisible by 18. Find the units digit $n$. Show that it is 4.-/

theorem mathd_numbertheory_1124 (n : ℕ) (h₀ : n ≤ 9) (h₁ : 18 ∣ 374 * 10 + n) : n = 4 := by
  omega
```