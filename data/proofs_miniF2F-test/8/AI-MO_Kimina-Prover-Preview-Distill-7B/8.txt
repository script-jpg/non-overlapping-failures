-- The four-digit number is given as 374n, which is divisible by 18. We need to find the units digit n.

  -- 1. A number is divisible by 18 if and only if it is divisible by both 2 and 9.
  have h2 : 2 ∣ 374 * 10 + n := by
    -- 18 ∣ 374 * 10 + n implies 2 ∣ 374 * 10 + n
    exact Nat.dvd_trans (by norm_num) h₁
  have h3 : 9 ∣ 374 * 10 + n := by
    -- 18 ∣ 374 * 10 + n implies 9 ∣ 374 * 10 + n
    exact Nat.dvd_trans (by norm_num) h₁

  -- 2. Divisibility by 9: The sum of the digits must be divisible by 9.
  have h4 : 9 ∣ 3 + 7 + 4 + n := by
    -- This follows from 9 ∣ 374 * 10 + n, since 374 * 10 + n = 3740 + n
    -- and 3740 is divisible by 9 (3+7+4+0 = 14, and 14 is not divisible by 9,
    -- so this must mean n itself is divisible by 9)
    have h4 : 9 ∣ 374 * 10 + n := h3
    have h5 : 9 ∣ 3740 := by
      norm_num
    have h6 : 9 ∣ (3740 + n) := by
      exact Nat.dvd_add h5 h4
    have h7 : 9 ∣ (3 + 7 + 4 + n) := by
      have : 3740 + n = 3 + 7 + 4 + n := by
        omega
      rw [this] at h6
      exact h6
    exact h7

  -- 3. Since n is a digit (0-9), and 9 ∣ 3 + 7 + 4 + n = 14 + n, we need to find n such that 14 + n is divisible by 9.
  -- Checking values 0 through 9, only n = 4 satisfies this.
  have h5 : n = 4 := by
    omega

  -- 4. Divisibility by 2: The last digit must be even.
  -- Since n = 4, and 4 is even, this is satisfied.
  exact h5
```