have : 374 * 10 + n = 3740 + n := by omega
  rw [this]

  -- The four-digit number $374n$ is divisible by 18 $\implies$ $3740+n$ is divisible by 18 $\implies$ $3740+n$ is even and divisible by 9.

  -- $3740$ is even, so for $3740+n$ to be even, $n$ must be even.

  -- The sum of the digits of $3740+n$ is $3+7+4+0+n=14+n$, which must be divisible by $9$, but $14+n$ can't be $18$ since $n$ is a digit, so $14+n=9$, and hence $n=4$.

  omega
```