-- We find that $374 \cdot 10 + n \leq 9999$ since $n \leq 9$. This follows from the fact that $\underline{374n}$ is a 4-digit number.
  have h₂ : 374 * 10 + n ≤ 9999 := by
    suffices 374 * 10 + n ≤ 9999 by exact this
    omega

  -- We have that $3740 + n$ is divisible by 18 since $18 \mid \underline{374n}$.
  have h₃ : 18 ∣ 374 * 10 + n := by
    exact h₁

  -- We know that $18 \mid 3740$, therefore $18 \mid n$.
  have h₄ : 18 ∣ n := by
    have h₄ : 18 ∣ 374 * 10 := by norm_num
    exact (Nat.dvd_add_iff_right h₄).mp h₃

  -- Since $n \leq 9$, the only number greater than or equal to $18$ that divides $n$ is $18$ itself.
  have h₅ : n = 18 ∨ n = 0 := by
    have h₅ : n = 18 ∨ n = 0 := by
      apply (Nat.dvd_prime Nat.prime_two).mp
      apply (Nat.dvd_prime Nat.prime_three).mp
      have h₅ : 18 = 2 * 3 * 3 := by norm_num
      rw [h₅]
      apply Nat.dvd_mul_left
      exact h₄
    exact h₅
  have h₆ : n = 18 ∨ n = 0 := by exact h₅

  -- We conclude that $n = 18 \cdot 0 = 0$ or $n = 18 \cdot 1 = 18$. However, since $n \leq 9$, we must have $n = 0$.
  rcases h₆ with h₆ | h₆
  · omega
  · omega
```