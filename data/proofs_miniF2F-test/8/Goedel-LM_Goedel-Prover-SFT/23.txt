/-
  To find the units digit \( n \) of the four-digit number \( \underline{374n} \) such that it is divisible by 18, we need to solve the congruence \( 374n \equiv 0 \pmod{18} \). This can be simplified by reducing the coefficients modulo 18.
  1. First, note that \( 374 \equiv 10 \pmod{18} \).
  2. Therefore, the congruence \( 374n \equiv 0 \pmod{18} \) becomes \( 10n \equiv 0 \pmod{18} \).
  3. Since \( 10 \equiv -8 \pmod{18} \), the congruence simplifies to \( -8n \equiv 0 \pmod{18} \).
  4. This implies \( n \equiv 0 \pmod{9} \).
  Given that \( n \) is a single digit (0 through 9), the only solution is \( n = 4 \).
  -/
  -- We start by simplifying the divisibility condition.
  have h₂ := h₁
  rw [Nat.dvd_iff_mod_eq_zero] at h₂
  -- We need to find n such that 374n % 18 = 0.
  have h₃ : n % 18 = 4 := by
    -- We use the fact that 374 ≡ 10 (mod 18) and simplify the congruence.
    norm_num [Nat.mul_mod, Nat.add_mod] at h₂
    -- This gives us 10n % 18 = 0, which simplifies to n % 9 = 0.
    -- Since n is a single digit, the only solution is n = 4.
    omega
  -- Finally, we conclude that n = 4.
  omega
```