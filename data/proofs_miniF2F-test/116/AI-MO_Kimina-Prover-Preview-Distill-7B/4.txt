-- The value of $\frac{(n+2)!-(n+1)!}{n!}$ is equal to $(n+1)^2$.

  have : (n + 2)! = (n + 1) * (n + 1)! := by rw [Nat.factorial_succ]
  rw [this]
  have : (n + 1)! = (n + 1) * n! := by rw [Nat.factorial_succ]
  rw [this]
  have : ((n + 1) * (n + 1) - (n + 1)) * n! = (n + 1) * n! * n := by ring
  rw [this]
  have : n! * n = (n * n!) := by ring
  rw [this]
  have : (n + 1) * (n * n!) / n! = (n + 1) * n := by field_simp
  rw [this]

  -- Then, it is a perfect square if and only if $n+1$ is a perfect square.

  use (n + 1)
  rw [Nat.cast_mul]
  simp

```