-- The key insight is to *not* compute $f(1)$ first. There's no need to compute
  -- $f(f(x))$ by first calculating $f(x)$ and then substituting $x = 1$.
  -- We can simplify $f(f(x))$ as follows:
  have h : ∀ (x) (_ : x ≠ -2), f (f x) = 3 / 7 := by
    intro x hx
    -- We have $f(x) = \dfrac{1}{x + 2}.$
    rw [h₀ x hx]
    -- And $f(f(x)) = f\left(\dfrac{1}{x + 2}\right) = \dfrac{1}{\dfrac{1}{x + 2} + 2}.$
    rw [h₀ (1 / (x + 2)) (by
      -- The denominator can never be zero, since we can show that $x \neq -2$ implies
      -- $1 / (x + 2) \neq -2.$
      intro h
      rw [h] at hx
      norm_num at hx
    )]
    -- After simplifying the above expression, we get $f(f(x)) = \dfrac{3}{7}.$
    field_simp
    ring
  -- Now, the answer is obvious: $f(f(1)) = \dfrac{3}{7}.$
  exact h 1 (by norm_num)
```