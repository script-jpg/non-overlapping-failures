-- we prove that $a/\sqrt{a+b} + b/\sqrt{b+c} + c/\sqrt{c+a} \geq 3 / \sqrt{2}$

  -- set up the theorem statement
  have h₀' : 0 < a := h₀.1
  have h₁' : 0 < b := h₀.2.1
  have h₂' : 0 < c := h₀.2.2
  have h₃' : 0 < a + b := by linarith
  have h₄' : 0 < b + c := by linarith
  have h₅' : 0 < c + a := by linarith
  have h₆' : 0 < a * b + b * c + c * a := by linarith

  -- we have $a / \sqrt{a+b} \geq \sqrt{2a/3}$
  have h₁'' : a / Real.sqrt (a + b) ≥ Real.sqrt (2 * a / 3) := by
    calc
      _ = (a * (a + b)) / ((a + b) * Real.sqrt (a + b)) := by
        field_simp
        ring
      _ = (a * (a + b)) / Real.sqrt ((a + b) ^ 2) := by
        congr
        rw [Real.sqrt_sq (by linarith)]
      _ = (a * (a + b)) / ((a + b) * (a + b) / 3 + (a * b + b * c + c * a) / 3) := by
        ring_nf
      _ ≥ (a * (a + b)) / ((a + b) * (a + b) / 3 + (a * b + b * c + c * a) / 3 + (a * b + b * c + c * a) / 3) := by
        apply div_le_div_of_nonneg_left (by linarith) (by linarith) (by positivity)
      _ = (a * (a + b)) / ((a + b) * (a + b) / 3 + 2 * (a * b + b * c + c * a) / 3) := by
        ring
      _ = √(2 * a / 3) := by
        field_simp
        ring_nf
        rw [Real.sqrt_sq (by positivity)]
        ring_nf
        field_simp
        ring

  -- we have $b / \sqrt{b+c} \geq \sqrt{2b/3}$
  have h₂'' : b / Real.sqrt (b + c) ≥ Real.sqrt (2 * b / 3) := by
    calc
      _ = (b * (b + c)) / ((b + c) * Real.sqrt (b + c)) := by
        field_simp
        ring
      _ = (b * (b + c)) / Real.sqrt ((b + c) ^ 2) := by
        rw [Real.sqrt_sq (by linarith)]
      _ = (b * (b + c)) / ((b + c) * (b + c) / 3 + (a * b + b * c + c * a) / 3) := by
        ring_nf
      _ ≥ (b * (b + c)) / ((b + c) * (b + c) / 3 + (a * b + b * c + c * a) / 3 + (a * b + b * c + c * a) / 3) := by
        apply div_le_div_of_nonneg_left (by linarith) (by linarith) (by positivity)
      _ = (b * (b + c)) / ((b + c) * (b + c) / 3 + 2 * (a * b + b * c + c * a) / 3) := by
        ring
      _ = √(2 * b / 3) := by
        field_simp
        ring_nf
        rw [Real.sqrt_sq (by positivity)]
        ring_nf
        field_simp
        ring

  -- we have $c / \sqrt{c+a} \geq \sqrt{2c/3}$
  have h₃'' : c / Real.sqrt (c + a) ≥ Real.sqrt (2 * c / 3) := by
    calc
      _ = (c * (c + a)) / ((c + a) * Real.sqrt (c + a)) := by
        field_simp
        ring
      _ = (c * (c + a)) / Real.sqrt ((c + a) ^ 2) := by
        rw [Real.sqrt_sq (by linarith)]
      _ = (c * (c + a)) / ((c + a) * (c + a) / 3 + (a * b + b * c + c * a) / 3) := by
        ring_nf
      _ ≥ (c * (c + a)) / ((c + a) * (c + a) / 3 + (a * b + b * c + c * a) / 3 + (a * b + b * c + c * a) / 3) := by
        apply div_le_div_of_nonneg_left (by linarith) (by linarith) (by positivity)
      _ = (c * (c + a)) / ((c + a) * (c + a) / 3 + 2 * (a * b + b * c + c * a) / 3) := by
        ring
      _ = √(2 * c / 3) := by
        field_simp
        ring_nf
        rw [Real.sqrt_sq (by positivity)]
        ring_nf
        field_simp
        ring

  -- we show that $\sqrt{2a/3} + \sqrt{2b/3} + \sqrt{2c/3} \geq 3 / \sqrt{2}$
  have h₄ : Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3) ≥ 3 / Real.sqrt 2 := by

    -- $\sqrt{2a/3} + \sqrt{2b/3} + \sqrt{2c/3} \geq 3 \sqrt[3]{\sqrt{2a/3} \sqrt{2b/3} \sqrt{2c/3}} = 3 \sqrt[3]{\sqrt{2a/3 \cdot 2b/3 \cdot 2c/3}}$
    have h₄'' : Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3) ≥ 3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (1 / 3 : ℝ) := by
      have h₄'''' : (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) ^ 3 ≥ (3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (1 / 3 : ℝ)) ^ 3 := by
        calc
          _ = Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3 + 3 * (Real.sqrt (2 * a / 3) ^ 2 * Real.sqrt (2 * b / 3) + Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) ^ 2 + Real.sqrt (2 * a / 3) ^ 2 * Real.sqrt (2 * c / 3) + Real.sqrt (2 * a / 3) * Real.sqrt (2 * c / 3) ^ 2 + Real.sqrt (2 * b / 3) ^ 2 * Real.sqrt (2 * c / 3) + Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3) ^ 2) := by
            ring
          _ ≥ Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3 + 3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) := by
            apply add_le_add
            apply add_le_add
            rw [Real.sq_sqrt (by positivity)]
            rw [Real.sq_sqrt (by positivity)]
            rw [Real.sq_sqrt (by positivity)]
            apply mul_le_mul_of_nonneg_left
            apply Real.rpow_le_rpow
            repeat linarith
            positivity
            apply mul_le_mul_of_nonneg_left
            apply Real.rpow_le_rpow
            repeat linarith
            positivity
            apply mul_le_mul_of_nonneg_left
            apply Real.rpow_le_rpow
            repeat linarith
            positivity
          _ = 3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) := by
            ring
          _ ≤ (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 + 2 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
            apply sub_nonneg
            calc
              _ = Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3 + 3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 - (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 - 2 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
                ring
              _ = 3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 - 2 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
                linarith
              _ = 0 := by
                ring
          _ = (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 + (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
            linarith
          _ = (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 + (Real.sqrt (2 * a / 3) ^ (1 : ℝ) * Real.sqrt (2 * b / 3) ^ (1 : ℝ) * Real.sqrt (2 * c / 3) ^ (1 : ℝ)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
            rw [Real.mul_rpow (by positivity) (by positivity), Real.mul_rpow (by positivity) (by positivity)]
            congr 2
            rw [Real.mul_rpow (by positivity) (by positivity)]
            rw [← Real.rpow_add (by positivity), ← Real.rpow_add (by positivity)]
            norm_num
          _ = (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 + (Real.sqrt (2 * a / 3) ^ (1 : ℝ) * Real.sqrt (2 * b / 3) ^ (1 : ℝ) * Real.sqrt (2 * c / 3) ^ (1 : ℝ)) ^ (2 / 3 : ℝ) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
            norm_cast
          _ = (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 + (Real.sqrt (2 * a / 3) ^ (1 : ℝ) * Real.sqrt (2 * b / 3) ^ (1 : ℝ) * Real.sqrt (2 * c / 3) ^ (1 : ℝ)) ^ ((2 : ℝ) / 3) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
            rw [Real.rpow_natCast, Real.rpow_mul]
            norm_num
            all_goals positivity
          _ = (Real.sqrt (2 * a / 3) ^ 3 + Real.sqrt (2 * b / 3) ^ 3 + Real.sqrt (2 * c / 3) ^ 3) / 3 + (Real.sqrt (2 * a / 3) ^ (1 : ℝ) * Real.sqrt (2 * b / 3) ^ (1 : ℝ) * Real.sqrt (2 * c / 3) ^ (1 : ℝ)) ^ ((2 : ℝ) / 3) * (Real.sqrt (2 * a / 3) + Real.sqrt (2 * b / 3) + Real.sqrt (2 * c / 3)) / 3 := by
            norm_cast
          _ = _ := by
            rw [mul_add, mul_add, mul_assoc, Real.mul_rpow (by positivity) (by positivity), ← Real.rpow_add (by positivity), ← Real.rpow_add (by positivity), ← Real.rpow_add (by positivity)]
            norm_num
    have h₄''''' : (3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (1 / 3 : ℝ)) ^ 3 ≥ (3 / Real.sqrt 2) ^ 3 := by
      calc
        _ = 3 ^ 3 * ((Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) ^ (1 / 3 : ℝ)) ^ 3 := by
          ring
        _ = 3 ^ 3 * (Real.sqrt (2 * a / 3) * Real.sqrt (2 * b / 3) * Real.sqrt (2 * c / 3)) := by
          rw [← Real.rpow_natCast, ← Real.rpow_mul]
          norm_num
          all_goals positivity
        _ ≥ 3 ^ 3 * (1 / 4) := by
          apply mul_le_mul_of_nonneg_left
          apply Real.rpow_le_rpow
          repeat positivity
          norm_num
          all_goals positivity
        _ = (3 / Real.sqrt 2) ^ 3 := by
          field_simp
          ring_nf
    apply (pow_le_pow_iff_left₀ (by positivity) (by positivity) (by norm_num)).mp at h₄'''''
    apply (pow_le_pow_iff_left₀ (by positivity) (by positivity) (by norm_num)).mp at h₄''
    linarith

  -- we get the desired inequality
  calc
    _ = a / Real.sqrt (a + b) + b / Real.sqrt (b + c) + c / Real.sqrt (c + a) := by
      ring
    _ ≥