-- The rule for divisibility by 11 states that a number is divisible by 11 if the alternating sum of its digits is divisible by 11.
  have h1 : ∀ n : ℕ, 11 ∣ 20 * 100 + 10 * n + 7 ↔ (2 - 0 + n - 7) % 11 = 0 := by
    intro n
    have h11 : 20 * 100 + 10 * n + 7 = 2000 + 10 * n + 7 := by
      rw [Nat.mul_add, Nat.mul_comm, Nat.mul_add, Nat.add_assoc]
      simp only [Nat.reduceMul, Nat.reduceAdd]
    rw [h11]
    have h21 : 2000 + 10 * n + 7 = 10 * (200 + n) + 7 := by
      rw [Nat.add_assoc, Nat.add_assoc]
      rw [← Nat.add_mul]
      simp only [Nat.reduceAdd]
    rw [h21]
    have h31 : 10 * (200 + n) + 7 = (200 + n) * 9 + (200 + n) + 7 := by
      rw [Nat.add_mul, Nat.add_assoc]
      simp only [Nat.reduceAdd]
    rw [h31]
    have h41 : (200 + n) * 9 + (200 + n) + 7 = (200 + n) * 9 + 10 * n + 7 := by
      rw [Nat.add_assoc, Nat.add_assoc, Nat.add_comm]
      simp only [Nat.reduceAdd]
    rw [h41]
    have h51 : (200 + n) * 9 + 10 * n + 7 = (200 + n) * 11 - (200 + n) * 2 + 10 * n + 7 := by
      rw [Nat.mul_add, Nat.mul_sub, Nat.mul_comm]
      simp only [Nat.reduceMul, Nat.reduceSub, Nat.reduceAdd]
    rw [h51]
    have h61 : (200 + n) * 11 - (200 + n) * 2 + 10 * n + 7 = (200 + n) * 11 + (- (200 + n) * 2 + 10 * n + 7) := by
      rw [Nat.add_sub]
    rw [h61]
    have h71 : (- (200 + n) * 2 + 10 * n + 7) = (2 - 0 + n - 7) := by
      rw [Nat.sub_eq_iff_eq_add]
      simp only [Nat.reduceSub]
      ring
    rw [h71]
    have h81 : 11 ∣ (200 + n) * 11 := by
      apply Nat.dvd_mul_right
    have h91 : 11 ∣ 200 + n + (2 - 0 + n - 7) ↔ 11 ∣ 200 + n + (2 - 0 + (n - 7)) := by
      simp only [Nat.reduceSub]
      rw [← Nat.sub_add_comm]
      ring
    have h101 : 11 ∣ 200 + n + (2 - 0 + (n - 7)) ↔ 11 ∣ (2 - 0 + (n - 7)) := by
      exact Nat.dvd_add_iff_right h81
    rw [h91, h101]
  -- Now the goal is to show that if n ≤ 9 and 11 divides 2000 + 10 * n + 7, then n = 5.
  have h2 : 2 - 0 + n - 7 % 11 = 0 ↔ n = 5 := by
    -- Because n ≤ 9, we can check each possible value of n.
    constructor
    · intro h21
      omega
    intro h21
    omega
  have h3 : 2 - 0 + n - 7 % 11 = (2 - 0 + n - 7) % 11 := by
    exact Nat.mod_eq_of_mod_eq_add (2 - 0 + n - 7) 11
  rw [h1, h3, h2]
  omega
```