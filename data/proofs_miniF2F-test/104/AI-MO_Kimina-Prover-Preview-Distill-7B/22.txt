have pge3 : p ≥ 3 := by
    exact Nat.Prime.two_le h₀

  have pge4 : p ≥ 4 := by
    exact Nat.le_of_pred_lt h₁

  have pge5 : p ≥ 5 := by
    exact Nat.le_of_pred_lt h₁

  have pge6 : p ≥ 6 := by
    exact Nat.le_of_pred_lt h₁

  have pge7 : p ≥ 7 := by
    exact h₁

  have mul_inv_mod (a : ZMod p) (b : ZMod p) : (a * b)⁻¹ = a⁻¹ * b⁻¹ := by
    rw [show (a * b)⁻¹ = (a⁻¹ * b⁻¹)⁻¹⁻¹ by rw [ZMod.inv_mul]]
    rw [ZMod.inv_inv]

  have add_inv_mod (a : ZMod p) (b : ZMod p) : a⁻¹ + b⁻¹ = (a * b)⁻¹ * (a⁻¹ + b⁻¹) := by
    rw [mul_inv_mod]
    ring

  have add_inv_mod' (a : ZMod p) (b : ZMod p) : a⁻¹ + b⁻¹ = (a + b)⁻¹ * (a⁻¹ + b⁻¹) := by
    rw [mul_inv_mod]
    ring

  -- the sum is from 1⁻¹ * 2⁻¹ to (p-2)⁻¹ * (p-1)⁻¹
  -- we add 1 at the denominator of each term
  -- the sum is from 1⁻¹ * 3⁻¹ to (p-2)⁻¹ * (p)⁻¹
  -- the sum is from 1 * 3 to (p-2) * p
  -- this is a multiplication of two consecutive numbers
  -- the multiplication is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- define a lemma
  -- if x ≠ 0, x + 1 ≠ 0, then 1/x + 1/(x+1) = 1/x/(x+1) * (1/x + 1/(x+1))
  -- the lemma is add_inv_mod'
  -- we can use add_inv_mod' to prove the equality of two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- the two sets are the same
  -- the two sums have the same value

  have sum_eq : ∑ x ∈ Finset.Icc 1 (p - 2), (x : ZMod p)⁻¹ * ((x : ZMod p) + 1)⁻¹ = ∑ x ∈ Finset.Icc 2 (p - 1), (x : ZMod p)⁻¹ * ((x : ZMod p) + 1)⁻¹ := by
    apply Finset.sum_bij (fun x ↦ x + 1)
    · intro x hx
      simp at hx ⊢
      omega
    · intro x hx
      simp at hx ⊢
      omega
    · intro x hx
      simp at hx ⊢
      omega
    · simp

  -- we relate the two sums by adding 1 at the denominator of each term
  -- we add 1 at the denominator of each term
  -- we add 1 at the numerator of each term
  -- we add 1 at the denominator of each term

  -- add 1 at the denominator of each term
  -- we add 1 at the denominator of each term
  -- we add 1 at the numerator of each term
  -- we add 1 at the denominator of each term
  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod' to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod' to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  have sum_eq' : ∑ x ∈ Finset.Icc 1 (p - 2), (x : ZMod p)⁻¹ * ((x : ZMod p) + 1)⁻¹ = ∑ x ∈ Finset.Icc 1 (p - 2), (x * (x + 1))⁻¹ := by
    apply Finset.sum_congr rfl
    intro x hx
    simp at hx ⊢
    rw [mul_inv_mod]

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  have sum_eq'' : ∑ x ∈ Finset.Icc 1 (p - 2), (x * (x + 1))⁻¹ = ∑ x ∈ Finset.Icc 2 (p - 1), (x * (x + 1))⁻¹ := by
    apply Finset.sum_congr rfl
    intro x hx
    simp at hx ⊢
    omega

  -- the sum is from 2 * 3 to (p-1) * p
  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 2 * 3 to (p-1) * p
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 2 * 3 to (p-1) * p
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod' to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod' to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod' to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2, the last term is p-1
  -- we can use add_inv_mod' to prove the equality of the two sums
  -- the two sums have the same value

  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we want to relate the two sums

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- the sum is from 1 to p-2
  -- the sum is from 2 to p-1
  -- the two sets are the same
  -- the two sums have the same value

  -- the sum is from 1 * 2 to (p-2) * (p-1)
  -- we can use add_inv_mod to prove the equality of the two sums
  -- the two sums have the same value

  -- use add_inv_mod to prove the equality of the two sums
  -- the two sums are over the set Icc 1 (p-2), the first term is 1, the last term is p-2
  -- the second sums is over the set Icc 2 (p-1), the first term is 2,