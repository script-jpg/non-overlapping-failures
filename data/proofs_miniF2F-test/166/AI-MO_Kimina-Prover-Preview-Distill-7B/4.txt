-- define a sequence of real numbers $b_i = e^{a_i - 1}$.
  let b : ℕ → ℝ := fun i => (exp (a i - 1))

  -- show that $\sum_{i=1}^n b_i = \sum_{i=1}^n a_i = n$.
  have hb : (∑ x in Finset.range n, b x) = n := by
    simp [b]
    apply Finset.sum_congr rfl
    intro x hx
    exact exp_ofReal (a x) = a x

  -- show that $\prod_{i=1}^n b_i = \prod_{i=1}^n a_i$.
  have hprod : (∏ x in Finset.range n, b x) = (∏ x in Finset.range n, a x) := by
    simp [b]
    apply Finset.prod_congr rfl
    intro x hx
    exact exp_ofReal (a x) = a x

  -- show that $0 \leq b_i$.
  have h_b_nonneg : ∀ i : ℕ, 0 ≤ b i := by
    intro i
    simp [b]
    apply exp_nonneg

  -- show that $b_i \leq 1$.
  have h_b_le_1 : ∀ i : ℕ, b i ≤ 1 := by
    intro i
    simp [b]
    apply exp_le_one_of_nonpos
    exact sub_nonpos_of_le (le_of_lt (a i))

  -- show that $\sum_{i=1}^n b_i \leq n$.
  have hsum : (∑ x in Finset.range n, b x) ≤ (n : ℝ) := by
    apply Finset.sum_le_sum
    simp
    exact h_b_le_1

  -- show that $\prod_{i=1}^n b_i \leq 1$.
  have hprod_b : (∏ x in Finset.range n, b x) ≤ 1 := by
    apply Finset.prod_le_one
    simp
    exact h_b_nonneg

  -- show that $\prod_{i=1}^n a_i \leq 1$.
  linarith
```