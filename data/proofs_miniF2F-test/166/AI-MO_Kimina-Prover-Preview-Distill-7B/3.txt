-- define a sequence of real numbers $a_i = \frac{1}{n}$ for all $i$
  set b := fun x => (1 : NNReal) / n with hb
  -- show that $\sum_{i=1}^n a_i = \sum_{i=1}^n b_i$
  have h₀' : (∑ x in Finset.range n, a x) = (∑ x in Finset.range n, b x) := by
    ext i
    rw [Finset.mem_range] at ← hi
    apply h₀
    repeat rw [hb]
    apply NNReal.le_one
    norm_num

  -- show that $\prod_{i=1}^n a_i = \prod_{i=1}^n b_i$
  have h₁' : (∏ x in Finset.range n, a x) = (∏ x in Finset.range n, b x) := by
    apply Finset.prod_congr rfl
    intro x hx
    rw [hb]
    apply NNReal.le_one
    norm_num

  -- show that $\prod_{i=1}^n b_i = 1
  have h₂' : (∏ x in Finset.range n, b x) = 1 := by
    rw [Finset.prod_const, Finset.card_range]
    simp [hb]
    norm_num

  -- show that $\prod_{i=1}^n a_i \leq \prod_{i=1}^n b_i$ via AM-GM inequality
  have h₃' : (∏ x in Finset.range n, a x) ≤ (∏ x in Finset.range n, b x) := by
    -- show that $a_i \leq b_i$ for all $i$
    apply Finset.prod_le_prod
    intro i hi
    rw [Finset.mem_range] at hi
    apply le_div_iff₀ (by norm_num).2
    apply h₀
    repeat rw [hb]
    repeat apply NNReal.le_one
    norm_num

  linarith [h₀', h₁', h₂', h₃']
```