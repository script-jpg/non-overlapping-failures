/-
  We need to show that for a sequence of nonnegative real numbers \(a_1, a_2, \ldots, a_n\) such that \(\sum_{i=1}^n a_i = n\), the product \(\prod_{i=1}^n a_i \leq 1\).
  1. **Base Case**: When \(n = 0\), the product is over an empty set, so the product is \(1\). Clearly, \(1 \leq 1\).
  2. **Inductive Step**: Assume the statement holds for \(n\). We need to show it holds for \(n+1\).
     - Consider the sum \(\sum_{i=1}^{n+1} a_i = \sum_{i=1}^n a_i + a_{n+1}\).
     - By the inductive hypothesis, \(\prod_{i=1}^n a_i \leq 1\).
     - Since \(a_{n+1}\) is nonnegative, we can use the fact that \(\prod_{i=1}^{n+1} a_i = \prod_{i=1}^n a_i \cdot a_{n+1}\).
     - Given \(\sum_{i=1}^n a_i = n\), we have \(\prod_{i=1}^n a_i \leq 1\).
     - Therefore, \(\prod_{i=1}^{n+1} a_i = \prod_{i=1}^n a_i \cdot a_{n+1} \leq 1 \cdot a_{n+1} = a_{n+1}\).
     - Since \(a_{n+1}\) is nonnegative and \(\sum_{i=1}^{n+1} a_i = n + a_{n+1}\), we have \(a_{n+1} \leq 1\).
  Thus, by induction, the product \(\prod_{i=1}^n a_i \leq 1\) for all \(n\).
  -/
  induction n with
  | zero =>
    -- Base case: When n = 0, the product is over an empty set, so the product is 1.
    simp
  | succ n ih =>
    -- Inductive step: Assume the statement holds for n, we need to show it holds for n+1.
    simp_all [Finset.prod_range_succ, Nat.succ_eq_add_one]
    -- Simplify the product expression using the inductive hypothesis.
    all_goals
      nlinarith [sq_nonneg (a n)]
```