/-
  Given a sequence of nonnegative real numbers \(a_1, a_2, \ldots, a_n\) such that \(\sum_{i=1}^n a_i = n\), we need to show that \(\prod_{i=1}^n a_i \leq 1\).
  1. **Base Case (n = 0):**
     - When \(n = 0\), the sum \(\sum_{i=1}^0 a_i = 0\), which is trivially true.
     - The product \(\prod_{i=1}^0 a_i\) is defined to be 1.
     - Therefore, \(\prod_{i=1}^0 a_i \leq 1\) holds trivially.
  2. **Inductive Step:**
     - Assume the statement holds for some \(n\).
     - For \(n + 1\), consider the sum \(\sum_{i=1}^{n+1} a_i = \sum_{i=1}^n a_i + a_{n+1}\).
     - By the inductive hypothesis, \(\prod_{i=1}^n a_i \leq 1\).
     - Using the fact that \(a_{n+1}\) is nonnegative, we can apply the AM-GM inequality:
       \[
       \prod_{i=1}^{n+1} a_i = \prod_{i=1}^n a_i \cdot a_{n+1} \leq 1 \cdot a_{n+1} = a_{n+1}
       \]
     - Since \(a_{n+1}\) is nonnegative, \(a_{n+1} \leq 1\).
     - Therefore, \(\prod_{i=1}^{n+1} a_i \leq 1\).
  By induction, the statement holds for all \(n\).
  -/
  induction' n with n ih
  · -- Base case: n = 0
    simp_all [Finset.prod_range_zero]  -- Simplifies the product over an empty range to 1
  · -- Inductive step: assume the statement holds for n, prove for n + 1
    simp_all [Finset.prod_range_succ, Nat.succ_eq_add_one]  -- Simplifies the product expression
    have h₁ : 0 ≤ a n := NNReal.coe_nonneg (a n)  -- a_n is nonnegative
    have h₂ : ∏ x in Finset.range n, a x ≤ 1 := ih  -- inductive hypothesis
    have h₃ : (∑ x in Finset.range n, a x) = n := h₀  -- sum condition
    have h₄ : (∏ x in Finset.range n, a x) ≤ 1 := by
      -- Using AM-GM inequality to show the product is bounded by 1
      calc
        (∏ x in Finset.range n, a x) ≤ 1 := by
          -- By AM-GM inequality, product is less than or equal to the arithmetic mean of the sequence
          simp_all [Finset.prod_range_succ, Nat.succ_eq_add_one]
          -- Since the sum is n, the arithmetic mean is 1
          <;> linarith
        _ ≤ 1 := by simp_all
    exact h₄
```