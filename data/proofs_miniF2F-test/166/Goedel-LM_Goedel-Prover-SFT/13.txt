/-
  For a sequence of nonnegative real numbers \(a_1, a_2, \ldots, a_n\) such that \(\sum_{i=1}^n a_i = n\), we need to show that \(\prod_{i=1}^n a_i \leq 1\).
  1. **Base Case (n = 0):**
     - The sum of the sequence over an empty range is trivially zero, which does not match the given condition.
     - Therefore, this case is not applicable.
  2. **Inductive Step:**
     - Assume the statement holds for \(n\).
     - Consider the sequence for \(n + 1\).
     - The sum of the sequence for \(n + 1\) is the sum of the sequence for \(n\) plus \(a_{n+1}\).
     - By the inductive hypothesis, \(\prod_{i=1}^n a_i \leq 1\).
     - Using the AM-GM inequality, we have \(\prod_{i=1}^{n+1} a_i \leq \prod_{i=1}^n a_i \cdot a_{n+1}\).
     - Since \(\prod_{i=1}^n a_i \leq 1\), it follows that \(\prod_{i=1}^{n+1} a_i \leq a_{n+1}\).
     - Given \(\sum_{i=1}^{n+1} a_i = n + 1\), we know \(a_{n+1} \leq 1\) because the sum of the sequence is \(n + 1\).
     - Therefore, \(\prod_{i=1}^{n+1} a_i \leq 1\).
  Thus, by induction, the statement holds for all \(n\).
  -/
  induction n with
  | zero =>
    -- This case is not applicable since the sum is over an empty range, which is 0.
    simp_all [Finset.sum_range_zero]
  | succ n ih =>
    -- Inductive step: Assume the statement holds for n, prove for n + 1.
    cases n with
    | zero =>
      -- When n = 0, the sequence is empty, and the sum is 0.
      simp_all [Finset.sum_range_succ, Finset.prod_range_succ]
    | succ n =>
      -- Use the inductive hypothesis and the AM-GM inequality to prove the product.
      simp_all [Finset.sum_range_succ, Finset.prod_range_succ, Nat.succ_eq_add_one]
      -- Use non-linear arithmetic to complete the proof.
      nlinarith [sq_nonneg (a n)]
```