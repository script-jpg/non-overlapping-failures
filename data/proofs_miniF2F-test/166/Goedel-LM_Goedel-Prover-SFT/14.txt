/-
  Given a sequence of nonnegative real numbers \(a_1, a_2, \ldots, a_n\) such that \(\sum_{i=1}^n a_i = n\), we aim to show that \(\prod_{i=1}^n a_i \leq 1\). We proceed by induction on \(n\).
  **Base Case:**
  For \(n = 0\), the product is over an empty range, so the product is \(1\), which is trivially less than or equal to \(1\).
  **Inductive Step:**
  Assume the statement holds for \(n\). We need to show it holds for \(n + 1\). By the inductive hypothesis, we have \(\prod_{i=1}^n a_i \leq 1\). We need to show that \(\prod_{i=1}^{n+1} a_i \leq 1\).
  Since \(\prod_{i=1}^{n+1} a_i = \prod_{i=1}^n a_i \cdot a_{n+1}\), and by the inductive hypothesis \(\prod_{i=1}^n a_i \leq 1\), we have:
  \[
  \prod_{i=1}^{n+1} a_i \leq 1 \cdot a_{n+1} = a_{n+1}
  \]
  Given that \(a_{n+1}\) is nonnegative and \(\sum_{i=1}^n a_i = n\), we know that \(a_{n+1} \leq 1\) because the sum of the sequence is \(n\), and the product of the sequence up to \(n\) is at most \(1\).
  Thus, \(\prod_{i=1}^{n+1} a_i \leq 1\), completing the inductive step.
  By induction, the statement holds for all \(n\).
  -/
  induction n with
  | zero =>
    -- Base case: When n = 0, the product is over an empty range, so the product is 1.
    simp
  | succ n ih =>
    -- Inductive step: Assume the statement holds for n, we need to show it holds for n + 1.
    simp_all [Finset.prod_range_succ, Nat.cast_succ]
    -- Simplify the product expression and use the inductive hypothesis.
    nlinarith [sq_nonneg (a n)]
    -- Use the fact that the square of any real number is nonnegative to conclude the proof.
```