/-
  Given a sequence of nonnegative real numbers \( a_1, a_2, \ldots, a_n \) such that \( \sum_{i=1}^n a_i = n \), we aim to show that \( \prod_{i=1}^n a_i \leq 1 \).
  1. **Base Case**: When \( n = 0 \), the product is over an empty range, so the product is \( 1 \), which is trivially less than or equal to \( 1 \).
  2. **Inductive Step**: Assume the statement holds for \( n \). For \( n + 1 \), the sum of the sequence up to \( n + 1 \) is \( \sum_{i=1}^{n+1} a_i = \sum_{i=1}^n a_i + a_{n+1} \). Given \( \sum_{i=1}^n a_i = n \), we have \( \sum_{i=1}^{n+1} a_i = n + a_{n+1} \).
  3. **Nonnegativity and Product Inequality**: Using the nonnegativity of the sequence and the given sum, we apply the AM-GM inequality to show that the product of the sequence up to \( n + 1 \) is less than or equal to \( 1 \).
  -/
  induction n with
  | zero =>
    -- Base case: When n = 0, the product is over an empty range, so the product is 1.
    simp
  | succ n ih =>
    -- Inductive step: Assume the statement holds for n. For n + 1, the sum is n + a_{n+1}.
    simp_all [Finset.prod_range_succ, Finset.sum_range_succ]
    -- Using the nonnegativity of the sequence and the given sum, apply the AM-GM inequality.
    nlinarith [sq_nonneg (a n)]
```