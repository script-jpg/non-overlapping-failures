/-
  For a sequence of nonnegative real numbers \(a_1, a_2, \ldots, a_n\) such that \(\sum_{i=1}^n a_i = n\), we need to show that \(\prod_{i=1}^n a_i \leq 1\). The proof proceeds by induction on \(n\).
  **Base Case: \(n = 0\)**
  When \(n = 0\), the sum \(\sum_{i=1}^0 a_i\) is trivially zero, and the product \(\prod_{i=1}^0 a_i\) is also zero. Clearly, \(0 \leq 1\).
  **Inductive Step:**
  Assume the statement holds for \(n\), i.e., \(\prod_{i=1}^n a_i \leq 1\). We need to show it holds for \(n + 1\).
  Consider the sum \(\sum_{i=1}^{n+1} a_i\). This can be written as \(\sum_{i=1}^n a_i + a_{n+1}\). Given that \(\sum_{i=1}^n a_i = n\), we have \(\sum_{i=1}^{n+1} a_i = n + a_{n+1}\). By the inductive hypothesis, \(\prod_{i=1}^n a_i \leq 1\). We need to show that \(\prod_{i=1}^{n+1} a_i \leq 1\).
  Using the fact that \(a_{n+1}\) is nonnegative and \(\sum_{i=1}^{n+1} a_i = n + a_{n+1}\), we can use the AM-GM inequality to show that \(\prod_{i=1}^{n+1} a_i \leq 1\).
  -/
  induction n with
  | zero =>
    -- Base case: when n = 0, the sum is 0 and the product is also 0, which is trivially ≤ 1.
    simp_all
  | succ n ih =>
    -- Inductive step: assume the statement holds for n, i.e., ∏ x in Finset.range n, a x ≤ 1.
    -- We need to show it holds for n + 1.
    simp_all [Finset.prod_range_succ, Finset.sum_range_succ, Nat.cast_succ]
    -- Simplify the expressions involving products and sums.
    all_goals nlinarith [sq_nonneg (a n)]
    -- Use the fact that the square of any real number is nonnegative to conclude the proof.
```