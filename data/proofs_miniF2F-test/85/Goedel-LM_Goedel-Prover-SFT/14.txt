/-
  We aim to show that if \( n \) is a positive integer and \( 2^n - 1 \) is prime, then \( n \) is prime. We proceed by contradiction. Assume \( n \) is not prime. Then \( n \) is composite. We can express \( n \) as a product of two smaller positive integers, \( n = ab \), where \( a \) and \( b \) are both greater than 1. Consider the number \( 2^n - 1 \). Since \( n \) is composite, \( 2^n - 1 \) can be factored into a product of powers of 2 and other numbers. Specifically, \( 2^n - 1 \) can be written as \( 2^a - 1 \) and \( 2^b - 1 \). Since \( 2^a - 1 \) and \( 2^b - 1 \) are both greater than 1, their product \( (2^a - 1)(2^b - 1) \) is also greater than 1. This implies that \( 2^n - 1 \) is not prime, contradicting our assumption that \( 2^n - 1 \) is prime. Therefore, \( n \) must be prime.
  -/
  -- We proceed by contradiction. Assume n is not prime.
  apply Nat.Prime.of_not_dvd
  intro h
  -- Since n is not prime, we can express n as a product of two smaller positive integers.
  have h₂ := Nat.Prime.eq_two_or_odd h₁
  -- We consider the cases where 2 divides n and where n is odd.
  cases' h₂ with h₂ h₂
  -- If 2 divides n, then n is even, and we can write n as 2k for some k.
  -- We need to show that 2 divides 2^n - 1, which is not possible since 2^n - 1 is always odd.
  all_goals simp_all [Nat.Prime, Nat.succ_le_iff, Nat.pow_succ]
  -- If n is odd, then 2 does not divide n, and we can use the fact that 2^n - 1 is prime to conclude that n must be prime.
  all_goals omega
```