-- 2 ^ 1 - 1 = 1, which is not prime.
  have h1 : 1 < n := by

    by_contra! hc

    -- 2 ^ 1 - 1 = 1, which is not prime.
    have : 2 ^ n - 1 = 1 := by

      obtain rfl | rfl | rfl := Nat.lt_one_iff.mp hc

      · norm_num

      · norm_num

      · norm_num

    norm_num [this] at h₁

  -- 2 ^ n - 1 is odd, so n must be > 0.
  have h2 : Odd (2 ^ n - 1) := by

    obtain h2 | h2 | h2 : n = 0 ∨ n = 1 ∨ n > 1 := by omega

    · norm_num [h2] at h₀

    · norm_num [h2] at h₁

    · apply Nat.Odd.sub_odd' (by norm_num) (by norm_num); simp_all

  -- apply Nat.Prime.eq_iff.mp, we get 2 ^ n - 1 = 2 ^ p - 1
  -- and for any prime p, 2 ^ p - 1 is called Mersenne number.
  -- so n must be a prime.
  apply Nat.Prime.eq_iff.mp at h₁

  -- Mersenne prime is a prime.
  obtain rfl | rfl | h3 := h₁

  · norm_num at h3

  · norm_num at h3

  · exact h3

```