have h₂ : n ≠ 1 := by
    intro h
    rw [h] at h₁
    norm_num at h₁
  have h₃ : Nat.Prime n := by
    apply Nat.prime_def_lt'.mpr
    constructor
    · linarith
    · intro m hm₁ hm₂
      have h₄ : m ≤ n := by
        apply Nat.le_of_not_gt
        intro h₅
        have h₆ : 2 ^ m > 1 := by
          apply Nat.one_lt_pow
          · linarith
          · linarith
        have h₇ : 2 ^ n - 1 < 2 ^ m - 1 := by
          have h₈ : 2 ^ n ≤ 2 ^ m := by
            apply Nat.pow_le_pow_of_le_right
            · linarith
            · linarith
          omega
        have h₈ : 2 ^ m - 1 ≤ m := by
          have h₉ : 2 ^ m - 1 < 2 ^ m := by
            apply Nat.sub_lt
            · apply Nat.zero_lt_one.trans
              apply Nat.one_le_pow
              linarith
            · apply Nat.one_lt_pow
              linarith
              linarith
          omega
        omega
      have h₅ : m = 1 ∨ m = n := by
        apply or_iff_not_imp_left.mpr
        intro h₆
        apply Eq.symm
        apply Nat.le_antisymm
        · omega
        · omega
      cases h₅ with
      | inl h₆ =>
        simp_all
      | inr h₆ =>
        simp_all
  exact h₃