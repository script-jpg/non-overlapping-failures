have h₂ : n = 1 ∨ n.Prime := by
    by_contra! h
    have h₃ : n ≥ 2 := by
      by_contra h'
      have : n = 0 ∨ n = 1 := by omega
      cases this <;> simp_all [Nat.Prime]
      <;> omega
    have h₄ : 2 ^ n - 1 > 1 := by
      have : 2 ^ n ≥ 2 ^ 2 := by
        apply Nat.pow_le_pow_of_le_right
        norm_num
        omega
      omega
    have h₅ : 2 ^ n - 1 ≥ 3 := by
      have : 2 ^ n ≥ 2 ^ 2 := by
        apply Nat.pow_le_pow_of_le_right
        norm_num
        omega
      omega
    have h₆ : 2 ^ n - 1 > 1 := by omega
    have h₇ : 2 ^ n - 1 ≥ 3 := by omega
    have h₈ : (2 ^ n - 1).Prime := h₁
    have h₉ : (2 ^ n - 1) ≥ 3 := by omega
    have h₁₀ : (2 ^ n - 1) ≥ 2 := by omega
    have h₁₁ : Nat.Prime (2 ^ n - 1) := h₁
    have h₁₂ : Nat.Prime (2 ^ n - 1) := h₁
    have h₁₃ : 2 ^ n - 1 = (2 ^ n - 1) := rfl
    have h₁₄ : Nat.Prime (2 ^ n - 1) := h₁
    have h₁₅ : 2 ∣ 2 ^ n - 1 := by
      simpa [Nat.dvd_iff_mod_eq_zero, Nat.pow_mod] using nat_sub_dvd_pow_sub_pow _ 1 n
    have h₁₆ : 2 ^ n - 1 > 1 := by omega
    have h₁₇ : 2 ∣ 2 ^ n - 1 := h₁₅
    have h₁₈ : Nat.Prime (2 ^ n - 1) := h₁
    have h₁₉ : 2 ^ n - 1 = 2 * ((2 ^ n - 1) / 2) := by
      omega
    have h₂₀ : (2 ^ n - 1) / 2 < 2 ^ n - 1 := by
      apply Nat.div_lt_self
      omega
      omega
    have h₂₁ : Nat.Prime (2 ^ n - 1) := h₁
    have h₂₂ : (2 ^ n - 1) / 2 ≥ 1 := by
      apply Nat.div_pos
      omega
      omega
    nlinarith [h₁₈.eq_one_or_self_of_dvd 2 h₁₇]
  
  cases h₂ with
  | inl h₂ => simp_all
  | inr h₂ => assumption
  <;> omega