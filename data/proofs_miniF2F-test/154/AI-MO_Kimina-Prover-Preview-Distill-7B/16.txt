-- the sum of non-negative terms is non-negative
  have h : (x - 7) ^ 2 ≥ 0 := by positivity

  -- the equality holds when x = 7
  have h' : (x - 7) ^ 2 = 0 ↔ x = 7 := by
    constructor <;> intro h
   . have : x - 7 = 0 := by exact pow_eq_zero h
      linarith
   . rw [h]; simp

  -- linarith
  linarith [sq_nonneg (x - 7)]
```