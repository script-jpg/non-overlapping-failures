-- we prove that $f(n) = n$ for all $n > 0$ by induction
  intro n hn
  induction n, hn using Nat.le_induction with
  -- the base case $n = 0$ is trivial
  | base =>
    linarith
  -- in the induction step, we have a hypothesis $n < n_0$
  | succ n hn hnp =>
    -- we have a hypothesis $f(n) < n_0$
    have hfn : f n < n := by
      specialize h₁ (f n) (by linarith [h₀ n])
      rw [Function.comp_apply] at h₁
      exact h₁
    -- we have a hypothesis $f(f(n)) < n_0$
    have hffn : f (f n) < n := by
      specialize h₁ (f (f n)) (by linarith [h₀ (f n)])
      rw [Function.comp_apply, Function.comp_apply] at h₁
      exact h₁
    -- we have a hypothesis $f(n+1) < n_0$
    have hfnp1 : f (n + 1) < n := by
      specialize h₁ (n + 1) (by linarith)
      rw [Function.comp_apply] at h₁
      exact h₁

    -- we prove that $f(n) = n$ by contradiction
    by_contra h
    rw [ne_iff_lt_or_gt] at h
    rcases h with h | h
    · -- if $f(n) < n$
      have : f n < f (f n) := by
        rw [h₀]
        exact hffn
      specialize h₁ (f n) (by linarith [h₀ n])
      rw [Function.comp_apply, Function.comp_apply] at h₁
      linarith
    · -- if $f(n) > n$
      have : f n > f (f n) := by
        rw [h₀]
        exact hfn
      specialize h₁ (f n) (by linarith [h₀ n])
      rw [Function.comp_apply, Function.comp_apply] at h₁
      linarith

```