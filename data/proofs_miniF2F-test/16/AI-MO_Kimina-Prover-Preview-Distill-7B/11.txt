-- Prove that $f(n) ≤ n$ for all $n$ by induction.
  have H (n : ℕ) (hn : 0 < n) : f n ≤ n := by
    induction' n using Nat.strong_induction_on with n ih
    cases' n with n
    · simp [h₀]
    · rw [Nat.add_one_sub_one]
      have : f (n + 1) ≤ n + 1 := ih (by linarith) (by linarith)
      linarith

  -- Prove that $f(n) ≥ n$ for all $n$ by induction.
  have H' (n : ℕ) (hn : 0 < n) : n ≤ f n := by
    induction' n using Nat.strong_induction_on with n ih
    cases' n with n
    · simp [h₀]
    · rw [Nat.add_one_sub_one]
      have : f (n + 1) ≥ n + 1 := ih (by linarith) (by linarith)
      linarith

  -- Combine the two inequalities to conclude $f(n) = n$.
  intro n hn
  exact Nat.le_antisymm (H n hn) (H' n hn)
```