have step : ∀ n, 0 < n → f n = n := by
    intro n hn
    induction n using Nat.strong_induction_on with
    | h n ih =>
      by_contra! h'
      have h₂ : f n > 0 := h₀ n
      have h₃ : f (f n) < f (n + 1) := h₁ n (by linarith)
      have h₄ : f n ≤ n := by
        by_contra h₅
        have h₆ : n < f n := by omega
        have h₇ : f (f n) < f (n + 1) := h₁ n (by linarith)
        have h₈ : f n ≥ n + 1 := by omega
        have h₉ : f (f n) ≥ f (n + 1) := by
          have h₁₀ : f n ≥ n + 1 := by omega
          have h₁₁ : f (f n) ≥ f (n + 1) := by
            apply?
          omega
        omega
      have h₆ : f n < n + 1 := by omega
      have h₇ : f n ≤ n := by omega
      have h₈ : f n = n := by
        have h₉ : f n ≤ n := by omega
        have h₁₀ : f n ≥ n := by
          by_contra h₁₁
          have h₁₂ : f n < n := by omega
          have h₁₃ : f (f n) < f (n + 1) := h₁ n (by linarith)
          have h₁₄ : f (f n) ≤ f n := by
            apply?
          omega
        omega
      omega
    <;> omega
  
  have h₂ : ∀ n, 0 < n → f n = n := by
    exact step
  exact h₂
```