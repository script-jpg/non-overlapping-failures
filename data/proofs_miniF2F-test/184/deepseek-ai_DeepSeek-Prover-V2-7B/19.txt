have h₁ : 0 < 2 ^ n := by positivity
  have h₂ : 0 < 2 ^ (n + 2) := by positivity
  have h₃ : 0 < 2 ^ (n + 3) := by positivity
  have h₄ : (3 ^ 2 ^ n - 1) % 2 ^ (n + 3) = 2 ^ (n + 2) := by
    have h₅ : 3 ^ 2 ^ n % 2 ^ (n + 3) = 3 ^ 2 ^ n % 2 ^ (n + 3) := by rfl
    have h₆ : 3 ^ 2 ^ n % 2 ^ (n + 3) = 1 + 2 ^ (n + 2) := by
      have h₇ : ∀ n : ℕ, 0 < n → 3 ^ 2 ^ n % 2 ^ (n + 3) = 1 + 2 ^ (n + 2) := by
        intro n hn
        induction' hn with n hn
        · norm_num
        · simp_all [pow_succ, pow_mul, Nat.mul_mod, Nat.pow_mod, Nat.add_mod]
          <;> omega
      exact h₇ n h₀
    have h₈ : (3 ^ 2 ^ n - 1) % 2 ^ (n + 3) = 2 ^ (n + 2) := by
      rw [← Nat.mod_add_div (3 ^ 2 ^ n) (2 ^ (n + 3))]
      simp [h₆, Nat.add_mod, Nat.mul_mod, Nat.pow_mod, Nat.mod_eq_of_lt]
      <;> omega
    exact h₈
  exact h₄

  <;> omega

  <;> simp_all [Nat.mod_eq_of_lt]
  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;> omega

  <;>