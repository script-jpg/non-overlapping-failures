have A (n : â„•) : (3 ^ 2 ^ n - 1) % 2 ^ (n + 2) = 2 ^ n * 2 := by
    induction n with
    | zero => simp
    | succ n ih =>
      rw [pow_add, pow_one, mul_assoc, Nat.add_sub_assoc, ih, Nat.mul_mod]
      have t1 : 3 % 2 = 1 := by norm_num
      have t2 : 3 ^ 2 ^ n % 2 ^ (n + 1) = 1 := by
        rw [Nat.pow_mod, t1]
      simp [t2]

  have : (3 ^ 2 ^ n - 1) % 2 ^ (n + 3) = 2 ^ (n + 2) := by
    rw [show n + 3 = (n + 2) + 1 by ring, Nat.pow_succ, Nat.mul_mod]
    have t1 : 3 % 2 = 1 := by norm_num
    have t2 : 3 ^ 2 ^ n % 2 ^ (n + 2) = 1 := by
      rw [Nat.pow_mod, t1]
    simp [t2]
  assumption
```