/-
  Given positive real numbers \(a\) and \(b\) such that \(b \leq a\), we need to show that:
  \[
  \frac{a + b}{2} - \sqrt{ab} \leq \frac{(a - b)^2}{8b}
  \]
  To prove this, we start by considering the inequality:
  \[
  \frac{a + b}{2} - \sqrt{ab} \leq \frac{(a - b)^2}{8b}
  \]
  We can rewrite the left-hand side as:
  \[
  \frac{a + b}{2} - \sqrt{ab} = \frac{a + b - 2\sqrt{ab}}{2}
  \]
  We need to show that:
  \[
  \frac{a + b - 2\sqrt{ab}}{2} \leq \frac{(a - b)^2}{8b}
  \]
  Multiplying both sides by 8b to clear the denominator, we get:
  \[
  4(a + b - 2\sqrt{ab}) \leq (a - b)^2
  \]
  Expanding and simplifying the left-hand side:
  \[
  4a + 4b - 8\sqrt{ab} \leq a^2 - 2ab + b^2
  \]
  Rearranging terms, we have:
  \[
  4a + 4b - 8\sqrt{ab} - a^2 + 2ab - b^2 \leq 0
  \]
  Simplifying further:
  \[
  -a^2 + 4a + b^2 - 8\sqrt{ab} + 2ab \leq 0
  \]
  Given that \(b \leq a\), we can use the fact that \(\sqrt{ab} \leq \frac{a + b}{2}\) and \(\sqrt{ab} \leq \frac{a - b}{2}\) to bound the terms. Specifically, we use the non-negativity of squares and the properties of square roots to conclude that the inequality holds.
  -/
  -- We start by noting that the square root of the product of a and b is non-negative.
  have h₂ : 0 ≤ Real.sqrt (a * b) := Real.sqrt_nonneg (a * b)
  -- We use the fact that the square of any real number is non-negative to establish the inequality.
  have h₃ : 0 ≤ (a - b) ^ 2 := sq_nonneg (a - b)
  have h₄ : 0 ≤ (a + b) ^ 2 := sq_nonneg (a + b)
  have h₅ : 0 ≤ (a + b - 2 * Real.sqrt (a * b)) ^ 2 := sq_nonneg (a + b - 2 * Real.sqrt (a * b))
  -- We use the non-negativity of squares and the properties of square roots to conclude the inequality.
  nlinarith [sq_sqrt (mul_nonneg h₀.1.le h₀.2.le), h₁, sq_sqrt (mul_nonneg h₀.1.le h₀.2.le),
    sq_nonneg (a - b), sq_nonneg (a + b - 2 * Real.sqrt (a * b))]
```