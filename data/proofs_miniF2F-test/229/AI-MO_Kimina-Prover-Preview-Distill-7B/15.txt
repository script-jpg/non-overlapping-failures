-- prove that $|a|+|b|\geq|a+b|$
  have abs_add {a b : ℝ} : abs a + abs b ≥ abs (a + b) := by
    rw [abs_add]
    linarith

  -- prove that $f(x)\geq15$
  have h₃ : 15 ≤ f x := by
    calc
      15 = abs (p - 15) := by
        have : p - 15 < 0 := by linarith
        rw [abs_of_neg this]
        linarith
      _ = abs (p - 15) + (abs (x - p) + abs (x - 15) + abs (x - p - 15)) - (abs (x - p) + abs (x - 15) + abs (x - p - 15)) := by ring
      _ ≤ abs (p - 15 + (x - p) + (x - 15) + (x - p - 15)) - (abs (x - p) + abs (x - 15) + abs (x - p - 15)) := by
        apply sub_le_sub_right
        apply abs_add
        apply abs_add
      _ = abs (x - p - 15) - (abs (x - p) + abs (x - 15) + abs (x - p - 15)) := by ring
      _ ≤ abs (x - p - 15) - abs (x - p - 15) := by
        apply sub_le_sub_right
        apply abs_add
        apply abs_sub (a := x) (b := p + 15)
        rw [abs_of_pos]
        linarith
        linarith
      _ = 0 := by
        rw [neg_self_add_cancel]
      _ ≤ f x := by
        simp only [h₂]
        ring_nf

  -- to prove that 15 is indeed the minimum, we need to show that 15 is achievable
  -- we will show that when x = 15, f(x) = 15
  have h₄ : f 15 = 15 := by
    simp only [h₂]
    have : abs (15 - p) = 15 - p := by
      rw [abs_of_nonneg]
      linarith
    rw [this]
    have : abs (15 - 15) = 0 := by
      rw [abs_self_sub_self]
    rw [this]
    have : abs (15 - p - 15) = abs (-p) := by
      rw [sub_add_eq_sub_sub]
      have : 15 - p - 15 = -p := by ring
      rw [this]
    rw [this]
    have : abs (-p) = abs p := by
      rw [abs_neg]
    rw [this]
    have : abs p + abs (15 - p) = 15 := by
      rw [abs_of_nonneg (by linarith)]
      simp only [neg_sub_neg_eq_add]
      rw [abs_of_nonneg (by linarith)]
      linarith
    rw [this]

  -- so f(x) achieves 15 when x = 15, and f(x) ≥ 15 for all x in [p, 15]
  -- we can conclude that 15 is the minimum value of f(x) on [p, 15]
  -- also, we have shown that 15 is achievable
  -- so 15 is the minimum value of f(x) on [p, 15]
  -- and it is achieved when x = 15
  -- so the answer is 015
  have h₅ : ∀ x ∈ Set.Icc p 15, 15 ≤ f x := by
    intro x hx
    have : p ≤ x ∧ x ≤ 15 := by
      exact hx
    apply h₃
  exact h₅ x h₁

```