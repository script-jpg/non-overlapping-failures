-- We have $x-p\geq0$, $x-15\leq0$ and $x-p-15\leq0$.

  have : x - p ≥ 0 := by linarith
  have : x - 15 ≤ 0 := by linarith
  have : x - p - 15 ≤ 0 := by linarith

  -- So, $|x-p|=x-p$, $|x-15|=-x+15$ and $|x-p-15|=-x+p+15$.

  rw [abs_of_nonneg (by linarith), abs_of_nonpos (by linarith), abs_of_nonpos (by linarith)]

  -- Hence, $f(x)=x-p-x+15-x+p+15=-3x+30$.

  -- So, when $x$ increases, $f(x)$ decreases. Therefore, $f(x)$ takes its minimum value at $x=15$.

  -- At $x=15$, $f(x)=15-p-15-p+15=-2p+15\geq0$.

  linarith
```