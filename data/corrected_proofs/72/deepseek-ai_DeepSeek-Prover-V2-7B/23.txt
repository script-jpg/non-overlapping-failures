rcases h₁ with ⟨x, hx⟩
rcases h₂ with ⟨t, ht⟩
have : n ≥ 64 := by
  -- We need to show that n ≥ 64. We start by noting that n is both a perfect square and a perfect cube.
  -- This means n = x^2 = t^3 for some integers x and t.
  -- We will use the fact that if n < 64, then n cannot be both a perfect square and a perfect cube.
  by_contra! h
  -- Suppose n < 64. We will show that this leads to a contradiction.
  have h' : x ≤ 8 := by
    -- Since n = x^2 < 64, we have x^2 < 64, which implies x ≤ 8.
    nlinarith [pow_two_nonneg x, pow_two_nonneg (x - 1)]
  have h'' : t ≤ 4 := by
    -- Similarly, since n = t^3 < 64, we have t^3 < 64, which implies t ≤ 4.
    nlinarith [pow_two_nonneg t, pow_two_nonneg (t - 1), pow_two_nonneg (t - 2),
      pow_two_nonneg (t - 3)]
  -- We now check all possible values of x and t in the range from 1 to 8.
  interval_cases x <;> interval_cases t <;> norm_num at hx ht <;> omega
-- Since we have shown that n ≥ 64, we conclude that the smallest such n is 64.
linarith